---
layout: post
title: POLARDB-02-PolarDB 是什么
date:  2019-11-20 11:18:30 +0800
categories: [Database]
tags: [database, distributed-database, olap, oltp, htap, sh]
published: true
---

# 什么是 POLARDB

POLARDB是阿里云自研的下一代关系型云数据库，有三个独立的引擎，分别可以100%兼容MySQL、100%兼容PostgreSQL、高度兼容Oracle语法，存储容量最高可达100TB，单库最多可扩展到16个节点，适用于企业多样化的数据库应用场景。

POLARDB采用存储和计算分离的架构，所有计算节点共享一份数据，提供分钟级的配置升降级、秒级的故障恢复、全局数据一致性和免费的数据备份容灾服务。POLARDB既融合了商业数据库稳定可靠、高性能、可扩展的特征，又具有开源云数据库简单开放、自我迭代的优势，例如POLARDB for MySQL性能最高可以提升至MySQL的6倍，而成本只有商用数据库的1/10。

## 集群架构，计算与存储分离。

POLARDB采用多节点集群的架构，集群中有一个Writer节点（主节点）和多个Reader节点（读节点），各节点通过分布式文件系统（PolarFileSystem）共享底层的存储（PolarStore）。

## 读写分离。

当应用程序使用集群地址时，POLARDB for MySQL/PostgreSQL通过内部的代理层（Proxy）对外提供服务，应用程序的请求都先经过代理，然后才访问到数据库节点。

代理层不仅可以做安全认证和保护，还可以解析SQL，把写操作（例如事务、UPDATE、INSERT、DELETE、DDL等）发送到主节点，把读操作（例如SELECT）均衡地分发到多个只读节点，实现自动的读写分离。

对于应用程序来说，就像使用一个单点的MySQL数据库一样简单。

内部的代理层（Proxy）后续将支持POLARDB兼容Oracle语法引擎。

## 相关概念

了解以下概念，将帮助您更好地选购和使用POLARDB：

集群：POLARDB采用集群架构，一个集群包含一个主节点和多个读节点。

地域：地域是指物理的数据中心。一般情况下，POLARDB集群应该和ECS实例位于同一地域，以实现最高的访问性能。

可用区：可用区是指在某个地域内拥有独立电力和网络的物理区域。同一地域的不同可用区之间没有实质性区别。

规格：每个节点的资源配置，例如2核4GB。

# 产品优势

您可以像使用MySQL、PostgreSQL、Oracle一样使用POLARDB，此外，POLARDB还有传统数据库不具备的优势：

## 容量大

最高100TB，您不再需要因为单机容量的天花板而去购买多个实例做分片，由此简化应用开发，降低运维负担。

## 高性价比

POLARDB的计算与存储分离，每增加一个只读节点只收取计算资源的费用，而传统的只读节点同时包含计算和存储资源，每增加一个只读节点需要支付相应的存储费用。

POLARDB的存储空间无需手动配置，根据数据量自动伸缩，您只需为实际使用的数据量按小时付费。

为了更好地帮助您降低存储成本，POLARDB推出了预付费形式的存储包。

当您的数据量较大时，推荐您使用POLARDB存储包，相比按小时付费，预付费购买存储包有折扣，购买的容量越大，折扣力度就越大。

## 分钟级弹性

存储与计算分离的架构，配合共享存储，使得快速升级成为现实。

## 读一致性

集群地址利用LSN（Log Sequence Number）确保读取数据时的全局一致性，避免因为主备延迟引起的不一致。

## 毫秒级延迟（物理复制）

利用基于Redo的物理复制代替基于Binlog的逻辑复制，提升主备复制的效率和稳定性。即使对大表进行加索引、加字段等DDL操作，也不会造成数据库的延迟。

## 无锁备份

利用存储层的快照，可以在60秒内完成对2TB数据量大小的数据库的备份，而且备份过程不会对数据库加锁，对应用程序几乎无影响，全天24小时均可进行备份。

# 如何使用POLARDB

您可以通过以下方式管理POLARDB集群，包括创建集群、创建数据库、创建账号等。

控制台：提供图形化的Web界面，操作方便。

CLI：控制台上所有的操作都可以通过CLI实现。

SDK：控制台上所有的操作都可以通过SDK实现。

API：控制台上所有的操作都可以通过API实现。

创建POLARDB集群后，您可以通过以下方式连接POLARDB集群：

DMS：您可以通过DMS连接POLARDB集群，在Web界面进行数据库开发工作。

客户端：您可以使用通用的数据库客户端工具连接POLARDB集群。

例如，MySQL-Front、pgAdmin等。

# 产品优势

## 简单易用

POLARDB兼容多款流行的关系型数据库引擎，完全兼容MySQL/PostgreSQL，高度兼容Oracle语法，代码/应用无需修改或只需少量修改。

## 极致性能，降低成本

采用计算和存储分离架构，大幅提升了资源利用率与性能。

深度优化数据库内核，同时采用物理复制、RDMA高速网络和分布式共享存储，大幅提高性能。

集群包含一个主节点和最多15个只读节点，满足高并发场景对性能的要求，尤其适用于读多写少的场景。

基于共享存储的一写多读集群，数据只需要一次修改，所有节点立即生效。

## 海量存储，支持上百TB级别数据

采用分布式块存储设计和文件系统，使得存储容量不限制于单节点的规格，能够轻松扩展，应对上百TB级别的数据规模。

## 高可用和高可靠保障，数据安全可靠

共享分布式存储的设计，彻底解决了主从（Master-Slave）异步复制所带来的备库数据非强一致的缺陷，使得整个数据库集群在应对任何单点故障时，可以保证数据零丢失。

多可用区架构，在多个可用区内都有数据备份，为数据库提供容灾和备份。

采用白名单、VPC网络、数据多副本存储等全方位的手段，对数据库数据访问、存储、管理等各个环节提供安全保障。

## 快速弹性，应对不确定的业务增长

配置升降级，5分钟生效。

采用容器虚拟化技术和共享的分布式块存储技术，使得数据库服务器的CPU、内存能够快速扩容。

增减节点，5分钟生效。

通过动态增减节点提升性能或节省成本。通过使用集群地址，可屏蔽底层的变化，应用对于增减节点无感知。

存储空间无需手动配置，根据数据量自动伸缩，您只需为实际使用的数据库容量付费。

## 无锁备份

利用底层分布式存储的快照技术，只需分钟级别即可完成对上TB数据量大小的数据库的备份，且整个备份过程不需要加锁，效率更高，影响更小。

# 使用限制

参考 [使用限制](https://help.aliyun.com/document_detail/72671.html?spm=a2c4g.11186623.6.549.4fec46f63KhNhc)

# 参考资料

[什么是POLARDB](https://help.aliyun.com/document_detail/58764.html?spm=a2c4g.11186623.6.544.358362dcnOXGli)

[产品需求](https://help.aliyun.com/document_detail/96308.html?spm=a2c4g.11186623.6.547.4fec46f63KhNhc)

* any list
{:toc}