---
layout: post
title: 分布式一致性原理与实践-02-一致性协议
date:  2023-03-07 +0800
categories: [Distributed]
tags: [distributed, learn, protocol, sh]
published: true
---

# 一致性协议

在第 1 章内容的讲解中我们也已经提到，在对一个分布式系统进行架构设计的过程中，往往会在系统的可用性和数据一致性之间进行反复的权衡，于是就产生了一系列的一致性协议。

为了解决分布式一致性问题，在长期的探索研究过程中，涌现出了一大批经典的一致性协议和算法，其中最著名的就是二阶段提交协议、三阶段提交协议和Paxos算法了。

本章将着重向读者介绍二阶段和三阶段提交协议的设计与算法实现流程，指出它们各自的优缺点，同时重点介绍Paxos算法。

# 2pc

> [2pc](https://houbb.github.io/2018/09/02/sql-distribute-transaction-2pc)

# 3pc

> [3pc](https://houbb.github.io/2018/09/02/sql-distribute-transaction-3pc)

# paxos

[paxos](https://houbb.github.io/2018/10/30/paxos)

# 小结

在本章中，我们主要从协议设计和原理实现角度详细讲解了二阶段提交协议、三阶段提交协议和Paxos这三种典型的一致性算法。

可以说，这三种一致性协议都是非常优秀的分布式一致性协议，都从不同方面不同程度地解决了分布式数据一致性问题，使用范围都非常广泛。

其中二阶段提交协议解决了分布式事务的原子性问题，保证了分布式事务的多个参与者要么都执行成功，要么都执行失败。

但是，在二阶段解决部分分布式事务问题的同时，依然存在一些难以解决的诸如同步阻塞、无限期等待和“脑裂”等问题。

三阶段提交协议则是在二阶段提交协议的基础上，添加了PreCommit过程，从而避免了二阶段提交协议中的无限期等待问题。

而Paxos算法引入了“过半”的理念，通俗地讲就是少数服从多数的原则。

同时，Paxos 算法支持分布式节点角色之间的轮换，这极大地避免了分布式单点的出现，因此Paxos算法既解决了无限期等待问题，也解决了“脑裂”问题，是目前来说最优秀的分布式一致性协议之一。

# 参考资料

《分布式一致性原理与实践》

* any list
{:toc}