---
layout: post
title: 微信公众号开发对接-01-入门介绍
date: 2022-02-23 21:01:55 +0800 
categories: [Wechat]
tags: [Wechat, sh]
published: true
---

# 微信公众平台开发概述

微信公众平台是运营者通过公众号为微信用户提供资讯和服务的平台，而公众平台开发接口则是提供服务的基础，开发者在公众平台网站中创建公众号、获取接口权限后，可以通过阅读本接口文档来帮助开发。如遇问题，可前往 #公众号社区 发帖交流。

为了识别用户，每个用户针对每个公众号会产生一个安全的OpenID，如果需要在多公众号、移动应用之间做用户共通，则需前往微信开放平台，将这些公众号和应用绑定到一个开放平台账号下，绑定后，一个用户虽然对多个公众号和应用有多个不同的OpenID，但他对所有这些同一开放平台账号下的公众号和应用，只有一个UnionID，可以在用户管理-获取用户基本信息（UnionID机制）文档了解详情。

请开发者注意：

1、微信公众平台开发是指为微信公众号进行业务开发，为移动应用、PC端网站、公众号第三方平台（为各行各业公众号运营者提供服务）的开发，请前往微信开放平台接入。

2、在申请到认证公众号之前，你可以先通过测试号申请系统，快速申请一个接口测试号，立即开始接口测试开发。

3、在开发过程中，可以使用接口调试工具来在线调试某些接口。

4、每个接口都有每日接口调用频次限制，可以在公众平台官网-开发者中心处查看具体频次。

5、在开发出现问题时，可以通过接口调用的返回码，以及报警排查指引（在公众平台官网-开发者中心处可以设置接口报警），来发现和解决问题。

6、公众平台以access_token为接口调用凭据，来调用接口，所有接口的调用需要先获取access_token，access_token在2小时内有效，过期需要重新获取，但1天内获取次数有限，开发者需自行存储，详见获取接口调用凭据（access_token）文档。

7、公众平台接口调用仅支持80端口。

公众号主要通过公众号消息会话和公众号内网页来为用户提供服务的，下面分别介绍这两种情况：

## 1、公众号消息会话

公众号是以微信用户的一个联系人形式存在的，消息会话是公众号与用户交互的基础。

目前公众号内主要有这样几类消息服务的类型，分别用于不同的场景。

1）群发消息：公众号可以以一定频次（订阅号为每天1次，服务号为每月4次），向用户群发消息，包括文字消息、图文消息、图片、视频、语音等。

2）被动回复消息：在用户给公众号发消息后，微信服务器会将消息发到开发者预先在开发者中心设置的服务器地址（开发者需要进行消息真实性验证），公众号可以在5秒内做出回复，可以回复一个消息，也可以回复命令告诉微信服务器这条消息暂不回复。被动回复消息可以设置加密（在公众平台官网的开发者中心处设置，设置后，按照消息加解密文档来进行处理。其他3种消息的调用因为是API调用而不是对请求的返回，所以不需要加解密）。

3）客服消息：用户在公众号内发消息/触发特定行为后，公众号可以给用户发消息。具体发送规则见公众号客服消息文档：https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Service_Center_messages.html。

4）模板消息：在需要对用户发送服务通知（如刷卡提醒、服务预约成功通知等）时，公众号可以用特定内容模板，主动向用户发送消息。

## 2、公众号内网页

许多复杂的业务场景，需要通过网页形式来提供服务，这时需要用到：

1）网页授权获取用户基本信息：通过该接口，可以获取用户的基本信息（获取用户的OpenID是无需用户同意的，获取用户的基本信息则需用户同意）

2）微信JS-SDK：是开发者在网页上通过JavaScript代码使用微信原生功能的工具包，开发者可以使用它在网页上录制和播放微信语音、监听微信分享、上传手机本地图片、拍照等许多能力。



# 开发者规范

开发者进行公众号开发时，除了需要满足每个接口的规范限制、调用频率限制外，还需特别注意模版消息、用户数据等敏感信息的使用规范。

## 涉及用户数据时：

您的服务需要收集用户任何数据的，必须事先获得用户的明确同意，且仅应当收集为运营及功能实现目的而必要的用户数据， 同时应当告知用户相关数据收集的目的、范围及使用方式等，保障用户知情权。

您收集用户的数据后，必须采取必要的保护措施，防止用户数据被盗、泄漏等。

您在特定微信公众号中收集的用户数据仅可以在该特定微信公众号中使用，不得将其使用在该特定微信公众号之外或为其他任何目的进行使用，也不得以任何方式将其提供给他人。

如果腾讯认为您收集、使用用户数据的方式，可能损害用户体验，腾讯有权要求您删除相关数据并不得再以该方式收集、使用用户数据。

一旦您停止使用本服务，或腾讯基于任何原因终止您使用本服务，您必须立即删除全部因使用本服务而获得的数据（包括各种备份）， 且不得再以任何方式进行使用。

## 其他规范：

- 请勿为任何用户自动登录到微信公众平台提供代理身份验证凭据。

- 请勿提供跟踪功能，包括但不限于识别其他用户在个人主页上查看、点击等操作行为。

- 请勿自动将浏览器窗口定向到其他网页。

- 请勿设置或发布任何违反相关法规、公序良俗、社会公德等的玩法、内容等。

- 请勿公开表达或暗示，您与腾讯之间存在合作关系，包括但不限于相互持股、商业往来或合作关系等，或声称腾讯对您的认可。


完整的开发者规范和接口限制，请详见开发者接口文档，以及腾讯微信公众平台开发者协议。

# 接口权限

> [接口权限](https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html)

> [返回编码](https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Global_Return_Code.html)

# 参考资料

https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html

* any list
{:toc}