---
layout: post
title: æ“ä½œç³»ç»Ÿ-01-Mac
date:  2016-10-15 23:56:21 +0800
categories: [OS]
tags: [mac]
published: true
---

# Key icon

| icon | key     |
|------|---------|
| âŒ˜    | command |
| âŒ¥    | option  |
| â‡§    | shift   |
| â‡ª    | caps lock |
| âŒƒ    | control |
| â†©    | return  |
| âŒ…    | enter   |
| â†–    | home    |
| â†˜    | end     |
| â‡Ÿ    | pagedown |
| â‡    | pageup  |
| â‹    | esc     |

# Brew 
    
[brew](http://brew.sh/) åˆå« Homebrewï¼Œæ˜¯ Mac OSXä¸Šçš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚ç±»ä¼¼ ubuntu ä¸­çš„ ```apt-get```ã€‚


- Install

```
$   /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

å¦‚ä¸‹

```
houbinbindeMacBook-Pro:tools houbinbin$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
==> This script will install:
/usr/local/bin/brew
/usr/local/share/doc/homebrew
/usr/local/share/man/man1/brew.1
/usr/local/share/zsh/site-functions/_brew
/usr/local/etc/bash_completion.d/brew
/usr/local/Homebrew
==> The following existing directories will be made group writable:
/usr/local/bin
/usr/local/etc
/usr/local/lib
/usr/local/share
/usr/local/share/doc
/usr/local/share/man
/usr/local/share/man/man1
/usr/local/share/man/man3
/usr/local/share/man/man5
/usr/local/share/man/man7
==> The following existing directories will have their owner set to houbinbin:
/usr/local/bin
/usr/local/lib
/usr/local/share
/usr/local/share/doc
/usr/local/share/man
/usr/local/share/man/man1
/usr/local/share/man/man3
/usr/local/share/man/man5
/usr/local/share/man/man7
==> The following existing directories will have their group set to admin:
/usr/local/bin
/usr/local/lib
/usr/local/share
/usr/local/share/doc
/usr/local/share/man
/usr/local/share/man/man1
/usr/local/share/man/man3
/usr/local/share/man/man5
/usr/local/share/man/man7
==> The following new directories will be created:
/usr/local/Cellar
/usr/local/Homebrew
/usr/local/Frameworks
/usr/local/etc
/usr/local/opt
/usr/local/sbin
/usr/local/share/zsh
/usr/local/share/zsh/site-functions
/usr/local/var

Press RETURN to continue or any other key to abort
==> /usr/bin/sudo /bin/chmod u+rwx /usr/local/bin /usr/local/etc /usr/local/lib /usr/local/share /usr/local/share/doc /usr/local/share/man /usr/local/share/man/man1 /usr/local/share/man/man3 /usr/local/share/man/man5 /usr/local/share/man/man7
Password:
==> /usr/bin/sudo /bin/chmod g+rwx /usr/local/bin /usr/local/etc /usr/local/lib /usr/local/share /usr/local/share/doc /usr/local/share/man /usr/local/share/man/man1 /usr/local/share/man/man3 /usr/local/share/man/man5 /usr/local/share/man/man7
==> /usr/bin/sudo /usr/sbin/chown houbinbin /usr/local/bin /usr/local/lib /usr/local/share /usr/local/share/doc /usr/local/share/man /usr/local/share/man/man1 /usr/local/share/man/man3 /usr/local/share/man/man5 /usr/local/share/man/man7
==> /usr/bin/sudo /usr/bin/chgrp admin /usr/local/bin /usr/local/lib /usr/local/share /usr/local/share/doc /usr/local/share/man /usr/local/share/man/man1 /usr/local/share/man/man3 /usr/local/share/man/man5 /usr/local/share/man/man7
==> /usr/bin/sudo /bin/mkdir -p /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/opt /usr/local/sbin /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var
mkdir: /usr/local/etc: Not a directory
Failed during: /usr/bin/sudo /bin/mkdir -p /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/opt /usr/local/sbin /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var
```


<label class="label label-danger">Error</label>

1ã€ é‡åˆ°è¿™ä¸ªæŠ¥é”™

```mkdir: /usr/local/etc: Not a directory```

ä¸çŸ¥é“åŸæ¥ä¸ºä½•æœ‰ä¸€ä¸ª ```etc``` æ–‡ä»¶ã€‚ä¼°è®¡æ˜¯ redis ç›¸å…³çš„ã€‚å¤åˆ¶æˆäº†å…¶ä»–åç§°ç„¶ååˆ é™¤äº†ã€‚é‡æ–°è·‘ã€‚

2ã€ ç¬¬äºŒä¸ªé—®é¢˜

```
/usr/local/Homebrew/.git: Permission denied
Failed during: git init -q
```

æˆ‘çš„è§£å†³æ–¹å¼, åˆ é™¤2ä¸ªæ–‡ä»¶å¤¹

```
sudo rm -rf /usr/local/Cellar
sudo rm -rf /usr/local/Homebrew
```

é‡æ–°è¿è¡Œ

```
houbinbindeMacBook-Pro:local houbinbin$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
==> This script will install:
/usr/local/bin/brew
/usr/local/share/doc/homebrew
/usr/local/share/man/man1/brew.1
/usr/local/share/zsh/site-functions/_brew
/usr/local/etc/bash_completion.d/brew
/usr/local/Homebrew
==> The following new directories will be created:
/usr/local/Cellar
/usr/local/Homebrew

Press RETURN to continue or any other key to abort
==> /usr/bin/sudo /bin/mkdir -p /usr/local/Cellar /usr/local/Homebrew
==> /usr/bin/sudo /bin/chmod g+rwx /usr/local/Cellar /usr/local/Homebrew
==> /usr/bin/sudo /bin/chmod 755 /usr/local/share/zsh /usr/local/share/zsh/site-functions
==> /usr/bin/sudo /usr/sbin/chown houbinbin /usr/local/Cellar /usr/local/Homebrew
==> /usr/bin/sudo /usr/bin/chgrp admin /usr/local/Cellar /usr/local/Homebrew
==> Downloading and installing Homebrew...
remote: Counting objects: 5292, done.
remote: Compressing objects: 100% (3328/3328), done.
remote: Total 5292 (delta 2877), reused 3505 (delta 1791), pack-reused 0
Receiving objects: 100% (5292/5292), 2.78 MiB | 82.00 KiB/s, done.
Resolving deltas: 100% (2877/2877), done.
From https://github.com/Homebrew/brew
 * [new branch]      master     -> origin/master
 * ...
HEAD is now at fa34aa2 Merge pull request #2232 from reitermarkus/spec-mktmpdir
==> Tapping homebrew/core
Cloning into '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core'...
remote: Counting objects: 4165, done.
remote: Compressing objects: 100% (4018/4018), done.
remote: Total 4165 (delta 32), reused 434 (delta 10), pack-reused 0
Receiving objects: 100% (4165/4165), 3.31 MiB | 62.00 KiB/s, done.
Resolving deltas: 100% (32/32), done.
Checking connectivity... done.
Tapped 4016 formulae (4,196 files, 10.4M)
==> Cleaning up /Library/Caches/Homebrew...
==> Migrating /Library/Caches/Homebrew to /Users/houbinbin/Library/Caches/Homebrew...
==> Deleting /Library/Caches/Homebrew...
Already up-to-date.
Error: Failed to link all completions, docs and manpages:
  Permission denied - (../../../Homebrew/completions/zsh/_brew, /usr/local/share/zsh/site-functions/_brew)
Failed during: /usr/local/bin/brew update --force
```


æ²¡æœ‰é”™ï¼ŒåˆæŠ¥é”™äº†ã€‚ã€‚ã€‚å¿ƒç´¯ã€‚å› ä¸ºæ­¤æ—¶çš„ ```brew``` å‘½ä»¤å·²ç»æ˜¯æœ‰æ•ˆçš„äº†ï¼Œæˆ‘æƒ³ç›´æ¥å¸è½½å†é‡è£…ã€‚æˆ–è€…å…ˆç”¨ç€å†è¯´ã€‚


- Un-install

```
$   /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)"
```

åˆ é™¤åé‡æ–°å®‰è£…ã€‚OKay


- Usage

```
houbinbindeMacBook-Pro:local houbinbin$ brew install tree
Updating Homebrew...
==> Downloading https://homebrew.bintray.com/bottles/tree-1.7.0.el_capitan.bottle.1.tar.gz
######################################################################## 100.0%
curl: (33) HTTP server doesn't seem to support byte ranges. Cannot resume.
==> Trying a full download
######################################################################## 100.0%
==> Pouring tree-1.7.0.el_capitan.bottle.1.tar.gz
ğŸº  /usr/local/Cellar/tree/1.7.0: 7 files, 113.3K
```

ä½¿ç”¨ ```tree --help``` å¯æŸ¥çœ‹ æ­¤å‘½ä»¤ä½¿ç”¨æ–¹å¼ã€‚


# Command

ä¸€ã€File tree

> [zh_CN](http://yijiebuyi.com/blog/c0defa3a47d16e675d58195adc35514b.html)

```
find . -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
```

> [install tree](http://www.qiansw.com/mac-os-x-install-tree-command.html)

äºŒã€Get ip

```
$   ifconfig
```

> port

- find port

```
sudo lsof -i :8080

COMMAND   PID      USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
java    15072 houbinbin   48u  IPv6 0xf1b9bfa3c85fd519      0t0  TCP *:http-alt (LISTEN)
```

- kill thread

```
sudo kill -9 15072
```


# ```.bash_profile```


æ–‡ä»¶ä¿®æ”¹é”™è¯¯,å¯¼è‡´å‘½ä»¤æ— æ³•ä½¿ç”¨ã€‚

```
export PATH=/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
```

ç„¶åä¿®æ”¹å›æ¥

```
source ~/.bash_profile
```

make it work at once.


- add new bin

```
M3_HOME=/usr/local/maven/maven3.3.9
ARC_HOME=/Users/houbinbin/it/code/arcanist

PATH=$ARC_HOME/bin:$M3_HOME/bin:$PATH
```

# zip & unzip

> zip

æœ€é€šä¿—çš„ç”¨æ³•

```
zip -q -r -e -m -o myfile.zip someThing
```

-q è¡¨ç¤ºä¸æ˜¾ç¤ºå‹ç¼©è¿›åº¦çŠ¶æ€

-r è¡¨ç¤ºå­ç›®å½•å­æ–‡ä»¶å…¨éƒ¨å‹ç¼©ä¸ºzip  //è¿™éƒ¨æ¯”è¾ƒé‡è¦ï¼Œä¸ç„¶çš„è¯åªæœ‰somethingè¿™ä¸ªæ–‡ä»¶å¤¹è¢«å‹ç¼©ï¼Œé‡Œé¢çš„æ²¡æœ‰è¢«å‹ç¼©è¿›å»

-e è¡¨ç¤ºä½ çš„å‹ç¼©æ–‡ä»¶éœ€è¦åŠ å¯†ï¼Œç»ˆç«¯ä¼šæç¤ºä½ è¾“å…¥å¯†ç çš„

// è¿˜æœ‰ç§åŠ å¯†æ–¹æ³•ï¼Œè¿™ç§æ˜¯ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œåšçš„ï¼Œæ¯”å¦‚zip -r -P Password01! modudu.zip SomeDir, å°±ç›´æ¥ç”¨Password01!æ¥åŠ å¯†modudu.zipäº†ã€‚

-m è¡¨ç¤ºå‹ç¼©å®Œåˆ é™¤åŸæ–‡ä»¶

-o è¡¨ç¤ºè®¾ç½®æ‰€æœ‰è¢«å‹ç¼©æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ä¸ºå½“å‰å‹ç¼©æ—¶é—´



å½“è·¨ç›®å½•çš„æ—¶å€™æ˜¯è¿™ä¹ˆæ“ä½œçš„

zip -q -r -e -m -o '\user\someone\someDir\someFile.zip' '\users\someDir'

> unzip

```
unzip [é€‰é¡¹] å‹ç¼©æ–‡ä»¶å.zip
```

å„é€‰é¡¹çš„å«ä¹‰åˆ†åˆ«ä¸ºï¼š

-x æ–‡ä»¶åˆ—è¡¨ è§£å‹ç¼©æ–‡ä»¶ï¼Œä½†ä¸åŒ…æ‹¬æŒ‡å®šçš„fileæ–‡ä»¶ã€‚

-v æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ç›®å½•ï¼Œä½†ä¸è§£å‹ã€‚

-t æµ‹è¯•æ–‡ä»¶æœ‰æ— æŸåï¼Œä½†ä¸è§£å‹ã€‚

-d ç›®å½• æŠŠå‹ç¼©æ–‡ä»¶è§£åˆ°æŒ‡å®šç›®å½•ä¸‹ã€‚

-z åªæ˜¾ç¤ºå‹ç¼©æ–‡ä»¶çš„æ³¨è§£ã€‚

-n ä¸è¦†ç›–å·²ç»å­˜åœ¨çš„æ–‡ä»¶ã€‚

-o è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶ä¸”ä¸è¦æ±‚ç”¨æˆ·ç¡®è®¤ã€‚

-j ä¸é‡å»ºæ–‡æ¡£çš„ç›®å½•ç»“æ„ï¼ŒæŠŠæ‰€æœ‰æ–‡ä»¶è§£å‹åˆ°åŒä¸€ç›®å½•ä¸‹ã€‚


# Mac åˆ¶ä½œ ubuntu å¯åŠ¨Uç›˜

[blog zh_CN](http://www.jb51.net/os/Ubuntu/393496.html)

[blog2 zh_CN](https://segmentfault.com/a/1190000006835642)

# JDK é…ç½®

ä¸€èˆ¬è€Œè¨€,æ˜¯ä¸ç”¨å…³å¿ƒJDKé…ç½®çš„ã€‚å¯æ˜¯æœ‰æ—¶éœ€è¦ä½¿ç”¨ROOTæƒé™æ—¶,å¦‚æœæ¶‰åŠåˆ°JDKã€‚å¯èƒ½ä¼šæ‰¾ä¸åˆ°ã€‚

å‰æå…ˆæå‡æƒé™

```
su
```

- è·å–JDKä½ç½®

```
$ /usr/libexec/java_home
/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
```

- å…¨å±€é…ç½®JDK

```vi /etc/profile```

æ·»åŠ å†…å®¹å¦‚ä¸‹:


```
JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
CLASSPAHT=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
PATH=$JAVA_HOME/bin:$PATH:
export JAVA_HOME
export CLASSPATH
export PATH
```

- ä½¿å…¶ç«‹å³ç”Ÿæ•ˆ

```
source /etc/profile
```

- test

```
# echo $JAVA_HOME
/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
```


# ç«¯å£å ç”¨

å‘½ä»¤ `lsof -i tcp:port`  ï¼ˆportæ›¿æ¢æˆç«¯å£å·ï¼Œæ¯”å¦‚6379ï¼‰å¯ä»¥æŸ¥çœ‹è¯¥ç«¯å£è¢«ä»€ä¹ˆç¨‹åºå ç”¨ï¼Œå¹¶æ˜¾ç¤ºPIDï¼Œæ–¹ä¾¿KILL

# ç›®å½•ç›´è¾¾


`CMD+SHIF+G`

or  

å‘½ä»¤è¡Œæ‰“å¼€æŒ‡å®šè·¯å¾„ï¼Œç„¶å `open .`

* any list
{:toc}