---
layout: post
title: windows bat 脚本-01-教程 
date:  2016-11-30 14:14:36 +0800
categories: [Windows]
tags: [windows, shell, bat]
published: true
---


# 批处理脚本

批处理脚本存储在简单的文本文件中，包含了一系列按顺序执行的命令行。

脚本编写是一种通过自动化这些命令序列来减轻手动输入必要性的方法，以便使在命令行界面下的工作和生活更加轻松和高效。本教程讨论了批处理脚本的基本功能，并提供了相关示例以便于理解。

## 受众

本教程为初学者准备，以理解批处理脚本的基本概念。

## 先决条件

希望读者具备一定的计算机编程知识以及对变量、命令、语法等概念的理解。

批处理脚本被用来自动化那些本质上重复的命令序列。脚本编写是一种通过自动化这些命令序列来减轻手动输入必要性的方法，以便使在命令行界面下的工作和生活更加轻松和高效。在大多数组织中，批处理脚本以这样或那样的方式被纳入其中，以实现自动化。

# 概览

批处理脚本的一些特性包括：

- 可以从用户那里读取输入，以便进一步处理。
- 拥有控制结构，如for、if、while、switch，以更好地实现自动化和脚本编写。
- 支持高级特性，如函数和数组。
- 支持正则表达式。
- 可以包含其他编程代码，如Perl。

批处理脚本的一些常见用途包括：

- 为不同目的设置服务器。
- 自动化日常维护活动，如删除不需要的文件或日志文件。
- 自动化将应用程序从一个环境部署到另一个环境。
- 一次性在多台机器上安装程序。

批处理脚本存储在简单的文本文件中，包含了一系列按顺序执行的命令行。这些文件具有特殊的扩展名BAT或CMD。这类文件通过系统文件（有时称为命令解释器）提供的界面（有时称为shell）被识别和执行。在Windows系统中，这个解释器被称为cmd.exe。

运行批处理文件只需单击它即可。批处理文件也可以在命令提示符或开始运行行中运行。在这种情况下，除非文件的路径在环境路径中，否则必须使用完整路径名。以下是一个简单的批处理脚本示例。

当运行此批处理脚本时，它将删除当前目录中的所有文件。

```bat
:: 删除当前目录中的所有文件，并带有提示和警告
::（隐藏、系统和只读文件不受影响）
:: @ECHO OFF
DEL . DR
```

# env 环境

本章解释了与批处理脚本相关的环境。

## 编写和执行

通常，创建批处理文件时会使用记事本。这是创建批处理文件的最简单工具。接下来是批处理脚本的执行环境。

在Windows系统中，这是通过命令提示符或cmd.exe来完成的。所有批处理文件都在这个环境中运行。

以下是启动cmd.exe的不同方法：

方法1 - 转到C:\Windows\System32并双击cmd文件。

方法2 - 通过运行命令 - 下图展示了如何在Windows Server 2012上找到命令提示符(cmd.exe)。

编写与执行方法2

一旦启动了cmd.exe，你将看到以下屏幕。这将是你执行批处理脚本的环境。

## 环境变量

为了从命令提示符运行批处理文件，你要么需要转到存储批处理文件的位置，或者你可以将文件位置输入到路径环境变量中。

因此，假设批处理文件存储在C:\Application\bin这个位置，你需要按照以下指令将该位置添加到PATH变量中。

操作系统	输出

Windows	将字符串；C:\Application\bin添加到系统变量PATH的末尾。

# 参考资料

https://www.tutorialspoint.com/batch_script/index.htm

* any list
{:toc}