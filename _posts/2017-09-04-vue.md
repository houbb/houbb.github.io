---
layout: post
title:  Vue
date:  2017-09-04 20:38:53 +0800
categories: [UI]
tags: [ui, vue]
published: true
---

# Vue

[Vue.js](https://cn.vuejs.org/) 是一套构建用户界面的**渐进式框架**。
 
- Vue 的核心库只关注视图层，它不仅易于上手，还便于与第三方库或既有项目整合。

- 当与[单文件组件](https://cn.vuejs.org/v2/guide/single-file-components.html)和 
Vue [生态系统](https://github.com/vuejs/awesome-vue#libraries--plugins)支持的库结合使用时，Vue 也完全能够为复杂的单页应用程序提供驱动。


## 对比

> [对比其他框架](https://cn.vuejs.org/v2/guide/comparison.html)


# Quick Start



## Hello World

- install

[Install](https://cn.vuejs.org/v2/guide/installation.html#Vue-Devtools) Vue first.


```html
<div id="app">
\{\{ message \}\}
</div>
```

(vue 的语法和 jekyll 冲突。实际请删除其中的转义符号`\`，后面亦如是。)


```js
<script src="https://cdn.bootcss.com/vue/2.4.2/vue.min.js"></script>

<script>
    new Vue({
        el: '#app',
        data: {
            message: 'Hello Vue.js!'
        }
    })
</script>
```

效果如下：


[helloVue.html]({{ site.url }}/learn/vue/helloVue.html)


## Another way


```html
<div class="well" id="vue-demo-2">
  <span v-bind:title="message">
    鼠标悬停几秒钟查看此处动态绑定的提示信息！
  </span>
</div>


<script>
    new Vue({
      el: '#vue-demo-2',
      data: {
        message: '页面加载于 ' + new Date().toLocaleString()
      }
    })
</script>
```


其中 `v-bind` 属性被称为**指令**。指令带有前缀 `v-`，以表示它们是 Vue 提供的特殊属性。

<div class="well" id="vue-demo-2">
  <span v-bind:title="message">
    鼠标悬停几秒钟查看此处动态绑定的提示信息！
  </span>
</div>


<script>
    new Vue({
      el: '#vue-demo-2',
      data: {
        message: '页面加载于 ' + new Date().toLocaleString()
      }
    })
</script>


## Condition

```html
<div class="well" id="vue-demo-3">
  <p v-if="seen">现在你看到我了</p>
</div>

<script>
    new Vue({
      el: '#vue-demo-3',
      data: {
        seen: true
      }
    })
</script>
```

<div class="well" id="vue-demo-3">
  <p v-if="seen">现在你看到我了</p>
</div>

<script>
    new Vue({
      el: '#vue-demo-3',
      data: {
        seen: true
      }
    })
</script>

## Loop

```html
<div class="well" id="vue-demo-4">
  <li v-for="todo in todos">
     \{\{ todo.text \}\}
  </li>
</div>

<script>
    new Vue({
      el: '#vue-demo-4',
      data: {
          todos: [
            { text: '学习 JavaScript' },
            { text: '学习 Vue' },
            { text: '整个牛项目' }
          ]
        }
    })
</script>
```

[vueLoop.html]({{ site.url }}/learn/vue/vueLoop.html)


## Handle User Input

为了让用户和你的应用进行互动，我们可以用 `v-on` 指令绑定一个事件监听器，通过它调用我们 Vue 实例中定义的方法：


```html
<div id="vue-demo-5">
  <p>{{ message }}</p>
  <button class="btn btn-info" v-on:click="reverseMessage">逆转消息</button>
</div>
```

```js
new Vue({
  el: '#vue-demo-5',
  data: {
      message: 'Hello Vue.js!'
  },
  methods: {
    reverseMessage: function () {
      this.message = this.message.split('').reverse().join('')
    }
  }
})
```

[vueOn.html]({{ site.url }}/learn/vue/vueOn.html)

## Componentized application build

几乎任意类型的应用界面都可以抽象为一个组件树：

![components]({{ site.url }}/static/app/img/ui/vue/components.png)


```html
<div id="app-7">
    <ol>
        <!--
          现在我们为每个 todo-item 提供 todo 对象
          todo 对象是变量，即其内容可以是动态的。
          我们也需要为每个组件提供一个“key”，晚些时候我们会做个解释。
        -->
        <todo-item
                v-for="item in groceryList"
                v-bind:todo="item"
                v-bind:key="item.id">
        </todo-item>
    </ol>
</div>
```

```js
//定义一个组件。且此组件可以接受一个属性
Vue.component('todo-item', {
    // todo-item 组件现在接受一个
    // "prop"，类似于一个自定义属性
    // 这个属性名为 todo。
    props: ['todo'],
    template: '<li>{{ todo.text }}</li>'
})

new Vue({
    el: '#app-7',
    data: {
        groceryList: [
            { id: 0, text: '蔬菜' },
            { id: 1, text: '奶酪' },
            { id: 2, text: '随便其他什么人吃的东西' }
        ]
    }
})
```

[vueComponent.html]({{ site.url }}/learn/vue/vueComponent.html)


# Vue Instance

(这文档写的很符合我的审美，直接抄了。。。XD)

## Create Vue

每个 Vue 应用都是从创建一个实例开始:

```js
var vm = new Vue({
  // 选项
})
```

虽未完全遵守 [MMVM](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel) 模型，但二者渊源颇深。

## Data & Method

当一个 Vue 实例被创建时，它向 Vue 的**响应式系统**中加入了其 `data` 对象中能找到的所有的属性。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。

```js
// 我们的数据对象
var data = { a: 1 }
// 该对象被加入到一个 Vue 实例中
var vm = new Vue({
  data: data
})
// 他们引用相同的对象！
vm.a === data.a // => true
// 设置属性也会影响到原始数据
vm.a = 2
data.a // => 2
// ... and vice-versa
data.a = 3
vm.a // => 3
```

<label class="label label-warning">Warning</label>

值得注意的是只有当实例被创建时 `data` 中存在的属性是响应式的。也就是说如果你添加一个新的属性

```js
vm.b = 'hi'
```

那么对 b 的改动将**不会触发**任何视图的更新。如果你知道你会在晚些时候需要一个属性，但是一开始它为空或不存在，那么你仅需要设置一些初始值。比如：

```js
data: {
  newTodoText: '',
  visitCount: 0,
  hideCompletedTodos: false,
  todos: [],
  error: null
}
```

除了 `data` 属性， Vue 实例暴露了一些有用的实例属性与方法。它们都有前缀 `$`，以便与用户定义的属性区分开来。例如：

```js
var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})
vm.$data === data // => true
vm.$el === document.getElementById('example') // => true
// $watch 是一个实例方法
vm.$watch('a', function (newValue, oldValue) {
  // 这个回调将在 `vm.a` 改变后调用
})
```

## Life Cycle

每个 Vue 实例在被创建之前都要经过一系列的初始化过程。例如需要设置数据监听、编译模板、挂载实例到 DOM、在数据变化时更新 DOM 等。

同时在这个过程中也会运行一些叫做**生命周期钩子**的函数，给予用户机会在一些特定的场景下添加他们自己的代码。

(这个和 jQuery 插件预留的钩子就很类似，是一种很利于拓展的设计。)

如 [created](https://cn.vuejs.org/v2/api/#created) 钩子：

```js
new Vue({
  data: {
    a: 1
  },
  created: function () {
    // `this` 指向 vm 实例
    console.log('a is: ' + this.a)
  }
})
// => "a is: 1"
```

在实例生命周期的不同场景下调用，如 [mounted](https://cn.vuejs.org/v2/api/#mounted)、[updated](https://cn.vuejs.org/v2/api/#updated)、[destroyed](https://cn.vuejs.org/v2/api/#destroyed)。
钩子的 this 指向调用它的 Vue 实例。



<label class="label label-danger">Danger</label>

不要选项属性或回调上使用[箭头函数](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)，比如 

`created: () => console.log(this.a)` 或 `vm.$watch('a', newValue => this.myMethod())`。

因为箭头函数是和父级上下文绑定在一起的，this 不会是如你做预期的 Vue 实例，且 this.a 或 this.myMethod 也会是未定义的。


## 上图

![lifecycle]({{ site.url }}/static/app/img/ui/vue/lifecycle.png)





* any list
{:toc}







