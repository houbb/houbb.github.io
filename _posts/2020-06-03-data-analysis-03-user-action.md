---
layout: post
title: 数据分析-03-用户行为分析
date:  2020-6-3 13:34:28 +0800
categories: [Data]
tags: [data, data-analysis, sh]
published: true
---

# 作用

在产品的设计与运营过程中，通过数据对用户行为进行分析，我们可以总结分析出用户行为与产品之间的关联，并针对性地对产品做出改进。

# 为什么要做用户行为分析

用户行为数据时指在产品内进行各种操作产生的数据。

比如：访问、浏览和行为事件。每个访问事件可由多个浏览事件和点击事件构成。

同样的可以理解为5个元素构成：who、when、where、how、what。谁在什么时间，什么地点以什么样的交互方式做了什么。

交易数据和服务端日志数据更多的是“结果型”数据，我们从中知道，用户完成了注册、完成了下载、完成了购买。但是要分析用户为什么放弃注册、为什么不下载、为什么不购买等“过程型”原因，我们是没法从交易数据和服务端日志数据中得知的。

那么，我们要如何去监测用户的行为数据呢？答案：埋点。

用户行为分析平台是企业精细化运营和数据驱动的必备工具，它通过全面的用户行为埋点，统一的上报方式和统一的数据格式，搭建出了用户行为数据体系，并充分利用用户行为数据，挖掘用户留存、用户画像，用户行为路径等数据价值，帮助企业用数据驱动业务增长。

当我们有了用户行为数据后，可以把行为数据做成一个按小时、按天、按月份，或者按用户分组、事件级别拆分的一个表。

这个表可以用来帮助我们分析用户行为。

# 常见用户行为分析模型

用户行为分析主要有：

1、事件分析

2、留存分析

3、漏斗分析

4、用户行为路径分析

## 2.1 事件分析

### 1、定义

事件是追踪或记录的用户行为或业务过程。

事件是通过埋点记录，通过SDK上传的用户行为或业务过程记录。

例如，一个视频内容产品可能包含的事件：1）播放视频；2）暂停；3）继续播放；4）分享；5）评论。

一个事件可能包含多个事件属性，例如，“播放视频”事件下可能包含的属性：

1）来源；2）是否自动播放；3）播放形态。

公共属性

有的属性，是所有事件都具有的。我们将这类属性抽象出来，称为“公共属性”。公共属性又分为用户属性和设备属性。

1）用户属性：描述用户自身状态的属性，这类属性一般不会发生变化。例如，用户年龄、性别等。这些属性一般存在于数据仓库的用户属性表中，该表仅存储各用户属性最新的状态。

2）设备属性：一般指除了用户属性之外的其他公共属性。几乎每个事件都有这些属性，且随时间的变化而发生变化。例如，操作系统、版本、渠道等。这些属性随各个事件存在事件表中，以记录设备属性变化前后的所有状态。

### 2、作用

事件分析是指基于事件的指标统计、属性分组、条件筛选等功能的查询分析。

通过事件分析的过滤、分组、创建组合指标等功能，可以对预先设计好的埋点数据进行不同维度的分析。

例如：

▷ 最近30天的DAU变化趋势；

▷ 最近30天来自上海的用户每天对商品的浏览时长；

▷ 最近7天20到30岁年龄段用户每天对商品的点击量。

### 3、 应用场景

某互联网电商平台的运营人员发现，4月1日的活动页面PV数据异常高，因此要快速排查原因。

是正常流量，还是虚假流量给我们的“愚人节惊喜”。

步骤如下：

1）将“浏览活动页面的总次数事件“按照“渠道”查看

2）筛选出数据最高的“渠道”，可以看出是来自于“今日头条”渠道的流量异常突出；

3）继续按照“地区”下钻分析，发现有90%的流量来自于“其它”地区。

由此可以得出是今日头条的虚假流量。

一般来说，经过细分筛查后，都能找出数据异常的原因。

### 4、图例：

![事件分析](https://upload-images.jianshu.io/upload_images/7179125-dc1485d8626896b4.png)


## 2.2 留存分析

### 1、定义

既在某一统计时段内的新增用户数中再经过一段时间后仍启动该应用的用户比例（留存率=留存用户/新增用户*100%）。

### 2、作用

留存率是验证用户粘性的关键指标，设计师和产品经理通常可以利用留存率与竞品对标，衡量用户的粘性和忠诚度。

通常重点关注次日、3日、7日、30日即可，并观察留存率的衰减程度。留存率跟应用的类型也有很大关系。

通常来说，工具类应用的首月留存率可能普遍比游戏类的首月留存率要高。

### 3、应用场景

某app某一时段新增用户数为100人，这一时段用户次日启动为80人，在第7天再次启动该应用为40人，第30日启动用户数为10人。

次日留存率=80/100*100%=80%

7日留存率=40/100*100%=40%

30日留存率=10/100*100%=10%

留存率的“40–20–10”规则

Facebook平台流传出留存率“40–20–10”规则，规则中的数字表示的是次日留存率、第7日留存率和第30日留存率。

若以上时段的留存率低，会映射出哪些问题？

次日留存率低：说明所针对的用户群对我们的产品不感兴趣；

7日留存率低：说明我们产品的内容质量太差，用户过了新鲜劲儿之后发现产品用起来特别枯燥；

30日留存率低：版本迭代规划做得不好，功能更新、内容更新、BUG修复、性能等都做得比较差，此时需要重新规划迭代内容，不可一错再错。

### 4、图例

![](https://upload-images.jianshu.io/upload_images/7179125-5b13bcd73d1ec1e6.png)

## 2.3 漏斗分析

### 1、定义

漏斗分析就是转化率分析，是通过计算目标流程中的起点，到最后完成目标节点的用户量与留存率，流量漏斗模型在产品中的经典运用是AARRR模型。

AARRR是Acquisition、Activation、Retention、Revenue、Refer，这个五个单词的缩写，分别对应用户生命周期中的5个重要环节。

![AARRR](https://upload-images.jianshu.io/upload_images/7179125-50e8e443711393d0.png)

### 2、作用

衡量每一节点的转换率，通过异常数据（转换率过低）找出异常节点，进而确定各个环节的流失率，分析用户怎么流失、为什么流失、在哪里流失。

根据数据改进产品，最终提升整体转化率。

### 3、应用场景

以电商网站为例，想要统计用户访问网站、访问商品详情页、加入购物车、支付订单到支付成功的转换率。

发现从订单支付到支付成功转换率仅有4%，明显过低。

即可分析支付节点是否存在bug，由什么原因导致。

### 4、图例

![实际例子](https://upload-images.jianshu.io/upload_images/7179125-e768e980bc84f22e.png)

## 2.4 路径分析

### 1、定义

路径分析能够帮助运营者了解用户在产品中的行为路径，通过哪些路径达到关注页面，以及通过哪些页面离开应用。

### 2、作用

确定产品用户从访问到转化/流失都经过了哪些流程，转化用户与流失用户是否有行为区别，以及用户行为路径是否符合预期

### 3、应用场景

相对于漏斗分析，我们知道了用户到达指定节点的转化率是50%，那么另外50%的用户又去往了哪里呢，一般我们会采用行为路径进一步判断。

例如，在线教育产品通过漏斗分析，得出用户浏览课程详情页到购买课程只有10%的转化率，比预期低了很多。

于是将流失的用户保存为“课程流失用户分组”。对改组进行行为路径分析。

我们发现这部分用户达到浏览课程页面后，走向2条路径：

1、20%的用户退出课程浏览页面；

2、80%的用户点击下方的“课程详情”后，退出了详情页面。

因此，我们可以再次细分，第二条路径的用户其实是有购买意愿的，可能看了介绍后，对课程详情的介绍并不满意所以选择退出课程详情页。

进而我们可以将课程详情页做修改，增加课程描述及趣味性，增强用户的购买意愿。

### 4、图例

![图例](https://upload-images.jianshu.io/upload_images/7179125-12273f0d3bf56f10.png)

![图例](https://upload-images.jianshu.io/upload_images/7179125-5ee3ad0c88e12861.png)

![图例](https://upload-images.jianshu.io/upload_images/7179125-6ecba5fbb5b5f508.png)

# 参考资料

[数据分析（三）用户行为分析](https://www.jianshu.com/p/7858926ff399)

* any list
{:toc}