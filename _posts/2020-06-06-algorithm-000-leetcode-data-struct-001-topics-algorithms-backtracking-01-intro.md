---
layout: post
title: leetcode ç®—æ³•ç¯‡ä¸“é¢˜ä¹‹å›æº¯ Backtracking 01-å…¥é—¨ä»‹ç»
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, data-struct, topics, leetcode, backtracking, sf]
published: true
---


# æ•°ç»„

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€é©¬ã€‚

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ã€‚

## ä¸»è¦çŸ¥è¯†

æ•°ç»„éœ€è¦æ‹†åˆ†ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ç†è®ºä»‹ç»

2. æºç åˆ†æ

3. æ•°æ®ç»“æ„å®ç°ï¼Ÿ

4. é¢˜ç›®ç»ƒä¹ ï¼ˆæŒ‰ç…§ç®—æ³•æ€æƒ³åˆ†ç±»ï¼‰

5. æ¢³ç†å¯¹åº”çš„ sdk åŒ…

6. åº”ç”¨å®æˆ˜

å› ä¸ºè¿™ä¸ªæ˜¯ leetcode ç³»åˆ—ï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯ 4ã€5(å¯¹4å†ä¸€æ¬¡æ€»ç»“)ã€‚

ä¸ºäº†ç…§é¡¾æ²¡æœ‰åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¼šç®€å•ä»‹ç»ä¸€ä¸‹1çš„åŸºç¡€ç†è®ºã€‚

ç®€å•ä»‹ç»1ï¼Œé‡ç‚¹ä¸º4ã€‚å…¶ä»–ä¸æ˜¯æœ¬ç³»åˆ—çš„é‡ç‚¹ã€‚

# ç®—æ³•ç¯‡

åŠ¨æ€è§„åˆ’-è®°å¿†åŒ–æœç´¢

é€’å½’

äºŒåˆ†æŸ¥æ‰¾

DFS æ·±åº¦ä¼˜å…ˆéå†

BFS å¹¿åº¦ä¼˜å…ˆéå†

å›æº¯

è´ªå¿ƒ

åˆ†æ²»ï¼šå¿«æ’ã€å½’å¹¶

# chat

## è¯¦ç»†ä»‹ç»ä¸€ä¸‹åŠ›æ‰£ç®—æ³•ä¹‹å›æº¯

ä¸‹é¢æ˜¯ LeetCodeï¼ˆåŠ›æ‰£ï¼‰ä¸­\*\*å›æº¯ç®—æ³•ï¼ˆBacktrackingï¼‰\*\*çš„è¯¦ç»†ä»‹ç»ï¼Œé€‚åˆåˆå­¦è€…ç†è§£å¹¶æŒæ¡å®ƒçš„æ ¸å¿ƒæ€æƒ³ã€æ¨¡æ¿å†™æ³•ã€å…¸å‹åº”ç”¨åœºæ™¯å’Œç»å…¸é¢˜å‹ã€‚

---

## ğŸ§  ä¸€ã€ä»€ä¹ˆæ˜¯å›æº¯ç®—æ³•ï¼Ÿ

> å›æº¯ï¼ˆBacktrackingï¼‰æ˜¯ä¸€ç§ã€Œè¯•æ¢æ€§ã€çš„æœç´¢ç®—æ³•ï¼Œé€šå¸¸ç”¨äºæ±‚è§£**æ‰€æœ‰**å¯èƒ½çš„è§£æˆ–**æ»¡è¶³æ¡ä»¶çš„æŸäº›è§£**ã€‚

å¯ä»¥ç†è§£ä¸ºï¼š

* ç©·ä¸¾ + å‰ªæ
* ç±»ä¼¼ã€ŒDFS + çŠ¶æ€æ¢å¤ã€
* ä¸€ç§æš´åŠ›æœç´¢ä¼˜åŒ–ç‰ˆ â€”â€” â€œèµ°ä¸é€šå°±å›å¤´â€

---

## ğŸ”„ äºŒã€å›æº¯çš„åŸºæœ¬æ€è·¯

æ ¸å¿ƒæ˜¯ï¼š

1. **å°è¯•é€‰æ‹©ä¸€ä¸ªé€‰é¡¹**
2. **é€’å½’ç»§ç»­æ·±å…¥**
3. **å¦‚æœå¤±è´¥å°±æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰**

### é€šç”¨å¥—è·¯ï¼š

```java
void backtrack(å‚æ•°) {
    if (ç»ˆæ­¢æ¡ä»¶) {
        ä¿å­˜ç»“æœ;
        return;
    }

    for (é€‰æ‹© : æ‰€æœ‰é€‰é¡¹) {
        if (ä¸åˆæ³•) continue;

        åšé€‰æ‹©;
        backtrack(è·¯å¾„ + é€‰æ‹©);
        æ’¤é”€é€‰æ‹©; // å›æº¯
    }
}
```

---

## ğŸ”§ ä¸‰ã€é€‚åˆç”¨å›æº¯è§£å†³çš„é—®é¢˜ç±»å‹

| ç±»å‹   | è¯´æ˜           | ä¾‹é¢˜                                                                 |
| ---- | ------------ | ------------------------------------------------------------------ |
| ç»„åˆ   | ä» n ä¸ªæ•°ä¸­é€‰ k ä¸ª | [77. ç»„åˆ](https://leetcode.cn/problems/combinations)                |
| æ’åˆ—   | æ‰€æœ‰æ•°å­—çš„å…¨æ’åˆ—     | [46. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations)               |
| å­é›†   | æ‰€æœ‰å¯èƒ½çš„å­é›†      | [78. å­é›†](https://leetcode.cn/problems/subsets)                     |
| åˆ†å‰²   | åˆ†å‰²å­—ç¬¦ä¸²æ»¡è¶³æŸäº›æ¡ä»¶  | [131. åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning) |
| æ£‹ç›˜é—®é¢˜ | å…«çš‡å / è§£æ•°ç‹¬    | [37. è§£æ•°ç‹¬](https://leetcode.cn/problems/sudoku-solver)              |
| è·¯å¾„ç±»  | ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æ‰€æœ‰è·¯å¾„  | [51. N çš‡å](https://leetcode.cn/problems/n-queens)                  |

---

## ğŸ“‹ å››ã€ä¸‰å¤§ç»å…¸æ¨¡æ¿é¢˜å‹

### âœ… 1. ç»„åˆç±»æ¨¡æ¿ï¼ˆå¦‚ LeetCode 77ï¼‰

```java
void backtrack(int start, List<Integer> path) {
    if (path.size() == k) {
        res.add(new ArrayList<>(path));
        return;
    }

    for (int i = start; i <= n; i++) {
        path.add(i);           // åšé€‰æ‹©
        backtrack(i + 1, path);
        path.remove(path.size() - 1); // æ’¤é”€é€‰æ‹©
    }
}
```

---

### âœ… 2. æ’åˆ—ç±»æ¨¡æ¿ï¼ˆå¦‚ LeetCode 46ï¼‰

```java
void backtrack(List<Integer> path, boolean[] used) {
    if (path.size() == n) {
        res.add(new ArrayList<>(path));
        return;
    }

    for (int i = 0; i < nums.length; i++) {
        if (used[i]) continue;

        used[i] = true;
        path.add(nums[i]);

        backtrack(path, used);

        path.remove(path.size() - 1);
        used[i] = false;
    }
}
```

---

### âœ… 3. å­é›†ç±»æ¨¡æ¿ï¼ˆå¦‚ LeetCode 78ï¼‰

```java
void backtrack(int start, List<Integer> path) {
    res.add(new ArrayList<>(path)); // æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç»“æœ

    for (int i = start; i < nums.length; i++) {
        path.add(nums[i]);
        backtrack(i + 1, path);
        path.remove(path.size() - 1);
    }
}
```

---

## âœ‚ï¸ äº”ã€å‰ªææŠ€å·§

ä¸ºäº†é¿å…è¶…æ—¶æˆ–é‡å¤è§£ï¼Œå›æº¯ç®—æ³•ä¸­ç»å¸¸ä¼šåŠ å…¥â€œå‰ªæâ€ç­–ç•¥ï¼š

| å‰ªææ–¹å¼      | ç¤ºä¾‹                                                                                                              |
| --------- | --------------------------------------------------------------------------------------------------------------- |
| æ’åº + è·³è¿‡é‡å¤ | [90. å­é›† II](https://leetcode.cn/problems/subsets-ii)ã€[47. å…¨æ’åˆ— II](https://leetcode.cn/problems/permutations-ii) |
| å‰ªå»ä¸åˆæ³•é€‰é¡¹   | ç»„åˆé—®é¢˜ä¸­æå‰åˆ¤æ–­æ˜¯å¦è¿˜èƒ½é€‰ enough ä¸ªæ•°                                                                                        |
| æå‰ç»ˆæ­¢      | å¦‚æœå·²ç»ä¸æ»¡è¶³æ¡ä»¶å°± return                                                                                               |

---

## ğŸ§  å…­ã€å›æº¯ VS DFS

| å¯¹æ¯”ç‚¹    | DFS      | å›æº¯             |
| ------ | -------- | -------------- |
| ç›®æ ‡     | ä¸€æ¡è·¯èµ°åˆ°åº•   | å¤šè·¯å¾„ã€å¤šç»„åˆ        |
| åº”ç”¨     | è·¯å¾„æœç´¢ä¸ºä¸»   | æ„é€ è§£ç©ºé—´æ ‘ã€é€‰é¡¹ç»„åˆ    |
| æ˜¯å¦æ’¤é”€é€‰æ‹© | ä¸ä¸€å®š      | **å¿…é¡»æ’¤é”€é€‰æ‹©**ï¼ˆæ ¸å¿ƒï¼‰ |
| ç”¨äº     | éå†å›¾/æ ‘/ç½‘æ ¼ | è§£ç©ºé—´éå†ã€ç»„åˆã€æ’åˆ—    |

---

## ğŸ¯ ä¸ƒã€LeetCode é«˜é¢‘å›æº¯é¢˜æ¨è

| é¢˜ç›®ç¼–å· | æ ‡é¢˜                                                            | ç±»å‹      |
| ---- | ------------------------------------------------------------- | ------- |
| 46   | [å…¨æ’åˆ—](https://leetcode.cn/problems/permutations)              | æ’åˆ—      |
| 47   | [å…¨æ’åˆ— IIï¼ˆå«é‡å¤ï¼‰](https://leetcode.cn/problems/permutations-ii)   | æ’åˆ— + å‰ªæ |
| 77   | [ç»„åˆ](https://leetcode.cn/problems/combinations)               | ç»„åˆ      |
| 39   | [ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum)          | å›æº¯ + å‰ªæ |
| 40   | [ç»„åˆæ€»å’Œ II](https://leetcode.cn/problems/combination-sum-ii)    | å»é‡      |
| 78   | [å­é›†](https://leetcode.cn/problems/subsets)                    | å­é›†      |
| 90   | [å­é›† II](https://leetcode.cn/problems/subsets-ii)              | å­é›† + é‡å¤ |
| 131  | [åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning) | å­—ç¬¦ä¸²åˆ‡å‰²   |
| 51   | [N çš‡å](https://leetcode.cn/problems/n-queens)                 | æ£‹ç›˜ç±»     |
| 37   | [è§£æ•°ç‹¬](https://leetcode.cn/problems/sudoku-solver)             | é«˜çº§å‰ªæ    |

---

## âœ… å…«ã€æ€»ç»“ä¸€å¥è¯

> **å›æº¯ç®—æ³•å°±æ˜¯åœ¨æ„é€ è§£çš„è¿‡ç¨‹ä¸­è¯•æ¢+æ’¤é”€ï¼Œæ‰€æœ‰æ’åˆ—ã€ç»„åˆã€å­é›†ã€æœç´¢è·¯å¾„ç›¸å…³çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ä»â€œå›æº¯â€è§’åº¦æ¥å»ºæ¨¡è§£å†³ã€‚**



* any list
{:toc}