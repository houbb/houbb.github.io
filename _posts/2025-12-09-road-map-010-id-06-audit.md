---
layout: post
title: 成熟企业级技术平台 MVE-010-audit 审计中心
date: 2025-12-09 21:01:55 +0800
categories: [MVE]
tags: [mve, sh]
published: true
---

# 概览

```
P0（身份访问）
├── UMS（用户中心）
├── Passport（认证 / Token）
├── permission 权限中心（RBAC / ABAC）
├── SSO
P1（身份治理）
├── 身份治理 IGA
├── 审计系统
├── 跳板机 / 堡垒机
```

# 相关开源项目

可以参考一下老马开源的项目：

敏感词核心库: https://github.com/houbb/sensitive-word

敏感词控台：https://github.com/houbb/sensitive-word-admin

日志脱敏：https://github.com/houbb/sensitive

加密工具：https://github.com/houbb/encryption-local

```
P0（身份访问）
├── UMS（用户中心）
├── Passport（认证 / Token）
├── permission 权限中心（RBAC / ABAC）
├── SSO


P1（身份治理）
├── 身份治理 IGA
├── 审计系统
├── 跳板机 / 堡垒机

P2（数据 & 风险）
├── 数据脱敏平台
├── 安全平台（风控 / 入侵检测）
├── 访问风控 / 风险引擎

P3（零信任 & 密钥）
├── Zero Trust 平台
├── HSM / KMS
├── Secrets 管理
```

# chat

## 一、平台定位

### 1️⃣ 核心目标

* **统一审计管理**：集中收集企业全系统操作与安全事件日志。
* **合规与法规满足**：支持 ISO、SOC、GDPR 等合规要求。
* **风险监控与预警**：实时检测异常操作与潜在安全威胁。
* **数据可追溯**：保证事件可重现、操作可溯源。

### 2️⃣ 在企业体系中的位置

```
企业安全与 IAM 体系
├── UMS（用户管理）
├── Passport / SSO（统一认证）
├── Permission（权限管理）
├── App-Manage（应用管理）
└── Audit（审计中心）
```

* 审计中心 **下游依赖所有 IAM 与业务系统事件**
* 提供 **合规报表、审计查询、异常告警**
* 与 **安全监控和风险分析**紧密结合

---

## 二、核心功能模块

```
Audit 审计中心
├── 日志采集与统一归档
├── 操作与事件审计
├── 用户行为分析 (UBA)
├── 权限与角色审计
├── 系统与接口调用审计
├── 异常检测与告警
├── 合规报表与可视化
└── 数据存储与访问管理
```

### 1️⃣ 日志采集与统一归档

* 收集 IAM 系统日志：

  * UMS 用户信息变更
  * Passport/SSO 登录/注销事件
  * Permission 权限变更、授权事件
  * App-Manage 应用注册/发布/下线事件
* 支持业务系统和安全系统日志接入
* 统一格式化、标准化归档
* 支持 **实时流式采集** 和 **批量归档**

### 2️⃣ 操作与事件审计

* 记录所有关键操作：

  * 用户登录/登出
  * 密码或 MFA 变更
  * 权限授权 / 撤销
  * 应用注册、发布、下线
* 支持审计事件分类（认证事件、授权事件、操作事件）

### 3️⃣ 用户行为分析 (UBA)

* 异常登录行为分析：

  * 异地登录、设备异常
  * 高频失败登录
* 异常操作行为：

  * 超权限操作
  * 数据导出异常
* 行为趋势分析、风险评分

### 4️⃣ 权限与角色审计

* 用户/角色权限变更记录
* 权限继承与冗余分析
* 最小权限审计与优化建议

### 5️⃣ 系统与接口调用审计

* API 调用日志
* 系统间访问事件
* 第三方集成访问审计

### 6️⃣ 异常检测与告警

* 实时监控异常操作或安全事件
* 触发告警策略：

  * 邮件/短信/系统告警
  * 风险事件等级分级
* 可与 SIEM / SOC 平台对接

### 7️⃣ 合规报表与可视化

* 登录 / 访问 / 权限 / 操作报表
* 支持按用户、组织、角色、应用维度查询
* 支持导出 Excel / PDF / BI 可视化
* 提供合规审计证明和历史记录存档

### 8️⃣ 数据存储与访问管理

* 日志存储策略：

  * 热数据：实时查询
  * 冷数据：归档、历史审计
* 数据访问权限控制：

  * 只有审计管理员或合规角色可查询敏感日志
* 支持分布式存储、可扩展性高

---

## 三、核心技术能力

| 能力      | 说明                                 |
| ------- | ---------------------------------- |
| 日志采集标准化 | 统一格式、结构化存储                         |
| 实时分析与查询 | 支持 ELK / ClickHouse / BigQuery 等技术 |
| 用户行为分析  | 异常检测、风险评分、趋势分析                     |
| 权限审计能力  | 角色与用户权限变更全链路追踪                     |
| 合规报表    | 可按 ISO/SOC/GDPR 生成审计报表             |
| 高可用性    | 分布式存储与访问，保证海量日志可靠性                 |
| 异常告警    | 实时事件监控、告警策略配置                      |

---

## 四、企业级架构设计

### 1️⃣ 逻辑架构

```
Audit Center
├── 日志采集层
│   ├── IAM 系统日志
│   ├── 业务系统操作日志
│   └── 安全事件日志
├── 日志处理与归档层
│   ├── 实时流处理
│   ├── 批量处理
│   └── 数据标准化
├── 数据存储与索引层
│   ├── 热数据存储 (Elasticsearch / ClickHouse)
│   └── 冷数据归档 (HDFS / Object Storage)
├── 分析与异常检测层
│   ├── 用户行为分析 (UBA)
│   ├── 权限审计
│   └── 风险事件识别
├── 告警与通知层
│   ├── 邮件 / 短信 / 系统告警
│   └── SIEM / SOC 集成
└── 报表与可视化层
    ├── 审计报表
    └── BI 可视化
```

### 2️⃣ 核心数据模型示例

* `audit_log`：审计事件主表
* `login_log`：用户登录/注销记录
* `permission_change_log`：权限变更事件
* `app_operation_log`：应用操作记录
* `risk_event`：异常事件与告警记录
* `report_definition`：报表配置与存储

---

## 五、典型功能场景

| 场景     | 描述                           |
| ------ | ---------------------------- |
| 用户操作审计 | 登录、修改信息、操作系统资源事件全量记录         |
| 权限变更审计 | 用户/角色权限新增、修改、删除记录            |
| 异常登录告警 | 异地登录、频繁失败登录触发告警              |
| 数据越权检测 | 检测用户操作是否超越权限范围               |
| 应用操作审计 | 应用注册、发布、下线、版本更新操作审计          |
| 合规报表   | 生成 ISO/SOC/GDPR 审计报表供内部/外部审查 |

---

## 六、建设价值

1. **统一审计管理**：集中收集、管理全系统操作与安全事件
2. **合规与法规支持**：满足 ISO / SOC / GDPR / 内部审计要求
3. **风险监控与预警**：异常操作与越权行为实时告警
4. **数据可追溯**：保证操作可复现、可追踪
5. **支持安全决策**：为 IAM 权限优化、业务安全提供数据依据

---

## 七、成熟度分级

| 等级 | 特征                  |
| -- | ------------------- |
| L1 | 基础日志收集，手工分析         |
| L2 | 日志结构化、集中存储，可查询      |
| L3 | 异常行为检测、自动告警         |
| L4 | 权限与操作审计闭环，合规报表自动生成  |
| L5 | 全链路智能分析，风险预测与安全决策支持 |


* any list
{:toc}