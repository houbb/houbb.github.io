---
layout: post
title: 规则引擎-00-入门
date:  2020-5-26 16:05:35 +0800
categories: [Engine]
tags: [rule, engine, sf]
published: true
---


# 规则引擎

规则引擎起源于基于规则的专家系统，而基于规则的专家系统又是专家系统的其中一个分支。

专家系统属于人工智能的范畴，它模仿人类的推理方式，使用试探性的方法进行推理，并使用人类能理解的术语解释和证明它的推理结论。

利用它就可以在应用系统中分离商业决策者的商业决策逻辑和应用开发者的技术决策，并把这些商业决策放在中心数据库或其他统一的地方，让它们能在运行时可以动态地管理和修改，从而为企业保持灵活性和竞争力提供有效的技术支持。

在需求里面我们往往把约束，完整性，校验，分支流等都可以算到业务规则里面。在规则引擎里面谈的业务规则重点是谈当满足什么样的条件的时候，需要执行什么样的操作。因此一个完整的业务规则包括了条件和触发操作两部分内容。而引擎是事物内部的重要的运行机制，规则引擎即重点是解决规则如何描述，如何执行，如何监控等一系列问题。

规则引擎由推理引擎发展而来，是一种嵌入在应用程序中的组件，实现了将业务决策从应用程序代码中分离出来，并使用预定义的语义模块编写业务决策。接受数据输入，解释业务规则，并根据业务规则做出业务决策。

## 开源引擎

java开源的规则引擎有：Drools、Easy Rules、Mandarax、IBM ILOG。

使用最为广泛并且开源的是Drools。

# 规则引擎的优点

## 声明式编程

规则可以很容易地解决困难的问题，并得到解决方案的验证。与代码不同，规则以较不复杂的语言编写; 业务分析师可以轻松阅读和验证一套规则。

## 逻辑和数据分离

数据位于“域对象”中，业务逻辑位于“规则”中。根据项目的种类，这种分离是非常有利的。

## 速度和可扩展性

写入Drools的Rete OO算法已经是一个成熟的算法。

在Drools的帮助下，您的应用程序变得非常可扩展。如果频繁更改请求，可以添加新规则，而无需修改现有规则。

## 知识集中化

通过使用规则，您创建一个可执行的知识库（知识库）。这是商业政策的一个真理点。

理想情况下，规则是可读的，它们也可以用作文档。

# rete 算法

Rete 算法最初是由卡内基梅隆大学的 Charles L.Forgy 博士在 1974 年发表的论文中所阐述的算法 , 该算法提供了专家系统的一个高效实现。

自 Rete 算法提出以后 , 它就被用到一些大型的规则系统中 , 像 ILog、Jess、JBoss Rules 等都是基于 RETE 算法的规则引擎

Rete 在拉丁语中译为”net”，即网络。

Rete 匹配算法是一种进行大量模式集合和大量对象集合间比较的高效方法，通过网络筛选的方法找出所有匹配各个模式的对象和规则。

其核心思想是**将分离的匹配项根据内容动态构造匹配树，以达到显著降低计算量的效果**。

Rete 算法可以被分为两个部分：规则编译和规则执行。

当Rete算法进行事实的断言时，包含三个阶段：匹配、选择和执行，称做 match-select-act cycle。

Rete 算法的详细内容可以参考这篇文章：[开源规则流引擎实践](https://www.ibm.com/developerworks/cn/opensource/os-drools/index.html)

# 拓展阅读

[QLExpress 系列](http://houbb.github.io/2018/06/10/qlexpress-01-quick-start)

ILog、Jess、JBoss Rules

Drools、Easy Rules、Mandarax、IBM ILOG。

# 参考资料

[Drools 规则文件语法概述](https://www.jianshu.com/p/ae9a62588da4)

[小明的烦恼](https://www.cnblogs.com/ityouknow/archive/2017/08/07/7297524.html)

* any list
{:toc}