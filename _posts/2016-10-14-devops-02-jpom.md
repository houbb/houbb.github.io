---
layout: post
title: Devops-02-Jpom ç®€è€Œè½»çš„ä½ä¾µå…¥å¼åœ¨çº¿æ„å»ºã€è‡ªåŠ¨éƒ¨ç½²ã€æ—¥å¸¸è¿ç»´ã€é¡¹ç›®ç›‘æ§è½¯ä»¶
date:  2016-10-14 10:15:54 +0800
categories: [Devops]
tags: [devops, ci, sh]
published: true
---

# æ‹“å±•é˜…è¯»

[jenkins](https://houbb.github.io/2016/10/14/jenkins)

[jenkins-plugin](https://houbb.github.io/2016/10/14/jenkins-plugin)

[SonarQube](https://houbb.github.io/2016/10/14/sonarQube)

[DevOps](https://houbb.github.io/2018/03/16/devops)

[Gitlab](https://houbb.github.io/2017/01/13/gitlab)

[nexus](https://houbb.github.io/2016/08/06/Nexus)

# Devops

ps: ä»¥å†…å†…å®¹æ¥è‡ªå®˜æ–¹ç½‘ç«™ï¼Œä½œä¸ºåç»­å­¦ä¹ ä¹‹ç”¨ã€‚

## ğŸ˜­ æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ‚¨æ˜¯å¦æœ‰ä»¥ä¸‹ç—›ç‚¹ï¼Ÿ

- <font color="red">**å›¢é˜Ÿä¸­æ²¡æœ‰ä¸“ä¸šçš„è¿ç»´ï¼Œå¼€å‘è¿˜è¦åšè¿ç»´çš„æ´»**</font>ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨æ„å»ºã€éƒ¨ç½²é¡¹ç›®ã€‚
- ä¸åŒçš„é¡¹ç›®æœ‰ä¸åŒçš„æ„å»ºã€éƒ¨ç½²å‘½ä»¤ã€‚
- æœ‰å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç­‰å¤šç¯å¢ƒæ‰“åŒ…çš„éœ€æ±‚ã€‚
- éœ€è¦åŒæ—¶ç›‘æ§å¤šä¸ªé¡¹ç›®çš„è¿è¡ŒçŠ¶æ€ã€‚
- <u>éœ€è¦ä¸‹è½½ SSH å·¥å…·</u>è¿œç¨‹è¿æ¥æœåŠ¡å™¨ã€‚
- *éœ€è¦ä¸‹è½½ FTP å·¥å…·*ä¼ è¾“æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚
- å¤šå°æœåŠ¡å™¨æ—¶ï¼Œåœ¨ä¸åŒç”µè„‘ä¹‹é—´è´¦å·å¯†ç åŒæ­¥ä¸æ–¹ä¾¿ã€‚
- æƒ³ä½¿ç”¨ä¸€äº›è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä½†æ˜¯å¯¹æœåŠ¡å™¨æ€§èƒ½å¤ªé«˜ï¼Œæ­å»ºå¤ªéº»çƒ¦ã€‚
- **å¯¹è‡ªåŠ¨åŒ–å·¥å…·æœ‰ä¸ªæ€§åŒ–çš„éœ€æ±‚ï¼Œæƒ³è‡ªå·±ä¿®æ”¹é¡¹ç›®**ï¼Œä½†æ˜¯å¸‚é¢ä¸Šçš„å·¥å…·å¤ªå¤æ‚äº†ã€‚

> å¦‚æœæ˜¯åˆ†å¸ƒå¼çš„é¡¹ç›®ï¼Œä»¥ä¸Šæ­¥éª¤åˆ™æ›´åŠ ç¹çã€‚
>
> è®© Jpom æ¥å¸®ä½ è§£å†³è¿™äº›ç—›ç‚¹å§ï¼ç„¶è€Œï¼Œè¿™äº›åªæ˜¯ Jpom è§£å†³çš„æœ€åŸºç¡€çš„åŠŸèƒ½ã€‚

### ğŸ˜ ä½¿ç”¨ [Jpom](https://gitee.com/dromara/Jpom) å

- æ–¹ä¾¿çš„ç”¨æˆ·ç®¡ç†
	1. ç”¨æˆ·æ“ä½œç›‘æ§ï¼Œç›‘æ§æŒ‡å®šç”¨æˆ·æŒ‡å®šæ“ä½œä»¥é‚®ä»¶å½¢å¼é€šçŸ¥
	2. å¤šç”¨æˆ·ç®¡ç†ï¼Œç”¨æˆ·é¡¹ç›®æƒé™ç‹¬ç«‹ï¼ˆä¸Šä¼ ã€åˆ é™¤æƒé™å¯æ§åˆ¶ï¼‰ï¼Œå®Œå–„çš„æ“ä½œæ—¥å¿—ï¼Œä½¿ç”¨å·¥ä½œç©ºé—´éš”ç¦»æƒé™
	3. è´¦å·å¯ä»¥å¼€å¯ **MFA ä¸¤æ­¥éªŒè¯**æé«˜è´¦å·å®‰å…¨æ€§
- ç•Œé¢å½¢å¼å®æ—¶æŸ¥çœ‹é¡¹ç›®è¿è¡ŒçŠ¶æ€ã€æ§åˆ¶å°æ—¥å¿—ã€ç®¡ç†é¡¹ç›®æ–‡ä»¶
	1. åœ¨çº¿ä¿®æ”¹é¡¹ç›®æ–‡æœ¬æ–‡ä»¶
- Docker å®¹å™¨ç®¡ç†ã€Docker swarm é›†ç¾¤ç®¡ç†ï¼ˆ**Docker ui**ï¼‰
- **åœ¨çº¿ SSH ç»ˆç«¯**ï¼Œè®©æ‚¨åœ¨æ²¡æœ‰ Xshellã€FinalShell ç­‰è½¯ä»¶ä¹Ÿèƒ½è½»æ¾ç®¡ç†æœåŠ¡å™¨
	1. ç™»å½• Jpom ç³»ç»Ÿåä¸éœ€è¦çŸ¥é“æœåŠ¡å™¨å¯†ç 
	2. èƒ½æŒ‡å®š SSH ç¦æ­¢æ‰§è¡Œçš„å‘½ä»¤ï¼Œé¿å…æ‰§è¡Œé«˜é£é™©å‘½ä»¤ï¼Œå¹¶ä¸”èƒ½è‡ªåŠ¨æ‰§è¡Œå‘½ä»¤æ—¥å¿—
	3. è®¾ç½®æ–‡ä»¶ç›®å½•ï¼Œåœ¨çº¿æŸ¥çœ‹ç®¡ç†å¯¹åº”é¡¹ç›®æ–‡ä»¶åŠé…ç½®æ–‡ä»¶
	4. SSH å‘½ä»¤æ¨¡ç‰ˆåœ¨çº¿æ‰§è¡Œè„šæœ¬è¿˜èƒ½å®šæ—¶æ‰§è¡Œ
	5. åœ¨çº¿ä¿®æ”¹æ–‡æœ¬æ–‡ä»¶
	6. **è½»é‡çš„å®ç°äº†ç®€å•çš„"å ¡å’æœº"åŠŸèƒ½**
- ä½¿ç”¨é¡¹ç›®åˆ†å‘ä¸€é”®æå®šé›†ç¾¤é¡¹ç›®å¤šæœºéƒ¨ç½²
- åœ¨çº¿æ„å»ºä¸ç”¨æ‰‹åŠ¨æ›´æ–°å‡çº§é¡¹ç›®
	1. æ”¯æŒæ‹‰å– GITã€SVN ä»“åº“
	2. **æ”¯æŒå®¹å™¨æ„å»ºï¼ˆdockerï¼‰**
	3. æ”¯æŒ SSH æ–¹å¼å‘å¸ƒ
	4. æ”¯æŒå®šæ—¶æ„å»º
	5. æ”¯æŒ WebHook å½¢å¼è§¦å‘æ„å»º
- æ”¯æŒåœ¨çº¿ç¼–è¾‘ nginx é…ç½®æ–‡ä»¶å¹¶è‡ªåŠ¨ reload ç­‰æ“ä½œ
	1. ç®¡ç† nginx çŠ¶æ€ï¼Œç®¡ç† SSL è¯ä¹¦
- é¡¹ç›®çŠ¶æ€ç›‘æ§å¼‚å¸¸è‡ªåŠ¨æŠ¥è­¦ã€è‡ªåŠ¨å°è¯•é‡å¯
	1. æ”¯æŒé‚®ä»¶ + é’‰é’‰ç¾¤ + å¾®ä¿¡ç¾¤é€šçŸ¥ï¼Œä¸»åŠ¨æ„ŸçŸ¥é¡¹ç›®è¿è¡ŒçŠ¶å†µ
- èŠ‚ç‚¹è„šæœ¬æ¨¡ç‰ˆ+å®šæ—¶æ‰§è¡Œæˆ–è€…è§¦å‘å™¨ï¼Œæ‹“å±•æ›´å¤šåŠŸèƒ½
- é‡è¦è·¯å¾„ç™½åå•æ¨¡å¼ï¼Œæœç»ç”¨æˆ·è¯¯æ“ä½œç³»ç»Ÿæ–‡ä»¶

### ğŸ””ï¸ ç‰¹åˆ«æé†’

> 1. åœ¨ Windows æœåŠ¡å™¨ä¸­å¯èƒ½æœ‰éƒ¨åˆ†åŠŸèƒ½å› ä¸ºç³»ç»Ÿç‰¹æ€§é€ æˆå…¼å®¹æ€§é—®é¢˜ï¼Œå»ºè®®åœ¨å®é™…ä½¿ç”¨ä¸­å……åˆ†æµ‹è¯•ã€‚Linux ç›®å‰å…¼å®¹æ€§è‰¯å¥½
> 2. æœåŠ¡ç«¯å’Œæ’ä»¶ç«¯è¯·å®‰è£…åˆ°ä¸åŒç›®å½•ä¸­ï¼Œåˆ‡å‹¿å®‰è£…åˆ°åŒä¸€ç›®å½•ä¸­
> 3. å¸è½½ Jpom æ’ä»¶ç«¯æˆ–è€…æœåŠ¡ç«¯ï¼Œå…ˆåœæ­¢å¯¹åº”æœåŠ¡ï¼Œç„¶ååˆ é™¤å¯¹åº”çš„ç¨‹åºæ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶å¤¹ã€æ•°æ®ç›®å½•æ–‡ä»¶å¤¹å³å¯
> 4. æœ¬åœ°æ„å»ºä¾èµ–çš„æ˜¯ç³»ç»Ÿç¯å¢ƒï¼Œå¦‚æœæ„å»ºå‘½ä»¤éœ€è¦ä½¿ç”¨ maven æˆ–è€… node
	 éœ€è¦åœ¨æ„å»ºé¡¹ç›®çš„æœåŠ¡å™¨å®‰è£…å¥½å¯¹åº”çš„ç¯å¢ƒã€‚å¦‚æœå·²ç»å¯åŠ¨æœåŠ¡ç«¯å†å®‰è£…çš„å¯¹åº”ç¯å¢ƒéœ€è¦é€šè¿‡å‘½ä»¤è¡Œé‡å¯æœåŠ¡ç«¯åç¯å¢ƒæ‰ä¼šç”Ÿæ•ˆã€‚
> 5. åœ¨ Ubuntu/Debian æœåŠ¡å™¨ä½œä¸ºæ’ä»¶ç«¯å¯èƒ½ä¼šæ·»åŠ å¤±è´¥ï¼Œè¯·åœ¨å½“å‰ç”¨æˆ·çš„æ ¹ç›®å½•åˆ›å»º .bash_profile æ–‡ä»¶
> 6. å‡çº§ 2.7.x åä¸å»ºè®®é™çº§æ“ä½œï¼Œä¼šæ¶‰åŠåˆ°æ•°æ®ä¸å…¼å®¹çš„æƒ…å†µ
> 7. ç”±äºç›®å‰ 2.x.x ç‰ˆæœ¬æ’ä»¶ç«¯å’ŒæœåŠ¡ç«¯ä¸»è¦é‡‡ç”¨ http åè®®é€šè®¯ï¼Œæ’ä»¶ç«¯å’ŒæœåŠ¡ç«¯ç½‘ç»œè¦æ±‚äº’é€šï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™è¯·æ³¨æ„ã€‚
> 8. Jpom 3.0 ç‰ˆæœ¬å·²ç»å¼€å§‹è§„åˆ’æ›´æ–°äº†ï¼Œå°½è¯·æœŸå¾…æ–°ç‰ˆæœ¬çš„è¯ç”Ÿå§

### ğŸ—’ï¸ [ç‰ˆæœ¬æ›´æ–°æ—¥å¿—](https://gitee.com/dromara/Jpom/blob/master/CHANGELOG.md)

å‡çº§å‰å¿…çœ‹ï¼š[CHANGELOG.md](https://gitee.com/dromara/Jpom/blob/master/CHANGELOG.md)

## ğŸ“¥ å®‰è£… Jpom

Jpom æ”¯æŒå¤šç§å®‰è£…æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œæ‚¨åªéœ€è¦é€‰æ‹©ä¸€ç§æ–¹å¼å®‰è£…å³å¯ã€‚

### æ–¹å¼ä¸€ï¼šğŸš€ï¼ˆæ¨èï¼‰ ä¸€é”®å®‰è£…ï¼ˆLinuxï¼‰

#### ä¸€é”®å®‰è£…æœåŠ¡ç«¯

> **æ³¨æ„ï¼šå®‰è£…çš„ç›®å½•ä½äºæ‰§è¡Œå‘½ä»¤çš„ç›®å½•ï¼**
>
> âš ï¸ ç‰¹åˆ«æé†’ï¼šä¸€é”®å®‰è£…çš„æ—¶å€™æ³¨æ„æ‰§è¡Œå‘½ä»¤ä¸å¯åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå³ Server ç«¯å’Œ Agent ç«¯ä¸å¯å®‰è£…åœ¨åŒä¸€ç›®å½•ä¸‹ï¼
>
> å¦‚æœéœ€è¦ä¿®æ”¹æœåŠ¡ç«¯æ•°æ®ã€æ—¥å¿—å­˜å‚¨çš„è·¯å¾„è¯·ä¿®æ”¹
> [`application.yml`](https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/resources/config_default/application.yml)
> æ–‡ä»¶ä¸­ `jpom.path` é…ç½®å±æ€§ã€‚

```shell
# ä¸€é”®é»˜è®¤å®‰è£…
curl -fsSL https://jpom.top/docs/install.sh | bash -s Server jdk+default
# ä¸€é”®é»˜è®¤å®‰è£… + è‡ªåŠ¨é…ç½®å¼€æœºè‡ªå¯æœåŠ¡
curl -fsSL https://jpom.top/docs/install.sh | bash -s Server jdk+default+service

# å®‰è£…æœåŠ¡ç«¯å’Œ jdk ç¯å¢ƒ
yum install -y wget && \
wget -O install.sh https://jpom.top/docs/install.sh && \
bash install.sh Server jdk

# å®‰è£…æœåŠ¡ç«¯å’Œ jdkã€maven ç¯å¢ƒ
yum install -y wget && \
wget -O install.sh https://jpom.top/docs/install.sh && \
bash install.sh Server jdk+mvn

# ubuntu
apt-get install -y wget && \
wget -O install.sh https://jpom.top/docs/install.sh && \
bash install.sh Server jdk
```

å¯åŠ¨æˆåŠŸåï¼ŒæœåŠ¡ç«¯çš„ç«¯å£ä¸º `2122`ï¼Œå¯é€šè¿‡ `http://127.0.0.1:2122/`
è®¿é—®ç®¡ç†é¡µé¢ï¼ˆå¦‚æœä¸æ˜¯æœ¬æœºè®¿é—®ï¼Œéœ€è¦æŠŠ 127.0.0.1 æ¢æˆä½ å®‰è£…çš„æœåŠ¡å™¨ IP åœ°å€ï¼‰ã€‚

> å¦‚æ— æ³•è®¿é—®ç®¡ç†ç³»ç»Ÿï¼Œæ‰§è¡Œå‘½ä»¤ `systemctl status firewalld` æ£€æŸ¥ä¸‹æ˜¯å¦å¼€å¯äº†é˜²ç«å¢™
> ï¼Œå¦‚çŠ¶æ€æ çœ‹åˆ°ç»¿è‰²æ˜¾ç¤º `Active: active (running)` éœ€è¦æ”¾è¡Œ `2122` ç«¯å£ã€‚
>
>```bash
># æ”¾è¡Œç®¡ç†ç³»ç»Ÿçš„ 2122 ç«¯å£
>firewall-cmd --add-port=2122/tcp --permanent
># é‡å¯é˜²ç«å¢™æ‰ä¼šç”Ÿæ•ˆ
>firewall-cmd --reload
>```
>
>å¦‚æœåœ¨æ“ä½œç³»ç»Ÿä¸Šæ”¾è¡Œäº†ç«¯å£ä»æ— æ³•è®¿é—®ï¼Œå¹¶ä¸”ä½ ä½¿ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œè¯·åˆ°äº‘æœåŠ¡å™¨åå°ä¸­æ£€æŸ¥å®‰å…¨ç»„è§„åˆ™æ˜¯å¦æ”¾è¡Œ 2122 ç«¯å£ã€‚
>
>âš ï¸ æ³¨æ„ï¼š Linux ç³»ç»Ÿä¸­æœ‰å¤šç§é˜²ç«å¢™ï¼šFirewallã€Iptablesã€SELinux ç­‰ï¼Œå†æ£€æŸ¥é˜²ç«å¢™é…ç½®æ—¶å€™éœ€è¦éƒ½æ£€æŸ¥ä¸€ä¸‹ã€‚

#### ä¸€é”®å®‰è£…æ’ä»¶ç«¯

> å¦‚æœå®‰è£…æœåŠ¡ç«¯çš„æœåŠ¡å™¨ä¹Ÿéœ€è¦è¢«ç®¡ç†ï¼Œåœ¨æœåŠ¡ç«¯ä¸Šä¹Ÿéœ€è¦å®‰è£…æ’ä»¶ç«¯ï¼ˆåŒä¸€ä¸ªæœåŠ¡å™¨ä¸­å¯ä»¥åŒæ—¶å®‰è£…æœåŠ¡ç«¯å’Œæ’ä»¶ç«¯ï¼‰
>
> âš ï¸ ç‰¹åˆ«æé†’ï¼šä¸€é”®å®‰è£…çš„æ—¶å€™æ³¨æ„æ‰§è¡Œå‘½ä»¤ä¸å¯åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå³ Server ç«¯å’Œ Agent ç«¯ä¸å¯å®‰è£…åœ¨åŒä¸€ç›®å½•ä¸‹ï¼
>
> å¦‚æœéœ€è¦ä¿®æ”¹æ’ä»¶ç«¯æ•°æ®ã€æ—¥å¿—å­˜å‚¨çš„è·¯å¾„è¯·ä¿®æ”¹
> [`application.yml`](https://gitee.com/dromara/Jpom/blob/master/modules/agent/src/main/resources/config_default/application.yml)
> æ–‡ä»¶ä¸­ `jpom.path` é…ç½®å±æ€§ã€‚

```shell
# ä¸€é”®é»˜è®¤å®‰è£…
curl -fsSL https://jpom.top/docs/install.sh | bash -s Agent jdk+default
# ä¸€é”®é»˜è®¤å®‰è£… + è‡ªåŠ¨é…ç½®å¼€æœºè‡ªå¯æœåŠ¡
curl -fsSL https://jpom.top/docs/install.sh | bash -s Agent jdk+default+service

# å®‰è£…æ’ä»¶ç«¯å’Œ jdk ç¯å¢ƒ
yum install -y wget && \
wget -O install.sh https://jpom.top/docs/install.sh && \
bash install.sh Agent jdk

# ubuntu
apt-get install -y wget && \
wget -O install.sh https://jpom.top/docs/install.sh && \
bash install.sh Agent jdk
```

å¯åŠ¨æˆåŠŸåï¼Œæ’ä»¶ç«¯çš„ç«¯å£ä¸º `2123`ï¼Œæ’ä»¶ç«¯æä¾›ç»™æœåŠ¡ç«¯ä½¿ç”¨ã€‚

### æ–¹å¼äºŒï¼šğŸ“¦ å®¹å™¨åŒ–å®‰è£…

> âš ï¸ æ³¨æ„ï¼šå®¹å™¨åŒ–å®‰è£…æ–¹å¼éœ€è¦å…ˆå®‰è£… dockerï¼Œ[ç‚¹å‡»è·³è½¬dockerå®‰è£…æ–‡æ¡£](https://jpom.top/pages/b63dc5/)

#### ä¸€æ¡å‘½ä»¤å®‰è£…

```shell
docker run -p 2122:2122 --name jpom-server jpomdocker/jpom
```

#### ä½¿ç”¨æŒ‚è½½æ–¹å¼å­˜å‚¨ç›¸å…³æ•°æ®ï¼ˆåœ¨éƒ¨åˆ†ç¯å¢ƒå¯èƒ½å‡ºç°å…¼å®¹æ€§é—®é¢˜ï¼‰

```shell
docker pull jpomdocker/jpom
mkdir -p /home/jpom-server/logs
mkdir -p /home/jpom-server/data
mkdir -p /home/jpom-server/conf
docker run -d -p 2122:2122 \
	--name jpom-server \
	-v /home/jpom-server/logs:/usr/local/jpom-server/logs \
	-v /home/jpom-server/data:/usr/local/jpom-server/data \
	-v /home/jpom-server/conf:/usr/local/jpom-server/conf \
	jpomdocker/jpom
```

#### ä½¿ç”¨å®¹å™¨å·æ–¹å¼å­˜å‚¨ç›¸å…³æ•°æ®

```shell
docker pull jpomdocker/jpom
docker volume create jpom-server-data
docker volume create jpom-server-logs
docker volume create jpom-server-conf
docker run -d -p 2122:2122 \
	--name jpom-server \
	-v jpom-server-data:/usr/local/jpom-server/data \
	-v jpom-server-logs:/usr/local/jpom-server/logs \
	-v jpom-server-conf:/usr/local/jpom-server/conf \
	jpomdocker/jpom
```

> å®¹å™¨åŒ–å®‰è£…ä»…æä¾›æœåŠ¡ç«¯ç‰ˆã€‚ç”±äºå®¹å™¨å’Œå®¿ä¸»æœºç¯å¢ƒéš”ç¦»ï¼Œè€Œå¯¼è‡´æ’ä»¶ç«¯çš„å¾ˆå¤šåŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œå› æ­¤å¯¹æ’ä»¶ç«¯å®¹å™¨åŒ–æ„ä¹‰ä¸å¤§ã€‚
>
> å®‰è£…dockerã€é…ç½®é•œåƒã€è‡ªåŠ¨å¯åŠ¨ã€æŸ¥æ‰¾å®‰è£…åæ‰€åœ¨ç›®å½•ç­‰å¯å‚è€ƒæ–‡æ¡£
> [https://jpom.top/pages/b63dc5/](https://jpom.top/pages/b63dc5/)
>
> åœ¨ä½ç‰ˆæœ¬ docker ä¸­è¿è¡Œå¯èƒ½å‡ºç° `ls: cannot access'/usr/local/jpom-server/lib/': Operation not permitted`
> é”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦æ·»åŠ  `--privileged` å‚æ•°
> å¦‚ï¼š`docker run -p 2122:2122 --name jpom-server jpomdocker/jpom --privileged`

### æ–¹å¼ä¸‰ï¼šğŸ’¾ ä¸‹è½½å®‰è£…

1. ä¸‹è½½å®‰è£…åŒ… [https://jpom.top/pages/all-downloads/](https://jpom.top/pages/all-downloads/)
2. è§£å‹æ–‡ä»¶
3. å®‰è£…æ’ä»¶ç«¯
	1. agent-x.x.x-release ç›®å½•ä¸ºæ’ä»¶ç«¯çš„å…¨éƒ¨å®‰è£…æ–‡ä»¶
	2. ä¸Šä¼ åˆ°å¯¹åº”æœåŠ¡å™¨ï¼ˆæ•´ä¸ªç›®å½•ï¼‰
	3. å¯åŠ¨æ’ä»¶ç«¯ï¼ŒWindows ç¯å¢ƒç”¨ bat è„šæœ¬ï¼ŒLinux ç¯å¢ƒç”¨ sh è„šæœ¬ã€‚ï¼ˆå¦‚æœå‡ºç°ä¹±ç æˆ–è€…æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¯·æ£€æŸ¥ç¼–ç æ ¼å¼ã€æ¢è¡Œç¬¦æ˜¯å¦åŒ¹é…ã€‚ï¼‰
	4. æ’ä»¶ç«¯é»˜è®¤è¿è¡Œç«¯å£ï¼š`2123`
4. å®‰è£…æœåŠ¡ç«¯
	1. server-x.x.x-release ç›®å½•ä¸ºæœåŠ¡ç«¯çš„å…¨éƒ¨å®‰è£…æ–‡ä»¶
	2. ä¸Šä¼ åˆ°å¯¹åº”æœåŠ¡å™¨ï¼ˆæ•´ä¸ªç›®å½•ï¼‰
	3. å¯åŠ¨æœåŠ¡ç«¯ï¼ŒWindows ç¯å¢ƒç”¨ bat è„šæœ¬ï¼ŒLinux ç¯å¢ƒç”¨ sh è„šæœ¬ã€‚ï¼ˆå¦‚æœå‡ºç°ä¹±ç æˆ–è€…æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¯·æ£€æŸ¥ç¼–ç æ ¼å¼ã€æ¢è¡Œç¬¦æ˜¯å¦åŒ¹é…ã€‚ï¼‰
	4. æœåŠ¡ç«¯é»˜è®¤è¿è¡Œç«¯å£ï¼š`2122`ï¼Œè®¿é—®ç®¡ç†é¡µé¢ï¼š`http://127.0.0.1:2122/`ï¼ˆéæœ¬æœºè®¿é—®æŠŠ 127.0.0.1 æ¢æˆä½ çš„æœåŠ¡å™¨ IP åœ°å€ï¼‰

### æ–¹å¼å››ï¼šâŒ¨ï¸ ç¼–è¯‘å®‰è£…

1. è®¿é—® [Jpom](https://gitee.com/dromara/Jpom) çš„ç äº‘ä¸»é¡µï¼Œæ‹‰å–æœ€æ–°å®Œæ•´ä»£ç ï¼ˆå»ºè®®ä½¿ç”¨ master åˆ†æ”¯ï¼‰
2. åˆ‡æ¢åˆ° `web-vue` ç›®å½•ï¼Œæ‰§è¡Œ `npm install`ï¼ˆvue ç¯å¢ƒéœ€è¦æå‰æ­å»ºå’Œå®‰è£…ä¾èµ–åŒ…è¯¦æƒ…å¯ä»¥æŸ¥çœ‹ web-vue ç›®å½•ä¸‹ README.mdï¼‰
3. æ‰§è¡Œ `npm run build` è¿›è¡Œ vue é¡¹ç›®æ‰“åŒ…
4. åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š`mvn clean package`
5. å®‰è£…æ’ä»¶ç«¯
	1. æŸ¥çœ‹æ’ä»¶ç«¯å®‰è£…åŒ… modules/agent/target/agent-x.x.x-release
	2. æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨è¿è¡Œï¼ˆæ•´ä¸ªç›®å½•ï¼‰
	3. å¯åŠ¨æ’ä»¶ç«¯ï¼ŒWindows ç¯å¢ƒç”¨ bat è„šæœ¬ï¼ŒLinux ç¯å¢ƒç”¨ sh è„šæœ¬ã€‚ï¼ˆå¦‚æœå‡ºç°ä¹±ç æˆ–è€…æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¯·æ£€æŸ¥ç¼–ç æ ¼å¼ã€æ¢è¡Œç¬¦æ˜¯å¦åŒ¹é…ã€‚ï¼‰
	4. é»˜è®¤è¿è¡Œç«¯å£ï¼š`2123`
6. å®‰è£…æœåŠ¡ç«¯
	1. æŸ¥çœ‹æ’ä»¶ç«¯å®‰è£…åŒ… modules/server/target/server-x.x.x-release
	2. æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨è¿è¡Œï¼ˆæ•´ä¸ªç›®å½•ï¼‰
	3. å¯åŠ¨æœåŠ¡ç«¯ï¼ŒWindows ç¯å¢ƒç”¨ bat è„šæœ¬ï¼ŒLinux ç¯å¢ƒç”¨ sh è„šæœ¬ã€‚ï¼ˆå¦‚æœå‡ºç°ä¹±ç æˆ–è€…æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¯·æ£€æŸ¥ç¼–ç æ ¼å¼ã€æ¢è¡Œç¬¦æ˜¯å¦åŒ¹é…ã€‚ï¼‰
	4. æœåŠ¡ç«¯é»˜è®¤è¿è¡Œç«¯å£ï¼š`2122`ï¼Œè®¿é—®ç®¡ç†é¡µé¢ï¼š`http://127.0.0.1:2122/`ï¼ˆéæœ¬æœºè®¿é—®æŠŠ 127.0.0.1 æ¢æˆä½ çš„æœåŠ¡å™¨ IP åœ°å€ï¼‰

> ä¹Ÿå¯ä»¥ä½¿ç”¨ `script/release.bat` æˆ– `script/release.sh` å¿«é€Ÿæ‰“åŒ…ã€‚

### æ–¹å¼äº”ï¼šğŸ“¦ ä¸€é”®å¯åŠ¨ docker-compose

- æ— éœ€å®‰è£…ä»»ä½•ç¯å¢ƒ,è‡ªåŠ¨ç¼–è¯‘æ„å»º

> éœ€è¦æ³¨æ„ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ token å€¼

```shell
yum install -y git
git clone https://gitee.com/dromara/Jpom.git
cd Jpom
docker-compose -f docker-compose.yml up
# docker-compose -f docker-compose.yml up --build
# docker-compose -f docker-compose.yml build --no-cache
# docker-compose -f docker-compose-local.yml up
# docker-compose -f docker-compose-local.yml build --build-arg TEMP_VERSION=.0
# docker-compose -f docker-compose-cluster.yml up --build
```

### æ–¹å¼å…­ï¼šğŸ’» ç¼–è¯‘è¿è¡Œ

1. è®¿é—® [Jpom](https://gitee.com/dromara/Jpom) çš„ç äº‘ä¸»é¡µ æ‹‰å–æœ€æ–°å®Œæ•´ä»£ç  ï¼ˆå»ºè®®ä½¿ç”¨ master åˆ†æ”¯ï¼Œå¦‚æœæƒ³ä½“éªŒæ–°åŠŸèƒ½å¯ä»¥ä½¿ç”¨
   dev åˆ†æ”¯ï¼‰
2. è¿è¡Œæ’ä»¶ç«¯
	1. è¿è¡Œ `org.dromara.jpom.JpomAgentApplication`
	2. ç•™æ„æ§åˆ¶å°æ‰“å°çš„é»˜è®¤è´¦å·å¯†ç ä¿¡æ¯
	3. æ’ä»¶ç«¯é»˜è®¤è¿è¡Œç«¯å£ï¼š`2123`
3. è¿è¡ŒæœåŠ¡ç«¯
	1. è¿è¡Œ `org.dromara.jpom.JpomServerApplication`
	2. æœåŠ¡ç«¯é»˜è®¤è¿è¡Œç«¯å£ï¼š`2122`
4. æ„å»º vue é¡µé¢ï¼Œåˆ‡æ¢åˆ° `web-vue` ç›®å½•ï¼ˆå‰æéœ€è¦æœ¬åœ°å¼€å‘ç¯å¢ƒæœ‰ nodeã€npm ç¯å¢ƒï¼‰
5. å®‰è£…é¡¹ç›® vue ä¾èµ–ï¼Œæ§åˆ¶å°æ‰§è¡Œ `npm install`
6. å¯åŠ¨å¼€å‘æ¨¡å¼ï¼Œæ§åˆ¶å°æ‰§è¡Œ `npm run serve`
7. æ ¹æ®æ§åˆ¶å°è¾“å‡ºçš„åœ°å€è®¿é—®å‰ç«¯é¡µé¢ï¼š`http://127.0.0.1:3000/`ï¼ˆéæœ¬æœºè®¿é—®æŠŠ 127.0.0.1 æ¢æˆä½ çš„æœåŠ¡å™¨ IP åœ°å€ï¼‰

## ç®¡ç† Jpom å‘½ä»¤

1. Windows ç³»ç»Ÿä½¿ç”¨ bat è„šæœ¬æ–‡ä»¶ã€‚

```bash
# æœåŠ¡ç«¯ç®¡ç†è„šæœ¬ ï¼ˆå‘½ä»¤è¡Œï¼‰
./bin/Server.bat start å¯åŠ¨JpomæœåŠ¡ç«¯
./bin/Server.bat stop åœæ­¢JpomæœåŠ¡ç«¯
./bin/Server.bat restart é‡å¯JpomæœåŠ¡ç«¯
./bin/Server.bat status æŸ¥çœ‹JpomæœåŠ¡ç«¯è¿è¡ŒçŠ¶æ€
# æœåŠ¡ç«¯ç®¡ç†è„šæœ¬ ï¼ˆæ§åˆ¶é¢æ¿ï¼‰ï¼ŒæŒ‰ç…§é¢æ¿æç¤ºè¾“å…¥æ“ä½œ
./bin/Server.bat

# æ’ä»¶ç«¯ç®¡ç†è„šæœ¬
./bin/Agent.bat start å¯åŠ¨Jpomæ’ä»¶ç«¯
./bin/Agent.bat stop åœæ­¢Jpomæ’ä»¶ç«¯
./bin/Agent.bat restart é‡å¯Jpomæ’ä»¶ç«¯
./bin/Agent.bat status æŸ¥çœ‹Jpomæ’ä»¶ç«¯è¿è¡ŒçŠ¶æ€
# æ’ä»¶ç«¯ç®¡ç†è„šæœ¬ï¼ˆæ§åˆ¶é¢æ¿ï¼‰ï¼ŒæŒ‰ç…§é¢æ¿æç¤ºè¾“å…¥æ“ä½œ
./bin/Agent.bat

```

> Windows ç³»ç»Ÿä¸­æ‰§è¡Œå¯åŠ¨åéœ€è¦æ ¹æ®æ—¥å¿—å»è·Ÿè¿›å¯åŠ¨çš„çŠ¶æ€ï¼Œå¦‚æœå‡ºç°ä¹±ç è¯·æ£€æŸ¥æˆ–è€…ä¿®æ”¹ç¼–ç æ ¼å¼ï¼ŒWindows ç³»ç»Ÿä¸­ bat
> ç¼–ç æ ¼å¼æ¨èä¸º `GB2312`

2. Linux ç³»ç»Ÿä¸­ä½¿ç”¨ sh è„šæœ¬æ–‡ä»¶ã€‚

```bash
# æœåŠ¡ç«¯
./bin/Server.sh start     å¯åŠ¨JpomæœåŠ¡ç«¯
./bin/Server.sh stop      åœæ­¢JpomæœåŠ¡ç«¯
./bin/Server.sh restart   é‡å¯JpomæœåŠ¡ç«¯
./bin/Server.sh status    æŸ¥çœ‹JpomæœåŠ¡ç«¯è¿è¡ŒçŠ¶æ€
./bin/Service.sh install    åˆ›å»ºJpomæœåŠ¡ç«¯çš„åº”ç”¨æœåŠ¡ï¼ˆjpom-serverï¼‰

# æ’ä»¶ç«¯
./bin/Agent.sh start     å¯åŠ¨Jpomæ’ä»¶ç«¯
./bin/Agent.sh stop      åœæ­¢Jpomæ’ä»¶ç«¯
./bin/Agent.sh restart   é‡å¯Jpomæ’ä»¶ç«¯
./bin/Agent.sh status    æŸ¥çœ‹Jpomæ’ä»¶ç«¯è¿è¡ŒçŠ¶æ€
./bin/Service.sh install     åˆ›å»ºJpomæ’ä»¶ç«¯çš„åº”ç”¨æœåŠ¡ï¼ˆjpom-agentï¼‰
```

## Linux æœåŠ¡æ–¹å¼ç®¡ç†

> è¿™é‡Œå®‰è£…æœåŠ¡ä»…ä¾›å‚è€ƒï¼Œå®é™…ä¸­å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰é…ç½®
>
> åœ¨ä½¿ç”¨ `./bin/Service.sh install` æˆåŠŸå
>
> systemctl {status | start | stop | restart} jpom-server
>
> systemctl {status | start | stop | restart} jpom-agent

## âš™ï¸ Jpom çš„å‚æ•°é…ç½®

åœ¨é¡¹ç›®è¿è¡Œçš„æ ¹è·¯å¾„ä¸‹çš„ ï¼š

### ç¨‹åºé…ç½®  `./conf/application.yml`

1. æ’ä»¶ç«¯ç¤ºä¾‹ï¼š
   [`application.yml`](https://gitee.com/dromara/Jpom/blob/master/modules/agent/src/main/resources/config_default/application.yml)
2. æœåŠ¡ç«¯ç¤ºä¾‹ï¼š
   [`application.yml`](https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/resources/config_default/application.yml)

### é¡¹ç›®æ—¥å¿—  `./conf/logback.xml`

1. æ’ä»¶ç«¯ç¤ºä¾‹ï¼š
   [`logback.xml`](https://gitee.com/dromara/Jpom/blob/master/modules/agent/src/main/resources/config_default/logback.xml)
2. æœåŠ¡ç«¯ç¤ºä¾‹ï¼š
   [`logback.xml`](https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/resources/config_default/logback.xml)

## æ„å»ºæ¡ˆä¾‹ä»“åº“ä»£ç 

1. [Jboot æ¡ˆä¾‹ä»£ç ](https://gitee.com/keepbx/Jpom-demo-case/tree/master/jboot-test)
2. [SpringBoot æ¡ˆä¾‹ä»£ç (ClassPath)](https://gitee.com/keepbx/Jpom-demo-case/tree/master/springboot-test)
3. [SpringBoot æ¡ˆä¾‹ä»£ç (Jar)](https://gitee.com/keepbx/Jpom-demo-case/tree/master/springboot-test-jar)
4. [node vue æ¡ˆä¾‹ä»£ç (antdv)](https://gitee.com/keepbx/Jpom-demo-case/tree/master/antdv)
5. [python æ¡ˆä¾‹ä»£ç ](https://gitee.com/keepbx/Jpom-demo-case/tree/master/python)

> nodejs ç¼–è¯‘æŒ‡å®šç›®å½•ï¼š

```bash
yarn --cwd xxxx/ install
yarn --cwd xxxx/ build
```

> maven ç¼–è¯‘æŒ‡å®šç›®å½•ï¼š

```bash
mvn -f xxxx/pom.xml clean package
```

## ğŸ“ å¸¸è§é—®é¢˜ã€æ“ä½œè¯´æ˜

- [æ–‡æ¡£ä¸»é¡µ](https://jpom.top/)
- [FQA](https://jpom.top/pages/FQA/)
- [åè¯è§£é‡Š](https://jpom.top/pages/FQA/proper-noun/)

### å®è·µæ¡ˆä¾‹

> é‡Œé¢æœ‰éƒ¨åˆ†å›¾ç‰‡åŠ è½½å¯èƒ½æ¯”è¾ƒæ…¢

1. [æœ¬åœ°æ„å»º + SSH å‘å¸ƒ java é¡¹ç›®](https://jpom.top/pages/practice/build-java-ssh-release/)
2. [æœ¬åœ°æ„å»º + é¡¹ç›®å‘å¸ƒ node é¡¹ç›®](https://jpom.top/pages/practice/build-node-release/)
3. [æœ¬åœ°æ„å»º + SSH å‘å¸ƒ node é¡¹ç›®](https://jpom.top/pages/practice/build-node-ssh-release/)
4. [æœ¬åœ°æ„å»º + è‡ªå®šä¹‰ç®¡ç† python é¡¹ç›®](https://jpom.top/pages/practice/project-dsl-python/)
5. [è‡ªå®šä¹‰ç®¡ç† java é¡¹ç›®](https://jpom.top/pages/practice/project-dsl-java/)
6. [ç®¡ç†ç¼–è¯‘å®‰è£…çš„ nginx](https://jpom.top/pages/practice/node-nginx/)
7. [ç®¡ç† docker](https://jpom.top/pages/practice/docker-cli/)
8. [å®¹å™¨æ„å»º + é¡¹ç›®å‘å¸ƒ java é¡¹ç›®](https://jpom.top/pages/practice/build-docker-java-node-release/)
9. [æ›´æ–°å®è·µæ¡ˆä¾‹>>](https://jpom.top/pages/practice/)

## ğŸ› ï¸ æ•´ä½“æ¶æ„

![jpom-func-arch](https://jpom.top/images/jpom-func-arch.jpg)

## ğŸ”” ç²¾å“é¡¹ç›®æ¨è

| é¡¹ç›®åç§°          | é¡¹ç›®åœ°å€                                                                       | é¡¹ç›®ä»‹ç»                                          |
|---------------|----------------------------------------------------------------------------|-----------------------------------------------|
| SpringBoot_v2 | [https://gitee.com/bdj/SpringBoot_v2](https://gitee.com/bdj/SpringBoot_v2) | åŸºäºspringbootçš„ä¸€æ¬¾çº¯å‡€è„šæ‰‹æ¶                          |
| TLog GVP é¡¹ç›®   | [https://gitee.com/dromara/TLog](https://gitee.com/dromara/TLog)           | ä¸€ä¸ªè½»é‡çº§çš„åˆ†å¸ƒå¼æ—¥å¿—æ ‡è®°è¿½è¸ªç¥å™¨ï¼Œ10åˆ†é’Ÿå³å¯æ¥å…¥ï¼Œè‡ªåŠ¨å¯¹æ—¥å¿—æ‰“æ ‡ç­¾å®Œæˆå¾®æœåŠ¡çš„é“¾è·¯è¿½è¸ª |
| Sa-Token      | [https://gitee.com/dromara/sa-token](https://gitee.com/dromara/sa-token)   | è¿™å¯èƒ½æ˜¯å²ä¸ŠåŠŸèƒ½æœ€å…¨çš„ Java æƒé™è®¤è¯æ¡†æ¶ï¼                      |
| Erupt         | [https://gitee.com/erupt/erupt](https://gitee.com/erupt/erupt)             | é›¶å‰ç«¯ä»£ç ï¼Œçº¯æ³¨è§£å¼€å‘ admin ç®¡ç†åå°                        |
| hippo4j       | [https://gitee.com/magegoofy/hippo4j](https://gitee.com/magegoofy/hippo4j) | å¼ºå¤§çš„åŠ¨æ€çº¿ç¨‹æ± æ¡†æ¶ï¼Œé™„å¸¦ç›‘æ§æŠ¥è­¦åŠŸèƒ½ã€‚                          |
| HertzBeat     | [https://gitee.com/dromara/hertzbeat](https://gitee.com/dromara/hertzbeat) | æ˜“ç”¨å‹å¥½çš„äº‘ç›‘æ§ç³»ç»Ÿ, æ— éœ€ Agent, å¼ºå¤§è‡ªå®šä¹‰ç›‘æ§èƒ½åŠ›ã€‚              |

# å‚è€ƒèµ„æ–™

https://github.com/dromara/Jpom

* any list
{:toc}



