---
layout: post
title: 监控利器之 datadog-02-聊一聊
date:  2019-4-1 19:24:57 +0800
categories: [Monitor]
tags: [monitor, apm, api, sf]
published: true
---

# chat

## datadog 介绍

Datadog 是一家提供监控和分析服务的公司，专注于云基础设施、应用程序、日志和用户行为的实时监控。

它主要用于帮助 DevOps、开发人员、IT 和安全团队更好地理解其应用程序、服务和基础设施的健康状况，并及时发现和解决潜在问题。

### 1. 核心功能

#### 1.1 基础设施监控
Datadog 可以监控各种云服务（如 AWS、Azure 和 Google Cloud）和本地基础设施。它能够跟踪服务器、容器、虚拟机和网络设备的性能，提供深入的指标和告警。

#### 1.2 应用性能监控（APM）
Datadog 的 APM 功能帮助开发人员和运维人员识别应用程序中的瓶颈。它可以跟踪请求的生命周期，查看每个请求的延迟和事务的性能，并能够自动捕获异常和错误日志。支持 Java、Python、Node.js、Ruby、Go 等多种编程语言。

#### 1.3 日志管理
Datadog 提供集中化的日志管理功能，允许用户收集、存储、搜索和分析日志。通过与其他监控数据结合，用户可以实现日志与性能指标的联动分析，快速定位问题根源。

#### 1.4 用户体验监控
Datadog 提供 RUM（Real User Monitoring）功能来监控实际用户的行为，帮助产品团队和开发人员分析用户体验，找出影响性能的因素，优化用户体验。

#### 1.5 网络性能监控
Datadog 提供网络性能监控功能，帮助用户了解其网络流量和拓扑结构，发现潜在的网络瓶颈，并诊断网络性能问题。

#### 1.6 告警与通知
Datadog 支持自定义告警规则和阈值，能够在基础设施或应用性能出现问题时及时通知用户。告警可以通过多种渠道发送，包括电子邮件、Slack、PagerDuty、Webhooks 等。

### 2. 集成与兼容性

Datadog 提供与多个平台和服务的集成，包括：
- 云服务：AWS、Azure、Google Cloud
- 容器和 Kubernetes：支持 Docker 和 Kubernetes 集成，能够监控容器的健康状态、资源消耗等。
- 数据库：支持 MySQL、PostgreSQL、MongoDB 等数据库监控。
- 应用程序和框架：支持 Java、Python、Node.js、Ruby、Go 等编程语言及其框架。
- 网络：支持对 CDN、负载均衡器、防火墙、DNS 等的监控。
- 外部服务：与 GitHub、GitLab、JIRA、Slack 等工具的集成。

### 3. 数据可视化

Datadog 提供了强大的数据可视化功能。用户可以创建自定义的仪表盘，实时查看各种服务和应用的性能指标。支持各种图表类型（如线形图、饼图、柱状图、散点图等），并且可以通过拖放操作轻松构建仪表盘。

### 4. 分布式追踪和错误分析

Datadog 提供分布式追踪功能，通过追踪请求的生命周期来帮助开发人员分析性能瓶颈。它可以查看跨多个服务的请求，帮助定位性能瓶颈和错误来源，特别是在微服务架构中尤为有用。

### 5. 自动化和机器学习

Datadog 还引入了机器学习来自动化一些监控任务，如自动检测异常、趋势预测等。机器学习可以帮助自动化告警的创建和数据的智能分析，减少人为干预。

### 6. 安全监控

Datadog 还提供安全监控功能，能够实时检测安全漏洞、配置错误和异常行为，确保云基础设施和应用程序的安全性。

### 7. 使用案例
- 云应用监控：对于在云中运行的大规模分布式应用，Datadog 提供完整的基础设施监控和应用性能监控，帮助团队提高应用的可用性。
- 微服务架构：Datadog 通过分布式追踪和日志管理，帮助微服务架构中的开发和运维团队跟踪和排查跨服务的问题。
- 容器化环境：在使用 Kubernetes 和 Docker 的环境中，Datadog 可以对容器、节点和 Pod 进行全面监控。
- 跨团队协作：团队可以通过 Datadog 提供的共享仪表盘和集成功能，在不同团队之间进行跨职能的协作和问题解决。

### 8. 定价
Datadog 的定价通常根据使用的服务和监控的主机数进行计算，按月收费。它提供多种定价方案，可以根据团队的需求选择合适的服务组合。

### 9. 优点
- 全面的监控功能：Datadog 提供从基础设施到应用程序的全方位监控。
- 易于集成：支持多种第三方服务和平台的集成。
- 实时告警和通知：及时发现问题并通过多渠道告警通知用户。
- 强大的可视化功能：支持自定义仪表盘和报告，帮助用户快速分析和诊断问题。

### 10. 缺点
- 定价较高：对于小型团队或初创公司来说，Datadog 的价格可能偏高。
- 学习曲线：虽然功能强大，但一些高级功能（如分布式追踪和机器学习）可能需要时间来学习和配置。
- 数据存储成本：长期存储大量日志和监控数据可能会增加成本。

Datadog 是一款功能丰富且强大的监控工具，适合需要全面、实时监控和分析的企业和开发团队。如果你的团队正在寻求更高效的应用和基础设施监控，Datadog 是一个值得考虑的选择。


## 开源吗

Datadog 不是完全开源的，Datadog 提供的是一个商业化的监控和分析平台，其核心产品和大部分功能（如仪表盘、APM、日志管理等）都是闭源的，用户需要通过付费订阅来使用这些服务。

然而，Datadog Agent（用于收集主机、容器、日志等数据并发送到 Datadog 平台的代理程序）是开源的。

Datadog Agent 是以 Apache 2.0 许可证发布的，允许用户查看、修改和分发源代码。

用户可以根据自己的需求进行定制，甚至将其用在不使用 Datadog 平台的场景中。

Agent 支持多个操作系统（如 Linux、Windows、macOS）和容器平台（如 Docker 和 Kubernetes），并提供了丰富的集成功能来收集各类指标和日志。

### 总结：
- Datadog 平台（核心功能）：闭源，提供商业服务。
- Datadog Agent：开源，允许自定义和集成，但主要用于与 Datadog 平台配合使用。

如果你只需要收集数据并存储在自己的平台上，或者希望根据需要定制代理程序的行为，你可以使用开源的 Datadog Agent。

但要享受 Datadog 提供的完整监控和分析功能（如仪表盘、APM、日志管理等），仍然需要订阅付费服务。

# 参考资料

https://github.com/dromara/hertzbeat/blob/master/README_CN.md

https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/introduction/

https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/arch/

* any list
{:toc}