---
layout: post
title:  Jekyll
date:   2016-04-13 23:20:27 +0800
categories: [UI]
tags: [jekyll, SEO]
published: true
---



# jekyll 搭建教程

> [jekyll 搭建教程](https://segmentfault.com/a/1190000002539546?_ea=304992)

# Gem

Install ruby, here is the [download](http://rubyinstaller.org/downloads) address.


# Jekyll

[Jekyll](https://jekyllrb.com/docs/home/) is a simple, blog-aware, static site generator.

> [jekyll doc zh_CN](http://jekyllcn.com)

> [jike zh_CN](http://wiki.jikexueyuan.com/project/jekyll/)


Use command to install jekyll as following.

```
$ gem install jekyll
```

You may need use **Proxy Software** in China. Then, wait and learn how to use it.

Or you can use [rails](https://ruby.taobao.org/) instead of jekyll.

If you are use mac, use this.

```
$ sudo gem install jekyll

```

- Git

You need know how to use Git.

> [Git doc](http://www.runoob.com/git/git-tutorial.html "Git")

# In Windows

有时候工作需要，会使用 windows 系统。如果对于 blog 进行编辑，想看到效果十分麻烦。因此尝试在 windows 下安装 jekyll.

## Install Ruby

一、Download

[Download](http://rubyinstaller.org/downloads/) the fit installer for your computer;

二、Install

安装时**勾选**上 `Add Ruby executables to your PATH`;

三、Version

命令行输入如下

```
$ ruby -v
ruby 2.3.3p222 (2016-11-21 revision 56859) [x64-mingw32]
```

## Install DevKit

一、Download

[Download](http://rubyinstaller.org/downloads/) the fit installer for your computer;

选择匹配的软件。本次选择 `DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe`, 
**For use with Ruby 2.0 to 2.3 (x64 - 64bits only)**


二、UnZip

下载并解压文件至路径如**D:\Devkit**下：

三、Run

```
$   cd d:\Devkit

[D:\Devkit]$ ruby dk.rb init
[INFO] found RubyInstaller v2.3.3 at D:/Ruby23-x64

Initialization complete! Please review and modify the auto-generated
'config.yml' file to ensure it contains the root directories to all
of the installed Rubies you want enhanced by the DevKit.
```

查看 `config.yml` 应该有如下内容

```yml
# This configuration file contains the absolute path locations of all
# installed Rubies to be enhanced to work with the DevKit. This config
# file is generated by the 'ruby dk.rb init' step and may be modified
# before running the 'ruby dk.rb install' step. To include any installed
# Rubies that were not automagically discovered, simply add a line below
# the triple hyphens with the absolute path to the Ruby root directory.
#
# Example:
#
# ---
# - C:/ruby19trunk
# - C:/ruby192dev
#
---
- D:/Ruby23-x64
```

四、Review & Install

```
[D:\Devkit]$ ruby dk.rb review
Based upon the settings in the 'config.yml' file generated
from running 'ruby dk.rb init' and any of your customizations,
DevKit functionality will be injected into the following Rubies
when you run 'ruby dk.rb install'.

D:/Ruby23-x64

[D:\Devkit]$ ruby dk.rb install
[INFO] Updating convenience notice gem override for 'D:/Ruby23-x64'
[INFO] Installing 'D:/Ruby23-x64/lib/ruby/site_ruby/devkit.rb'
```

## Install Jekyll

一、Ensure gem has install

```
[D:\Devkit]$ gem -v
2.5.2
```

二、Install jekyll


# Problem

- Error:  Permission denied - bind(2) for 127.0.0.1:4000

> [bind localhost:4000 failed](http://www.cnblogs.com/lxconan/archive/2016/01/11/5119972.html)

use

```
    $ netstat -ano
    $ tasklist /svc /FI "PID eq ${pid}"
```
pid is the result of thread who occupy localhost:4000; Use task manager to kill this thread;

- Please add the following to your Gemfile to avoid polling for changes:
  gem 'wdm', '>= 0.1.0' if Gem.win_platform?

>  [gem 'wdm', '>= 0.1.0' if Gem.win_platform?](http://stackoverflow.com/questions/30720797/jekyll-install-on-windows-error-message)

I have tried times, but also failed. Luckily, jekyll is still work well.


-  jekyll-paginate

```
Configuration file: /Users/houbinbin/blog/houbb.github.io/_config.yml
  Dependency Error: Yikes! It looks like you don't have jekyll-paginate or one of its dependencies installed. In order to use Jekyll as currently configured, you'll need to install this gem. The full error message from Ruby is: 'cannot load such file -- jekyll-paginate' If you run into trouble, you can find helpful resources at http://jekyllrb.com/help/!
jekyll 3.1.3 | Error:  jekyll-paginate
```

solve method.

```
$ sudo gem install jekyll-paginate

```

- 谷歌文件加载慢

> [fonts.googleapis.com加载慢解决办法](http://blog.csdn.net/kalision/article/details/46774127)

我是直接将semantic引用此文件的地方注释掉了。


# TOC

> [TOC](http://loudou.info/blog/2014/08/01/wei-octopress-tian-jia-toc/)

add these code in your file.

```
* any list
{:toc}
```

# 分页

> [base page zh_CN](http://wiki.jikexueyuan.com/project/jekyll/pagination.html)

[最多页数限制](https://www.v2ex.com/t/32433)


分页功能插件使得 `paginator` liquid 对象具有下列属性：

|属性|说明|
|:---|:---|
| page				 | 当前页码 |
| per_page			 | 每页文章数量 |
| posts				 | 当前页的文章列表 |
| total_posts			 | 总文章数 |
| total_pages			 | 总页数 |
| previous_page		 | 上一页页码 或 nil（如果上一页不存在）|
| previous_page_path	 | 上一页路径 或 nil（如果上一页不存在）|
| next_page			 | 下一页页码 或 nil（如果下一页不存在）|
| next_page_path		 | 下一页路径 或 nil（如果下一页不存在）|


# Search

> [nice query](http://www.codeboy.me/2016/01/18/jekyll-search-component/)

# SEO

> [掌心 SEO](http://www.zhanxin.info/jekyll/2012-12-09-jekyll-seo.html)

> [Rang SEO](http://www.zhanxin.info/jekyll/2012-12-09-jekyll-seo.html)


博客写好之后，直接搜索基本搜索不到。



# TODO

> [文章置顶](http://blog.csdn.net/szhielelp/article/details/54881594)

has done!


> [多说](http://blog.fooleap.org/talk-about-duoshuo.html)




* any list
{:toc}

