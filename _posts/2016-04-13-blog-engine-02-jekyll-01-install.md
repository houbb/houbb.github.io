---
layout: post
title:  blog-engine-01-通过博客引擎 jekyll 构建 github pages 博客实战笔记
date:   2016-04-13 23:20:27 +0800
categories: [Github]
tags: [jekyll, seo, github]
published: true
---

# 拓展阅读

[blog-engine-01-常见博客引擎 jekyll/hugo/Hexo/Pelican/Gatsby/VuePress/Nuxt.js/Middleman 对比](https://houbb.github.io/2016/04/13/blog-engine-01-overview)

[blog-engine-02-通过博客引擎 jekyll 构建 github pages 博客实战笔记](https://houbb.github.io/2016/04/13/blog-engine-02-jekyll-01-install)

[blog-engine-02-博客引擎jekyll-jekyll 博客引擎介绍](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-02-intro)

[blog-engine-02-博客引擎jekyll-jekyll 如何在 windows 环境安装，官方文档](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-03-install-on-windows-doc)

[blog-engine-02-博客引擎jekyll-jekyll SEO](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-04-seo)

[blog-engine-04-博客引擎 hugo intro 入门介绍+安装笔记](https://houbb.github.io/2016/04/13/blog-engine-04-hugo-intro)

[blog-engine-05-博客引擎 Hexo 入门介绍+安装笔记](https://houbb.github.io/2017/03/29/blog-engine-05-hexo)

[blog-engine-06-pelican 静态网站生成 官方文档](https://houbb.github.io/2016/04/13/blog-engine-06-pelican-01-intro)

[blog-engine-06-pelican 静态网站生成 windows 安装实战](https://houbb.github.io/2016/04/13/blog-engine-06-pelican-02-quick-start)

[blog-engine-07-gatsby 建极速网站和应用程序 基于React的最佳框架，具备性能、可扩展性和安全性](https://houbb.github.io/2016/04/13/blog-engine-07-gatsby-01-intro)

[blog-engine-08-vuepress 以 Markdown 为中心的静态网站生成器](https://houbb.github.io/2016/04/13/blog-engine-08-vuepress-01-intro)

[blog-engine-09-nuxt 构建快速、SEO友好和可扩展的Web应用程序变得轻松](https://houbb.github.io/2016/04/13/blog-engine-09-nuxt-01-intro)

[blog-engine-10-middleman 静态站点生成器，利用了现代 Web 开发中的所有快捷方式和工具](https://houbb.github.io/2016/04/13/blog-engine-10-middleman-01-intro)

# 前言

由于个人一直喜欢使用 markdown 来写 [个人博客](https://houbb.github.io/)，最近就整理了一下有哪些博客引擎。

感兴趣的小伙伴也可以选择自己合适的。

# jekyll 搭建教程

> [jekyll 搭建教程](https://segmentfault.com/a/1190000002539546?_ea=304992)

# Gem

安装 Ruby，请访问 [下载地址](http://rubyinstaller.org/downloads)。

# Jekyll

[Jekyll](https://jekyllrb.com/docs/home/) 是一个简单且具备博客特性的静态网站生成器。


使用以下命令安装 Jekyll。

```
$ gem install jekyll
```

在中国可能需要使用**代理软件**。然后，请等待并学习如何使用它。

或者，您可以使用 [rails](https://ruby.taobao.org/) 替代 Jekyll。

如果您使用的是 Mac，请使用以下命令。

```
$ sudo gem install jekyll
```

- Git

您需要了解如何使用 Git。

> [Git 文档](http://www.runoob.com/git/git-tutorial.html "Git")

# 在 Windows 下安装 Jekyll

有时候工作需要，在 Windows 系统下编辑博客，想要看到效果却十分麻烦。因此尝试在 Windows 下安装 Jekyll。

## 安装 Ruby

1. 下载

   [下载](http://rubyinstaller.org/downloads/) 适合你计算机的合适版本的安装程序；

2. 安装

   安装时**勾选**上 `Add Ruby executables to your PATH`;

3. 查看版本

   在命令行中输入如下命令：

   ```
   $ ruby -v
   ruby 2.3.3p222 (2016-11-21 revision 56859) [x64-mingw32]
   ```

## 安装 DevKit

1. 下载

   [下载](http://rubyinstaller.org/downloads/) 适合你计算机的合适版本的安装程序；

   选择匹配的软件。本次选择 `DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe`, **For use with Ruby 2.0 to 2.3 (x64 - 64bits only)**

2. 解压

   下载并解压文件至路径如**D:\Devkit**下：

3. 运行

   ```
   $   cd d:\Devkit

   [D:\Devkit]$ ruby dk.rb init
   [INFO] found RubyInstaller v2.3.3 at D:/Ruby23-x64

   Initialization complete! Please review and modify the auto-generated
   'config.yml' file to ensure it contains the root directories to all
   of the installed Rubies you want enhanced by the DevKit.
   ```

   查看 `config.yml` 应该有如下内容

   ```yml
   # This configuration file contains the absolute path locations of all
   # installed Rubies to be enhanced to work with the DevKit. This config
   # file is generated by the 'ruby dk.rb init' step and may be modified
   # before running the 'ruby dk.rb install' step. To include any installed
   # Rubies that were not automagically discovered, simply add a line below
   # the triple hyphens with the absolute path to the Ruby root directory.
   #
   # Example:
   #
   # ---
   # - C:/ruby19trunk
   # - C:/ruby192dev
   #
   ---
   - D:/Ruby23-x64
   ```

4. 查看和安装

   ```
   [D:\Devkit]$ ruby dk.rb review
   Based upon the settings in the 'config.yml' file generated
   from running 'ruby dk.rb init' and any of your customizations,
   DevKit functionality will be injected into the following Rubies
   when you run 'ruby dk.rb install'.

   D:/Ruby23-x64

   [D:\Devkit]$ ruby dk.rb install
   [INFO] Updating convenience notice gem override for 'D:/Ruby23-x64'
   [INFO] Installing 'D:/Ruby23-x64/lib/ruby/site_ruby/devkit.rb'
   ```

## 安装 Jekyll

1. 确保 gem 已安装

   ```
   [D:\Devkit]$ gem -v
   2.5.2
   ```

2. 安装 Jekyll

   ```
   $ gem install jekyll
   ```

# 问题

- 错误：Permission denied - bind(2) for 127.0.0.1:4000

  > [bind localhost:4000 failed](http://www.cnblogs.com/lxconan/archive/2016/01/11/5119972.html)

  使用如下命令：

  ```
  $ netstat -ano
  $ tasklist /svc /FI "PID eq ${pid}"
  ```

  pid 是占用 localhost:4000 的线程的结果；使用任务管理器结束该线程；

- 请在 Gemfile 中添加以下内容以避免轮询更改：

  ```
  gem 'wdm', '>= 0.1.0' if Gem.win_platform?
  ```

  >  [gem 'wdm', '>= 0.1.0' if Gem.win_platform?](http://stackoverflow.com/questions/30720797/jekyll-install-on-windows-error-message)

  我尝试了很多次，但仍然失败。幸运的是，Jekyll 仍然可以正常工作

- jekyll-paginate

```
配置文件: /Users/houbinbin/blog/houbb.github.io/_config.yml
  依赖错误: 哎呀！看起来你没有安装 jekyll-paginate 或者它的某个依赖项。为了按照当前配置使用 Jekyll，你需要安装这个 gem。来自 Ruby 的完整错误信息是: 'cannot load such file -- jekyll-paginate' 如果遇到问题，你可以在 http://jekyllrb.com/help/ 找到有用的资源！
jekyll 3.1.3 | 错误:  jekyll-paginate
```

解决方法：

```
$ sudo gem install jekyll-paginate
```

- 谷歌文件加载慢

> [fonts.googleapis.com加载慢解决办法](http://blog.csdn.net/kalision/article/details/46774127)

我是直接将semantic引用此文件的地方注释掉了。

# TOC 目录

> [TOC](http://loudou.info/blog/2014/08/01/wei-octopress-tian-jia-toc/)

把这个添加到文件中，就可以生成目录。

```
* any list
{:toc}
```

# 分页

> [base page zh_CN](http://wiki.jikexueyuan.com/project/jekyll/pagination.html)

[最多页数限制](https://www.v2ex.com/t/32433)


分页功能插件使得 `paginator` liquid 对象具有下列属性：

|属性|说明|
|:---|:---|
| page				 | 当前页码 |
| per_page			 | 每页文章数量 |
| posts				 | 当前页的文章列表 |
| total_posts			 | 总文章数 |
| total_pages			 | 总页数 |
| previous_page		 | 上一页页码 或 nil（如果上一页不存在）|
| previous_page_path	 | 上一页路径 或 nil（如果上一页不存在）|
| next_page			 | 下一页页码 或 nil（如果下一页不存在）|
| next_page_path		 | 下一页路径 或 nil（如果下一页不存在）|


# Search

> [nice query](http://www.codeboy.me/2016/01/18/jekyll-search-component/)

# SEO

> [掌心 SEO](http://www.zhanxin.info/jekyll/2012-12-09-jekyll-seo.html)

> [Rang SEO](http://www.zhanxin.info/jekyll/2012-12-09-jekyll-seo.html)

> [优化 jekyll 站点的 SEO 技巧](http://justjavac.com/jekyll/2012/01/16/the-seo-for-jekyll-blog.html)

博客写好之后，直接搜索基本搜索不到。

# 双边括号

特殊符号，比如使用 vue 学习的时候，就会用到双边花括号，但是这个是 jekyll 的内置符号。

解决方案如下：

```
{% raw %}
{% comment %} 这里是各种包含奇怪花括号 {{{0}}} 的地方 {% endcomment %}
{% endraw %}
```

# TODO

> [文章置顶](http://blog.csdn.net/szhielelp/article/details/54881594)

has done!


> [多说](http://blog.fooleap.org/talk-about-duoshuo.html)


# sitemap


- 报错

```
$ gem install jekyll-sitemap
ERROR:  Could not find a valid gem 'Jekyll-sitemap' (>= 0), here is why:
          Unable to download data from https://gems.ruby-china.org/ - bad response Not Found 404 (https://gems.ruby-china.org/specs.4.8.gz)
```

- 解决

```
gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/
```

日志

```
https://gems.ruby-china.com/ added to sources
source https://rubygems.org/ not present in cache
```

- 重新执行

```
sudo gem install jekyll-sitemap
```

日志

```
Fetching: jekyll-sitemap-1.2.0.gem (100%)
Successfully installed jekyll-sitemap-1.2.0
Parsing documentation for jekyll-sitemap-1.2.0
Installing ri documentation for jekyll-sitemap-1.2.0
Done installing documentation for jekyll-sitemap after 0 seconds
WARNING:  Unable to pull data from 'https://gems.ruby-china.org/': bad response Not Found 404 (https://gems.ruby-china.org/specs.4.8.gz)
1 gem installed
```


# 参考资料

- seo

http://vdaubry.github.io/2014/10/21/SEO-for-your-Jekyll-blog/

https://crispgm.com/page/48-tips-for-jekyll-you-should-know.html

[Jekyll自动生成站点地图](https://longzeping.github.io/2018/08/01/Jekyll%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE/)

[如何让谷歌和百度搜索到自己GitHub上的博客](https://maxwellyue.github.io/2016/08/07/%E5%A6%82%E4%BD%95%E8%AE%A9%E8%B0%B7%E6%AD%8C%E5%92%8C%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E5%88%B0%E8%87%AA%E5%B7%B1GitHub%E4%B8%8A%E7%9A%84%E5%8D%9A%E5%AE%A2/)

- Jekyll SEO Tag

https://github.com/jekyll/jekyll-seo-tag

- sitemap

http://faso.me/notes/2013/07/27/jekyll-sitemap-without-plugin/index.html

- ruby

https://www.jianshu.com/p/60f3707cb3ce?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation

[GitHub 博客-- Jekyll--代码高亮，Liquid 转义字符](https://blog.csdn.net/zhangpeterx/article/details/103920538)

> [Jekyll 中文文档](http://jekyllcn.com)

> [极客学院中文文档](http://wiki.jikexueyuan.com/project/jekyll/)

* any list
{:toc}