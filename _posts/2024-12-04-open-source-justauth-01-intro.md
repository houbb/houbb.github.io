---
layout: post
title: å¼€æºé¡¹ç›®ä¹‹ justauth å°è€Œå…¨è€Œç¾çš„ç¬¬ä¸‰æ–¹ç™»å½•å¼€æºç»„ä»¶
date: 2024-12-4 10:06:37 +0800
categories: [OpenSource]
tags: [open-source, sh]
published: true
---



# justauth

ğŸ†Gitee æœ€æœ‰ä»·å€¼å¼€æºé¡¹ç›® ğŸš€:100: å°è€Œå…¨è€Œç¾çš„ç¬¬ä¸‰æ–¹ç™»å½•å¼€æºç»„ä»¶ã€‚

ç›®å‰å·²æ”¯æŒGithubã€Giteeã€å¾®åšã€é’‰é’‰ã€ç™¾åº¦ã€Codingã€è…¾è®¯äº‘å¼€å‘è€…å¹³å°ã€OSChinaã€æ”¯ä»˜å®ã€QQã€å¾®ä¿¡ã€æ·˜å®ã€Googleã€Facebookã€æŠ–éŸ³ã€é¢†è‹±ã€å°ç±³ã€å¾®è½¯ã€ä»Šæ—¥å¤´æ¡ã€Teambitionã€StackOverflowã€Pinterestã€äººäººã€åä¸ºã€ä¼ä¸šå¾®ä¿¡ã€é…·å®¶ä¹ã€Gitlabã€ç¾å›¢ã€é¥¿äº†ä¹ˆã€æ¨ç‰¹ã€é£ä¹¦ã€äº¬ä¸œã€é˜¿é‡Œäº‘ã€å–œé©¬æ‹‰é›…ã€Amazonã€Slackå’Œ Line ç­‰ç¬¬ä¸‰æ–¹å¹³å°çš„æˆæƒç™»å½•ã€‚ Login, so easy!

## ä»€ä¹ˆæ˜¯ JustAuthï¼Ÿ

JustAuthï¼Œå¦‚ä½ æ‰€è§ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ª**ç¬¬ä¸‰æ–¹æˆæƒç™»å½•**çš„**å·¥å…·ç±»åº“**ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è„±ç¦»ç¹ççš„ç¬¬ä¸‰æ–¹ç™»å½• SDKï¼Œè®©ç™»å½•å˜å¾—**So easy!**

JustAuth é›†æˆäº†è¯¸å¦‚ï¼šGithubã€Giteeã€æ”¯ä»˜å®ã€æ–°æµªå¾®åšã€å¾®ä¿¡ã€Googleã€Facebookã€Twitterã€StackOverflowç­‰å›½å†…å¤–æ•°åå®¶ç¬¬ä¸‰æ–¹å¹³å°ã€‚

æ›´å¤šè¯·å‚è€ƒ<a href="https://www.justauth.cn" target="_blank">å·²é›†æˆçš„å¹³å°</a>

## æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ

1. **å…¨**ï¼šå·²é›†æˆåå¤šå®¶ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆå›½å†…å¤–å¸¸ç”¨çš„åŸºæœ¬éƒ½å·²åŒ…å«ï¼‰ï¼Œä»ç„¶è¿˜åœ¨æŒç»­æ‰©å±•ä¸­ï¼ˆ[å¼€å‘è®¡åˆ’](https://gitee.com/yadong.zhang/JustAuth/issues/IUGRK)ï¼‰ï¼

2. **ç®€**ï¼šAPIå°±æ˜¯å¥”ç€æœ€ç®€å•å»è®¾è®¡çš„ï¼ˆè§åé¢`å¿«é€Ÿå¼€å§‹`ï¼‰ï¼Œå°½é‡è®©æ‚¨ç”¨èµ·æ¥æ²¡æœ‰éšœç¢æ„Ÿï¼

## æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ

- é›†æˆå›½å†…å¤–æ•°åå®¶ç¬¬ä¸‰æ–¹å¹³å°ï¼Œå®ç°å¿«é€Ÿæ¥å…¥ã€‚<a href="https://www.justauth.cn/quickstart/how-to-use.html" target="_blank">å‚è€ƒæ–‡æ¡£</a>
- è‡ªå®šä¹‰ State ç¼“å­˜ï¼Œæ”¯æŒå„ç§åˆ†å¸ƒå¼ç¼“å­˜ç»„ä»¶ã€‚<a href="https://www.justauth.cn/features/customize-the-state-cache.html" target="_blank">å‚è€ƒæ–‡æ¡£</a>
- è‡ªå®šä¹‰ OAuth å¹³å°ï¼Œæ›´å®¹æ˜“é€‚é…è‡ªæœ‰çš„ OAuth æœåŠ¡ã€‚<a href="https://www.justauth.cn/features/customize-the-oauth.html" target="_blank">å‚è€ƒæ–‡æ¡£</a>
- è‡ªå®šä¹‰ Http å®ç°ï¼Œé€‰æ‹©æƒå®Œå…¨äº¤ç»™å¼€å‘è€…ï¼Œä¸ä¼šå•ç‹¬ä¾èµ–æŸä¸€å…·ä½“å®ç°ã€‚<a href="https://www.justauth.cn/quickstart/how-to-use.html#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F" target="_blank">å‚è€ƒæ–‡æ¡£</a>
- è‡ªå®šä¹‰ Scopeï¼Œæ”¯æŒæ›´å®Œå–„çš„æˆæƒä½“ç³»ã€‚<a href="https://www.justauth.cn/features/customize-scopes.html" target="_blank">å‚è€ƒæ–‡æ¡£</a>
- æ›´å¤š...<a href="https://www.justauth.cn" target="_blank">å‚è€ƒæ–‡æ¡£</a>

## å¿«é€Ÿå¼€å§‹

### å¼•å…¥ä¾èµ–
```xml
<dependency>
    <groupId>me.zhyd.oauth</groupId>
    <artifactId>JustAuth</artifactId>
    <version>{latest-version}</version>
</dependency>
```

> **latest-version** å¯é€‰ï¼š
> - ç¨³å®šç‰ˆï¼š![](https://img.shields.io/github/v/release/justauth/JustAuth?style=flat-square) 
> - å¿«ç…§ç‰ˆï¼š![](https://img.shields.io/nexus/s/https/oss.sonatype.org/me.zhyd.oauth/JustAuth.svg?style=flat-square)
> > æ³¨æ„ï¼šå¿«ç…§ç‰ˆæœ¬æ˜¯åŠŸèƒ½çš„å°é²œï¼Œå¹¶ä¸ä¿è¯ç¨³å®šæ€§ã€‚è¯·å‹¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚
>
> <details>
>   <summary>å¦‚ä½•å¼•å…¥å¿«ç…§ç‰ˆæœ¬</summary>
>
> JustAuth çš„å¿«ç…§ç‰ˆæœ¬æ‰˜ç®¡åœ¨ ossrh ä¸Šï¼Œæ‰€ä»¥è¦æŒ‡å®šä¸‹è½½åœ°å€ã€‚
> 
> ```xml
> <repositories>
>     <repository>
>         <id>ossrh-snapshot</id>
>         <url>https://oss.sonatype.org/content/repositories/snapshots</url>
>         <snapshots>
>             <enabled>true</enabled>
>         </snapshots>
>     </repository>
> </repositories>
> ```
> 
> å¦‚æœä½ æƒ³ç¬¬ä¸€æ—¶é—´è·å– JustAuth çš„æœ€æ–°å¿«ç…§ï¼Œå¯ä»¥æ·»åŠ ä¸‹åˆ—ä»£ç ï¼Œæ¯æ¬¡æ„å»ºæ—¶éƒ½æ£€æŸ¥æ˜¯å¦æœ‰æœ€æ–°çš„å¿«ç…§ï¼ˆé»˜è®¤æ¯å¤©æ£€æŸ¥ï¼‰ã€‚
> 
> ```diff
>        <url>https://oss.sonatype.org/content/repositories/snapshots</url>
>         <snapshots>
> +           <updatePolicy>always</updatePolicy>
>             <enabled>true</enabled>
>         </snapshots>
> ```
> 
> </details>

å¦‚ä¸‹**ä»»é€‰ä¸€ç§** HTTP å·¥å…· ä¾èµ–ï¼Œé¡¹ç›®å†…å¦‚æœå·²æœ‰ï¼Œè¯·å¿½ç•¥ã€‚

å¦å¤–éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœé¡¹ç›®ä¸­å·²ç»å¼•å…¥äº†ä½ç‰ˆæœ¬çš„ä¾èµ–ï¼Œè¯·å…ˆæ’é™¤ä½ç‰ˆæœ¬ä¾èµ–åï¼Œå†å¼•å…¥é«˜ç‰ˆæœ¬æˆ–è€…æœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–_

- hutool-http

  ```xml
  <dependency>
      <groupId>cn.hutool</groupId>
      <artifactId>hutool-http</artifactId>
      <version>5.7.7</version>
  </dependency>
  ```

- httpclient

  ```xml
  <dependency>
  	<groupId>org.apache.httpcomponents</groupId>
    	<artifactId>httpclient</artifactId>
    	<version>4.5.13</version>
  </dependency>
  ```

- okhttp

  ```xml
  <dependency>
    <groupId>com.squareup.okhttp3</groupId>
    <artifactId>okhttp</artifactId>
    <version>4.9.1</version>
  </dependency>
  ```
  
### è°ƒç”¨api

#### æ™®é€šæ–¹å¼

```java
// åˆ›å»ºæˆæƒrequest
AuthRequest authRequest = new AuthGiteeRequest(AuthConfig.builder()
        .clientId("clientId")
        .clientSecret("clientSecret")
        .redirectUri("redirectUri")
        .build());
// ç”Ÿæˆæˆæƒé¡µé¢
authRequest.authorize("state");
// æˆæƒç™»å½•åä¼šè¿”å›codeï¼ˆauth_codeï¼ˆä»…é™æ”¯ä»˜å®ï¼‰ï¼‰ã€stateï¼Œ1.8.0ç‰ˆæœ¬åï¼Œå¯ä»¥ç”¨AuthCallbackç±»ä½œä¸ºå›è°ƒæ¥å£çš„å‚æ•°
// æ³¨ï¼šJustAuthé»˜è®¤ä¿å­˜stateçš„æ—¶æ•ˆä¸º3åˆ†é’Ÿï¼Œ3åˆ†é’Ÿå†…æœªä½¿ç”¨åˆ™ä¼šè‡ªåŠ¨æ¸…é™¤è¿‡æœŸçš„state
authRequest.login(callback);
```

#### Builder æ–¹å¼ä¸€

é™æ€é…ç½® `AuthConfig`

```java
AuthRequest authRequest = AuthRequestBuilder.builder()
    .source("github")
    .authConfig(AuthConfig.builder()
        .clientId("clientId")
        .clientSecret("clientSecret")
        .redirectUri("redirectUri")
        .build())
    .build();
// ç”Ÿæˆæˆæƒé¡µé¢
  authRequest.authorize("state");
// æˆæƒç™»å½•åä¼šè¿”å›codeï¼ˆauth_codeï¼ˆä»…é™æ”¯ä»˜å®ï¼‰ï¼‰ã€stateï¼Œ1.8.0ç‰ˆæœ¬åï¼Œå¯ä»¥ç”¨AuthCallbackç±»ä½œä¸ºå›è°ƒæ¥å£çš„å‚æ•°
// æ³¨ï¼šJustAuthé»˜è®¤ä¿å­˜stateçš„æ—¶æ•ˆä¸º3åˆ†é’Ÿï¼Œ3åˆ†é’Ÿå†…æœªä½¿ç”¨åˆ™ä¼šè‡ªåŠ¨æ¸…é™¤è¿‡æœŸçš„state
  authRequest.login(callback);
```

#### Builder æ–¹å¼äºŒ

åŠ¨æ€è·å–å¹¶é…ç½® `AuthConfig`

```java
AuthRequest authRequest = AuthRequestBuilder.builder()
    .source("gitee")
    .authConfig((source) -> {
        // é€šè¿‡ source åŠ¨æ€è·å– AuthConfig
        // æ­¤å¤„å¯ä»¥çµæ´»çš„ä» sql ä¸­å–é…ç½®ä¹Ÿå¯ä»¥ä»é…ç½®æ–‡ä»¶ä¸­å–é…ç½®
        return AuthConfig.builder()
            .clientId("clientId")
            .clientSecret("clientSecret")
            .redirectUri("redirectUri")
            .build();
    })
    .build();
Assert.assertTrue(authRequest instanceof AuthGiteeRequest);
System.out.println(authRequest.authorize(AuthStateUtils.createState()));
```

#### Builder æ–¹å¼æ”¯æŒè‡ªå®šä¹‰çš„å¹³å°

```java
AuthRequest authRequest = AuthRequestBuilder.builder()
    // å…³é”®ç‚¹ï¼šå°†è‡ªå®šä¹‰å®ç°çš„ AuthSource é…ç½®ä¸Š
    .extendSource(AuthExtendSource.values())
    // source å¯¹åº” AuthExtendSource ä¸­çš„æšä¸¾ name
    .source("other")
    // ... å…¶ä»–å†…å®¹ä¸å˜ï¼Œå‚è€ƒä¸Šé¢çš„ç¤ºä¾‹
    .build();
```

## å¼€æºæ¨è

- `JAP` å¼€æºçš„ç™»å½•è®¤è¯ä¸­é—´ä»¶: [https://gitee.com/fujieid/jap](https://gitee.com/fujieid/jap)
- `spring-boot-demo` æ·±åº¦å­¦ä¹ å¹¶å®æˆ˜ spring boot çš„é¡¹ç›®: [https://github.com/xkcoding/spring-boot-demo](https://github.com/xkcoding/spring-boot-demo)
- `mica` SpringBoot å¾®æœåŠ¡é«˜æ•ˆå¼€å‘å·¥å…·é›†: [https://github.com/lets-mica/mica](https://github.com/lets-mica/mica)
- `sureness` é¢å‘restful apiçš„é«˜æ€§èƒ½è®¤è¯é‰´æƒæ¡†æ¶ï¼š[sureness](https://github.com/usthe/sureness)
  
æ›´å¤šæ¨èï¼Œè¯·å‚è€ƒï¼š[JustAuth - å¼€æºæ¨è](https://www.justauth.cn)

## Stars è¶‹åŠ¿

### Gitee

[![Stargazers over time](https://whnb.wang/img/yadong.zhang/JustAuth?e=604800)](https://whnb.wang/yadong.zhang/JustAuth?e=604800)

### Github

[![Stargazers over time](https://starchart.cc/justauth/JustAuth.svg)](https://starchart.cc/justauth/JustAuth)




# å‚è€ƒèµ„æ–™

* any list
{:toc}