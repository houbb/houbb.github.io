---
layout: post
title: leetcode sort æ’åº-07-heapSort å †æ’åºå…¥é—¨ä»‹ç»
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, sort, sf]
published: true
---

# æ’åºç³»åˆ—

[sort-00-æ’åºç®—æ³•æ±‡æ€»](https://houbb.github.io/2016/07/14/sort-00-overview-sort)

[sort-01-bubble sort å†’æ³¡æ’åºç®—æ³•è¯¦è§£](https://houbb.github.io/2016/07/14/sort-01-bubble-sort)

[sort-02-QuickSort å¿«é€Ÿæ’åºåˆ°åº•å¿«åœ¨å“ªé‡Œï¼Ÿ](https://houbb.github.io/2016/07/14/sort-02-quick-sort)

[sort-03-SelectSort é€‰æ‹©æ’åºç®—æ³•è¯¦è§£](https://houbb.github.io/2016/07/14/sort-03-select-sort)

[sort-04-heap sort å †æ’åºç®—æ³•è¯¦è§£](https://houbb.github.io/2016/07/14/sort-04-heap-sort)

[sort-05-insert sort æ’å…¥æ’åºç®—æ³•è¯¦è§£](https://houbb.github.io/2016/07/14/sort-05-insert-sort)

[sort-06-shell sort å¸Œå°”æ’åºç®—æ³•è¯¦è§£](https://houbb.github.io/2016/07/14/sort-06-shell-sort)

[sort-07-merge sort å½’å¹¶æ’åº](https://houbb.github.io/2016/07/14/sort-07-merge-sort)

[sort-08-counting sort è®¡æ•°æ’åº](https://houbb.github.io/2016/07/14/sort-08-counting-sort)

[sort-09-bucket sort æ¡¶æ’åº](https://houbb.github.io/2016/07/14/sort-09-bucket-sort)

[sort-10-bigfile å¤§æ–‡ä»¶å¤–éƒ¨æ’åº](https://houbb.github.io/2016/07/14/sort-10-bigfile-sort)

# å‰è¨€

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€é©¬ã€‚

ä»¥å‰ä»å·¥ç¨‹çš„è§’åº¦ï¼Œå·²ç»æ¢³ç†è¿‡ä¸€æ¬¡æ’åºç®—æ³•ã€‚

è¿™é‡Œä»åŠ›æ‰£ç®—æ³•çš„è§’åº¦ï¼Œé‡æ–°æ¢³ç†ä¸€éã€‚

æ ¸å¿ƒå†…å®¹åŒ…å«ï¼š

1ï¼‰å¸¸è§æ’åºç®—æ³•ä»‹ç»

2ï¼‰èƒŒåçš„æ ¸å¿ƒæ€æƒ³

3ï¼‰leetcode ç»å…¸é¢˜ç›®ç»ƒä¹ +è®²è§£

4ï¼‰åº”ç”¨åœºæ™¯ã€ä¼˜ç¼ºç‚¹ç­‰å¯¹æ¯”æ€»ç»“

5ï¼‰å·¥ç¨‹ sdk åŒ…ï¼Œè¿™ä¸ªå·²ç»å®Œæˆã€‚

6) å¯è§†åŒ–

# å †æ’åºï¼ˆheap Sortï¼‰

## ğŸ“Œ ä¸€ã€å †æ’åºç®€ä»‹

**å †æ’åº**æ˜¯ä¸€ç§åˆ©ç”¨**å †è¿™ç§æ•°æ®ç»“æ„**è®¾è®¡çš„æ’åºç®—æ³•ã€‚
å †æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡è¶³**å †æ€§è´¨**ï¼š

* **å¤§é¡¶å †**ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼ˆæ ¹æ˜¯æœ€å¤§å€¼ï¼‰ã€‚
* **å°é¡¶å †**ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼ˆæ ¹æ˜¯æœ€å°å€¼ï¼‰ã€‚

å †æ’åºé€šå¸¸ä½¿ç”¨å¤§é¡¶å †æ¥å®ç°å‡åºæ’åºã€‚

---

## ğŸ§  äºŒã€å †æ’åºæ ¸å¿ƒæ€æƒ³

1. **å°†æ•°ç»„æ„å»ºæˆå¤§é¡¶å †**ï¼Œä½¿å¾—å †é¡¶å…ƒç´ æ˜¯æœ€å¤§å€¼ã€‚
2. **å°†å †é¡¶æœ€å¤§å€¼ä¸æ•°ç»„æœ«å°¾å…ƒç´ äº¤æ¢**ï¼Œå †å¤§å°å‡ä¸€ï¼ˆæ’å¥½åºçš„éƒ¨åˆ†ä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼‰ã€‚
3. **å¯¹æ–°çš„å †é¡¶å…ƒç´ æ‰§è¡Œâ€œä¸‹æ²‰â€è°ƒæ•´ï¼Œæ¢å¤å †æ€§è´¨ã€‚**
4. é‡å¤æ­¥éª¤ 2ã€3ï¼Œç›´åˆ°å †å¤§å°ä¸º1ã€‚

---

## ğŸ¯ ä¸‰ã€æ‰§è¡Œè¿‡ç¨‹ç¤ºæ„

å‡è®¾å¾…æ’åºæ•°ç»„ä¸º `[4, 10, 3, 5, 1]`ï¼š

1. **æ„å»ºå¤§é¡¶å †**

   * è°ƒæ•´ä½¿æ•°ç»„å˜ä¸ºå¤§é¡¶å †ï¼Œæ¯”å¦‚ `[10, 5, 3, 4, 1]`

2. **äº¤æ¢å †é¡¶å’Œæœ«å°¾å…ƒç´ **

   * äº¤æ¢ `10` å’Œ `1`ï¼Œæ•°ç»„å˜ä¸º `[1, 5, 3, 4, 10]`
   * å †å¤§å°å‡1ï¼Œä¸è€ƒè™‘æœ€åä¸€ä¸ªå…ƒç´ 

3. **è°ƒæ•´å †é¡¶æ¢å¤å¤§é¡¶å †**

   * å¯¹ `[1,5,3,4]` è°ƒæ•´æˆå¤§é¡¶å † `[5,4,3,1]`

4. **ç»§ç»­äº¤æ¢å †é¡¶å’Œæœ«å°¾å…ƒç´ ï¼Œè°ƒæ•´å †**

   * é‡å¤ç›´åˆ°æ’åºå®Œæˆï¼Œæœ€ç»ˆç»“æœ `[1, 3, 4, 5, 10]`

---

## âœ… å››ã€Javaä»£ç å®ç°

```java
public void heapSort(int[] arr) {
    int n = arr.length;

    // 1. æ„å»ºå¤§é¡¶å †ï¼Œä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹è°ƒæ•´
    for (int i = n / 2 - 1; i >= 0; i--) {
        heapify(arr, n, i);
    }

    // 2. é€æ­¥å°†å †é¡¶æœ€å¤§å…ƒç´ äº¤æ¢åˆ°æœ«å°¾ï¼Œè°ƒæ•´å †
    for (int i = n - 1; i > 0; i--) {
        swap(arr, 0, i);           // æŠŠæœ€å¤§å…ƒç´ æ”¾åˆ°æœ«å°¾
        heapify(arr, i, 0);        // é‡æ–°è°ƒæ•´å †ï¼ˆå †å¤§å°ä¸ºiï¼‰
    }
}

// è°ƒæ•´å †ï¼Œä¿æŒå †æ€§è´¨
private void heapify(int[] arr, int heapSize, int rootIndex) {
    int largest = rootIndex;          // å½“å‰æ ¹èŠ‚ç‚¹ç´¢å¼•
    int leftChild = 2 * rootIndex + 1;
    int rightChild = 2 * rootIndex + 2;

    // æ‰¾å‡ºä¸‰ä¸ªèŠ‚ç‚¹ä¸­æœ€å¤§å€¼
    if (leftChild < heapSize && arr[leftChild] > arr[largest]) {
        largest = leftChild;
    }
    if (rightChild < heapSize && arr[rightChild] > arr[largest]) {
        largest = rightChild;
    }

    // å¦‚æœæœ€å¤§ä¸æ˜¯æ ¹ï¼Œäº¤æ¢å¹¶ç»§ç»­å †åŒ–
    if (largest != rootIndex) {
        swap(arr, rootIndex, largest);
        heapify(arr, heapSize, largest);
    }
}

private void swap(int[] arr, int i, int j) {
    int temp = arr[i];
    arr[i] = arr[j];
    arr[j] = temp;
}
```

---

## ğŸ“ˆ äº”ã€å¤æ‚åº¦åˆ†æ

| ç»´åº¦       | æ—¶é—´å¤æ‚åº¦      | ç©ºé—´å¤æ‚åº¦ | æ˜¯å¦ç¨³å®š  |
| -------- | ---------- | ----- | ----- |
| æœ€å¥½/æœ€å/å¹³å‡ | O(n log n) | O(1)  | âŒ ä¸ç¨³å®š |

* æ„å»ºå †è¿‡ç¨‹ï¼šO(n)
* è°ƒæ•´å †è¿‡ç¨‹ï¼šO(log n) \* n æ¬¡

---

## âš–ï¸ å…­ã€ä¼˜ç¼ºç‚¹æ€»ç»“

| ä¼˜ç‚¹                  | ç¼ºç‚¹                |
| ------------------- | ----------------- |
| æ—¶é—´å¤æ‚åº¦ç¨³å®šä¸º O(n log n) | ä¸ç¨³å®šæ’åºï¼ˆç›¸ç­‰å…ƒç´ é¡ºåºå¯èƒ½æ”¹å˜ï¼‰ |
| åŸåœ°æ’åºï¼Œç©ºé—´å¤æ‚åº¦ O(1)     | å®ç°å¤æ‚åº¦æ¯”å¿«æ’é«˜         |
| é€‚åˆå¤§è§„æ¨¡æ•°æ®æ’åº           | ä¸é€‚åˆå¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„åœºæ™¯     |
| ä¸ä¾èµ–æ•°æ®åˆå§‹çŠ¶æ€           | è°ƒæ•´å †æ—¶æ¶‰åŠé€’å½’æˆ–å¾ªç¯ï¼Œä»£ç ç¨å¤æ‚ |

---

## ğŸ§° ä¸ƒã€é€‚ç”¨åœºæ™¯

| åœºæ™¯            | æ˜¯å¦æ¨è |
| ------------- | ---- |
| âœ… å¤§æ•°æ®é‡æ’åº      | æ¨è   |
| âœ… éœ€è¦åŸåœ°æ’åº      | æ¨è   |
| âŒ éœ€è¦ç¨³å®šæ’åº      | ä¸æ¨è  |
| âœ… å¯¹æ—¶é—´å¤æ‚åº¦æœ‰ä¸¥æ ¼è¦æ±‚ | æ¨è   |

---

## ğŸ§© å…«ã€LeetCode æ¨èé¢˜ç›®

### ğŸ”¹ [912. æ’åºæ•°ç»„](https://leetcode.cn/problems/sort-an-array/)

* å¯ä»¥ä½¿ç”¨å †æ’åºå®ç°é«˜æ•ˆæ’åºã€‚

### ğŸ”¹ [703. æ•°æ®æµä¸­çš„ç¬¬ K å¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-a-stream/)

* å¯åˆ©ç”¨å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ç»´æŠ¤ç¬¬ K å¤§å…ƒç´ ã€‚

### ğŸ”¹ [215. æ•°ç»„ä¸­çš„ç¬¬ K ä¸ªæœ€å¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-an-array/)

* å¯ç”¨å †æ’åºæˆ–å †é€‰æ‹©ç®—æ³•å®ç°ã€‚

---

## ğŸ”š ä¹ã€ä¸€å¥è¯æ€»ç»“

> **å †æ’åºé€šè¿‡æ„å»ºå¤§é¡¶å †ï¼Œä¸æ–­å–æœ€å¤§å€¼æ”¾æœ«å°¾ï¼Œæ—¶é—´å¤æ‚åº¦ç¨³å®šï¼Œç©ºé—´å¼€é”€å°ï¼Œæ˜¯å®ç”¨çš„é«˜æ•ˆåŸåœ°æ’åºç®—æ³•ï¼Œä½†ä¸ä¿è¯ç¨³å®šæ€§ã€‚**

* any list
{:toc}