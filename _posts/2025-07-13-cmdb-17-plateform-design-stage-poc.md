---
layout: post
title: cmdb-17-CMDB PoC 阶段
date: 2025-7-13 14:12:33 +0800
categories: [CMDB]
tags: [cmdb, sh]
published: true
---


# 系统在初期建设时，最小的应该不是 mvp，应该还有类似的 PoC 阶段对吧？


**在 CMDB 这样的大型系统建设里，「PoC」阶段确实要先于 MVP**，它们两个虽然都属于“最小化阶段”，但**目的完全不同、产出物也不同**。

很多团队一开始就上来做 MVP，结果方向错误或底层选型坑了，最后返工巨大。

我们可以系统地讲清楚 👇

---

## 🧱 一、PoC vs MVP 的核心区别

| 对比项      | **PoC（Proof of Concept）** | **MVP（Minimum Viable Product）** |
| -------- | ------------------------- | ------------------------------- |
| **中文含义** | 概念验证、可行性验证                | 最小可用产品                          |
| **核心目标** | 验证关键假设是否成立                | 验证用户价值与业务闭环                     |
| **验证内容** | 技术可行性 / 模型可行性             | 用户需求 / 使用场景 / 产品体验              |
| **关注焦点** | “能不能做”                    | “有没有人用、能不能跑”                    |
| **成功标准** | 技术或模型能跑通、结果正确             | 功能能闭环、用户可操作、有反馈                 |
| **输出成果** | 原型 Demo / 技术验证报告 / 架构设计   | 可用的产品版本（可上线给部分用户）               |
| **参与人员** | 技术负责人、架构师、核心开发            | 产品经理、后端、前端、运维                   |
| **生命周期** | 通常 2~4 周                  | 通常 1~3 月                        |
| **后续方向** | 通过 → 建 MVP；未通过 → 调整技术路线   | 通过 → 企业级建设；未通过 → 迭代优化           |

---

## 🧠 二、为什么 CMDB 这种系统必须先做 PoC？

CMDB 涉及：

* 底层数据模型（CI/Relation）的抽象设计；
* 多源异构数据采集（API、Agent、DB、云接口）；
* 性能 & 一致性问题；
* 与上游（监控、CM、发布、ITSM）兼容性；
* 实时性与治理难题。

这些都不是产品层面能快速验证的，而是**系统架构层面要先解“能不能做”的问题**。
所以 CMDB 的 PoC 阶段本质上是验证 **“底座是否靠谱”**，而 MVP 阶段才是验证 **“用户是否能用”**。

---

## ⚙️ 三、CMDB 的 PoC 阶段应该验证什么？（建议 5 个核心点）

| 验证方向             | 目标                       | 验证手段                                        |
| ---------------- | ------------------------ | ------------------------------------------- |
| **1️⃣ 模型可行性**    | CI/Relation 模型是否够通用、可扩展？ | 建一个统一的 CI Schema（10+核心类型）并测试关系拓扑可视化、递归查询性能  |
| **2️⃣ 数据采集可行性**  | 能否自动发现并采集多源资产？           | 集成云（AWS/Azure/K8s）或 CMDB Agent 验证数据拉取、更新、去重 |
| **3️⃣ 同步与一致性机制** | 多源同步冲突、延迟、一致性如何？         | 测试全量+增量同步、事件队列、幂等校验                         |
| **4️⃣ 可观测与数据质量** | 能否检测错误数据与脏数据？            | 构建数据健康仪表盘 + 校验规则引擎（字段完整性、孤儿节点检测）            |
| **5️⃣ 查询与可视化性能** | 图谱关系查询是否可承载生产量级？         | 在 10w CI、100w 关系的测试集上跑复杂查询并记录延迟、内存占用        |

👉 如果以上五个验证都通过，就能进入 MVP 阶段。

---

## 🧩 四、PoC 阶段的典型交付件（建议）

1. **架构设计草图**

   * 数据模型（CI Type / Relation Type）
   * 同步机制（ETL、消息队列、CDC）
   * 存储选型验证报告（MySQL vs Neo4j vs JanusGraph）
   * 数据流图 + 采集链路图

2. **可运行 Demo**

   * 简单的前端页面（仅展示核心功能：自动发现 + 拓扑图）
   * 简单 API（查询、更新 CI）
   * 一条端到端数据链路：采集 → 存储 → 查询 → 可视化

3. **验证报告**

   * 技术可行性结果表
   * 性能数据（查询延迟、一致性、吞吐）
   * 风险与选型结论（选 MySQL 还是图数据库？API 架构？）

---

## 🪜 五、PoC → MVP → 企业级的自然演进路径

| 阶段          | 目标            | 示例特性                  |
| ----------- | ------------- | --------------------- |
| **PoC（验证）** | 技术可行性、架构可跑通   | 数据模型、采集、拓扑展示          |
| **MVP（可用）** | 满足少量核心用户      | CI 管理、关系查询、接口调用       |
| **企业级（扩展）** | 稳定性 + 治理 + 智能 | 多租户、权限、版本审计、AI辅助、流程集成 |

---

## 💡 六、总结一句话

> 🔹PoC 是验证“能不能做”；
> 🔹MVP 是验证“有没有价值”；
> 🔹企业级是验证“能否大规模可靠运转”。

CMDB 是“企业 IT 大脑的基座”，
PoC 阶段的目的，就是确保你造的大脑结构**不会塌、不会卡、能进化**。

# PoC 蓝图

好的，我帮你整理一份 **CMDB PoC 阶段蓝图设计文档**，它适合企业内部立项、技术评审或者团队启动使用。

文档结构清晰、重点突出，涵盖目标、范围、架构、数据模型、验证指标、风险和交付物。

---

# **CMDB PoC 阶段蓝图设计文档**

## 1. 项目概述

**项目名称**：CMDB PoC（Proof of Concept）

**目标**：验证 CMDB 核心技术架构、数据模型可行性、多源采集能力及基本拓扑关系可视化，为后续 MVP 和企业级平台建设奠定技术基础。

**关键痛点**：

* 现有资产管理零散、数据不一致
* 系统关系难以追踪，影响运维和告警
* 缺乏统一可视化，决策效率低

---

## 2. PoC 范围与边界

| 范围           | 描述                                                  |
| ------------ | --------------------------------------------------- |
| **核心 CI 类型** | 主机（Host）、应用（App）、服务（Service）                        |
| **核心关系**     | 部署于（App → Host）、依赖关系（App → Service）                 |
| **数据源**      | 云平台 API（AWS/Azure/K8s）、现有 CMDB 数据库（可选）、CSV/Excel 导入 |
| **功能验证**     | 自动发现 CI、关系建模、基本拓扑可视化、API 查询                         |
| **非 PoC 范围** | 权限管理、多租户、历史版本审计、高可用架构、复杂流程集成                        |

**说明**：PoC 仅验证核心可行性，不追求企业级稳定性和性能。

---

## 3. 技术架构蓝图

### 3.1 架构概览

```
+---------------------+
|   前端可视化 UI     |
|  (拓扑图 & 查询)    |
+---------+-----------+
          |
          v
+---------------------+
|    PoC API 层       |
| REST/GraphQL        |
+---------+-----------+
          |
          v
+---------------------+       +---------------------+
| CMDB PoC 核心层      | <---> | 数据采集适配器层     |
| - 数据模型管理        |       | - 云 API / CM 数据源 |
| - CI / Relation 存储  |       | - ETL / Delta Pull   |
| - 拓扑构建 / 查询引擎 |       +---------------------+
+---------------------+
          |
          v
+---------------------+
|     数据存储         |
| - 关系型数据库或图数据库 |
| - MySQL / Neo4j / Janus |
+---------------------+
```

### 3.2 架构说明

1. **数据采集适配器层**

   * 支持不同数据源（云平台、现有 CMDB、手工导入）
   * 可扩展 ETL 或事件驱动模式
   * 输出统一 CI / Relation 数据

2. **核心层**

   * CI / Relation 模型存储
   * 拓扑构建与递归查询
   * API 暴露给前端可视化和验证工具

3. **前端可视化**

   * 拓扑图展示关系
   * CI 列表查询
   * 支持简单过滤和搜索

---

## 4. 数据模型设计

### 4.1 CI（Configuration Item）示例

| 字段           | 类型       | 描述                          |
| ------------ | -------- | --------------------------- |
| ci_id        | string   | 唯一标识                        |
| ci_type      | string   | CI 类型（Host / App / Service） |
| name         | string   | CI 名称                       |
| owner        | string   | 责任人                         |
| metadata     | JSON     | 扩展信息，如版本、标签等                |
| last_updated | datetime | 最近更新时间                      |

### 4.2 Relation（关系）示例

| 字段           | 类型       | 描述           |
| ------------ | -------- | ------------ |
| rel_id       | string   | 唯一标识         |
| source_ci_id | string   | 源 CI ID      |
| target_ci_id | string   | 目标 CI ID     |
| rel_type     | string   | 关系类型（部署于、依赖） |
| metadata     | JSON     | 扩展信息，如重要性、状态 |
| last_updated | datetime | 最近更新时间       |

---

## 5. 功能验证清单

| 功能       | 验证目标                  | 验证方法                    |
| -------- | --------------------- | ----------------------- |
| 自动发现 CI  | 能正确从数据源采集 CI          | 采集云平台 50 个主机/应用数据       |
| 关系建模     | 能正确构建部署及依赖关系          | 生成拓扑图并可查询每个节点依赖关系       |
| 数据查询 API | 查询 CI 和关系准确           | REST/GraphQL 返回字段与关系一致  |
| 拓扑可视化    | 前端展示拓扑图，支持节点展开        | 通过 Web 拓扑图可视化 50~100 节点 |
| 数据一致性验证  | CI/Relation 数据与原始数据匹配 | 对比原数据与 PoC 数据一致率 ≥ 95%  |

---

## 6. 性能与规模目标

| 指标          | PoC 目标  | 说明           |
| ----------- | ------- | ------------ |
| CI 数量       | 50~100  | 小规模验证        |
| Relation 数量 | 100~200 | 小规模拓扑验证      |
| API 查询延迟    | <200ms  | 单次查询 1~5 CI  |
| 数据采集频率      | 单次采集即可  | 测试可行性，不做实时更新 |

---

## 7. 风险与应对措施

| 风险       | 应对措施                  |
| -------- | --------------------- |
| 数据源不可访问  | 提供 CSV / Excel 导入模拟数据 |
| 数据模型不够通用 | PoC 阶段建立可配置字段和关系      |
| 拓扑查询性能差  | 只测试小规模数据，后续优化索引与图数据库  |
| 可视化不友好   | 先用简单节点图展示，后续迭代前端      |

---

## 8. 团队配置与周期

| 角色     | 人数    | 任务                 |
| ------ | ----- | ------------------ |
| 架构师    | 1     | 模型设计、技术选型、PoC 验证   |
| 后端开发   | 1~2   | API、核心逻辑、数据存储      |
| 前端开发   | 1     | 拓扑可视化、简单查询界面       |
| DevOps | 1     | PoC 部署、数据源接入、日志监控  |
| PM/产品  | 0.5~1 | PoC 需求整理、验证指标、进度管理 |

**周期**：2~4 周，快速验证可行性

---

## 9. PoC 成功标准

1. **技术可行性**：核心数据模型可用，拓扑关系能正确构建。
2. **数据采集可行性**：从至少一个真实数据源成功采集 CI 与关系。
3. **API 功能可用**：可查询 CI、关系，拓扑图可视化可用。
4. **验证报告**：生成数据一致性、采集成功率、拓扑正确率报告。

---

## 10. 输出交付物

1. PoC 技术架构图
2. 数据模型文档（CI/Relation）
3. 数据采集适配器原型
4. API 层接口文档（REST/GraphQL）
5. 拓扑可视化 Demo（前端页面）
6. PoC 验证报告（含一致性、性能、风险、建议）

---

✅ **说明**：

PoC 阶段重在验证“底座可行性”，不追求企业级性能、权限、治理、智能化等高级功能。

成功通过 PoC 后，方可进入 MVP 阶段，逐步迭代成可供业务使用的最小可用产品。

# 参考资料


* any list
{:toc}