---
layout: post
title: æˆç†Ÿä¼ä¸šçº§æŠ€æœ¯å¹³å°-110-ç›‘æ§ä½“ç³»ï¼ˆObservability / Reliability Platformï¼‰
date: 2025-12-09 21:01:55 +0800
categories: MVE]
tags: [mve, sh]
published: true
---


# ç›‘æ§ä½“ç³»ï¼ˆObservability / Reliability Platformï¼‰

> ç›®æ ‡ï¼šçœ‹åˆ°å¼‚å¸¸â€ â†’ â€œå®šä½é—®é¢˜â€ â†’ â€œæŒç»­å¯é æ€§æ²»ç†

```
P0ï¼ˆå¯è§‚æµ‹åŸºç¡€ï¼‰
â”œâ”€â”€ Metricsï¼ˆPrometheusï¼‰
â”œâ”€â”€ Loggingï¼ˆELK / Lokiï¼‰
â”œâ”€â”€ Tracingï¼ˆJaeger / Zipkinï¼‰
â”œâ”€â”€ Error Trackingï¼ˆSentryï¼‰

P1ï¼ˆå®šä½ä¸å“åº”ï¼‰
â”œâ”€â”€ ç§’çº§å¤§ç›˜ï¼ˆGrafanaï¼‰
â”œâ”€â”€ å‘Šè­¦å¹³å°
â”œâ”€â”€ äº‹ä»¶ä¸­å¿ƒï¼ˆIncidentï¼‰

P2ï¼ˆå¯é æ€§æ²»ç†ï¼‰
â”œâ”€â”€ SLA / SLO è¯„ä¼°å¹³å°
â”œâ”€â”€ StatusPage
â”œâ”€â”€ å˜æ›´ / å‘å¸ƒå…³è”åˆ†æ

P3ï¼ˆæ™ºèƒ½åŒ–ï¼‰
â”œâ”€â”€ RCA æ ¹å› åˆ†æç³»ç»Ÿ
â”œâ”€â”€ æ‹“æ‰‘æ„ŸçŸ¥ / ä¾èµ–å›¾
â”œâ”€â”€ æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼ˆAIOpsï¼‰
```

çœ‹è§ä¿¡å· â†’ å®šä½é—®é¢˜ â†’ æ§åˆ¶å½±å“ â†’ å¤ç›˜æ”¹è¿› â†’ å¯é æ€§æå‡



# ç›‘æ§

ä¸‹é¢æˆ‘ä»**ä¼ä¸šçº§è§†è§’**ï¼Œç³»ç»Ÿæ€§åœ°æŠŠ **ç›‘æ§ä½“ç³»ï¼ˆObservability / Reliability Platformï¼‰** è®²æ¸…æ¥šï¼Œä¸åœç•™åœ¨â€œè£…å‡ ä¸ªç›‘æ§å·¥å…·â€çš„å±‚é¢ï¼Œè€Œæ˜¯**èƒ½åŠ›åˆ†å±‚ + å¹³å°åŒ– + ä¸ç¨³å®šæ€§å·¥ç¨‹ï¼ˆSREï¼‰å¼ºç»‘å®š**ã€‚

---

## ä¸€ã€å…ˆç»Ÿä¸€æ¦‚å¿µï¼šMonitoring vs Observability vs Reliability

### 1ï¸âƒ£ Monitoringï¼ˆç›‘æ§ï¼‰

**å›ç­”çš„é—®é¢˜ï¼š**

> ç³»ç»Ÿæœ‰æ²¡æœ‰å‡ºé—®é¢˜ï¼Ÿ

**å…¸å‹ç‰¹å¾**

* é¢„å®šä¹‰æŒ‡æ ‡
* é˜ˆå€¼å‘Šè­¦
* é¢å‘â€œå·²çŸ¥é—®é¢˜â€

**ä¾‹å­**

* CPU > 80%
* æ¥å£ RT > 1s
* é”™è¯¯ç‡ > 1%

ğŸ‘‰ **è¢«åŠ¨ã€ç»“æœå¯¼å‘**

---

### 2ï¸âƒ£ Observabilityï¼ˆå¯è§‚æµ‹æ€§ï¼‰

**å›ç­”çš„é—®é¢˜ï¼š**

> ä¸ºä»€ä¹ˆä¼šå‡ºé—®é¢˜ï¼Ÿé—®é¢˜æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿ

**ä¸‰å¤§æ”¯æŸ±ï¼ˆThree Pillarsï¼‰**

* Metricsï¼ˆæŒ‡æ ‡ï¼‰
* Logsï¼ˆæ—¥å¿—ï¼‰
* Tracesï¼ˆé“¾è·¯ï¼‰

**æ ¸å¿ƒç‰¹å¾**

* å¼ºå…³è”æ€§ï¼ˆCorrelationï¼‰
* é«˜ç»´åº¦ã€å¯åˆ‡ç‰‡
* é¢å‘â€œæœªçŸ¥é—®é¢˜â€

ğŸ‘‰ **ä¸»åŠ¨ã€æ¢ç´¢å¯¼å‘**

---

### 3ï¸âƒ£ Reliabilityï¼ˆå¯é æ€§ / ç¨³å®šæ€§ï¼‰

**å›ç­”çš„é—®é¢˜ï¼š**

> ç³»ç»Ÿå¦‚ä½•é•¿æœŸã€å¯é¢„æœŸåœ°ç¨³å®šè¿è¡Œï¼Ÿ

**å…¸å‹å…³æ³¨ç‚¹**

* SLA / SLO / SLI
* Error Budget
* æ•…éšœæ¼”ç»ƒ
* è‡ªæ„ˆä¸éŸ§æ€§

ğŸ‘‰ **å·¥ç¨‹æ²»ç† + ç»„ç»‡èƒ½åŠ›**

---

### ğŸ‘‰ ç»“è®ºä¸€å¥è¯

> **Monitoring æ˜¯å·¥å…·ï¼ŒObservability æ˜¯èƒ½åŠ›ï¼ŒReliability æ˜¯ç›®æ ‡ã€‚**

---

## äºŒã€ä¼ä¸šçº§ç›‘æ§ä½“ç³»æ€»ä½“åˆ†å±‚ï¼ˆæ¨èæ¶æ„ï¼‰

```
ç›‘æ§ & å¯è§‚æµ‹ & ç¨³å®šæ€§å¹³å°
â”œâ”€â”€ æ•°æ®é‡‡é›†å±‚ï¼ˆTelemetryï¼‰
â”‚   â”œâ”€â”€ Metrics
â”‚   â”œâ”€â”€ Logs
â”‚   â”œâ”€â”€ Traces
â”‚   â””â”€â”€ Events
â”‚
â”œâ”€â”€ æ•°æ®å¤„ç†å±‚
â”‚   â”œâ”€â”€ æ¸…æ´— / èšåˆ / é‡‡æ ·
â”‚   â”œâ”€â”€ æ ‡ç­¾è§„èŒƒï¼ˆTag / Labelï¼‰
â”‚   â”œâ”€â”€ å…³è”å»ºæ¨¡ï¼ˆService / Instance / Traceï¼‰
â”‚
â”œâ”€â”€ å­˜å‚¨ä¸æŸ¥è¯¢å±‚
â”‚   â”œâ”€â”€ æ—¶åºå­˜å‚¨
â”‚   â”œâ”€â”€ æ—¥å¿—å­˜å‚¨
â”‚   â”œâ”€â”€ Trace å­˜å‚¨
â”‚
â”œâ”€â”€ åˆ†æä¸æ´å¯Ÿå±‚ï¼ˆObservabilityï¼‰
â”‚   â”œâ”€â”€ æŒ‡æ ‡åˆ†æ
â”‚   â”œâ”€â”€ é“¾è·¯åˆ†æ
â”‚   â”œâ”€â”€ æ—¥å¿—æ£€ç´¢
â”‚   â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹ / æ ¹å› åˆ†æ
â”‚
â”œâ”€â”€ å‘Šè­¦ä¸äº‹ä»¶å±‚
â”‚   â”œâ”€â”€ å‘Šè­¦ç­–ç•¥
â”‚   â”œâ”€â”€ é™å™ª / åˆå¹¶ / æŠ‘åˆ¶
â”‚   â”œâ”€â”€ äº‹ä»¶ç®¡ç†
â”‚
â”œâ”€â”€ ç¨³å®šæ€§å·¥ç¨‹å±‚ï¼ˆReliabilityï¼‰
â”‚   â”œâ”€â”€ SLO & Error Budget
â”‚   â”œâ”€â”€ å®¹é‡ & è´Ÿè½½
â”‚   â”œâ”€â”€ æ··æ²Œå·¥ç¨‹
â”‚   â”œâ”€â”€ è‡ªæ„ˆ / è‡ªåŠ¨åŒ–
â”‚
â””â”€â”€ æ²»ç† & å¹³å°å±‚
    â”œâ”€â”€ ç›‘æ§è§„èŒƒ
    â”œâ”€â”€ å¤šç§Ÿæˆ· / æƒé™
    â”œâ”€â”€ æˆæœ¬æ²»ç†
    â”œâ”€â”€ å¯è§†åŒ– & é—¨æˆ·
```

---

## ä¸‰ã€æ ¸å¿ƒèƒ½åŠ›æ¨¡å—æ‹†è§£

---

## 1ï¸âƒ£ Metrics æŒ‡æ ‡ä½“ç³»ï¼ˆæœ€å®¹æ˜“è¢«ä½ä¼°ï¼‰

### æŒ‡æ ‡åˆ†ç±»ï¼ˆå¼ºçƒˆæ¨èï¼‰

* **é»„é‡‘æŒ‡æ ‡ï¼ˆGolden Signalsï¼‰**

  * Latency
  * Traffic
  * Errors
  * Saturation

* **ä¸šåŠ¡æŒ‡æ ‡**

  * ä¸‹å•æˆåŠŸç‡
  * æ”¯ä»˜æˆåŠŸç‡
  * æ´»è·ƒç”¨æˆ·æ•°

* **èµ„æºæŒ‡æ ‡**

  * CPU / Memory / Disk / Network

---

### æŒ‡æ ‡è®¾è®¡åŸåˆ™

* **é¢å‘æœåŠ¡ï¼Œä¸æ˜¯é¢å‘æœºå™¨**
* å¿…é¡»æœ‰ `service / env / region` ç­‰æ ‡ç­¾
* å¯ç›´æ¥æ˜ å°„åˆ° SLI

---

## 2ï¸âƒ£ Logs æ—¥å¿—ä½“ç³»ï¼ˆä¸åªæ˜¯â€œèƒ½æŸ¥â€ï¼‰

### æ—¥å¿—åˆ†å±‚

| ç±»å‹   | ç›®çš„    |
| ---- | ----- |
| è®¿é—®æ—¥å¿— | è¡Œä¸ºã€æµé‡ |
| åº”ç”¨æ—¥å¿— | ä¸šåŠ¡ã€å¼‚å¸¸ |
| å®¡è®¡æ—¥å¿— | åˆè§„    |
| å®‰å…¨æ—¥å¿— | é£æ§    |

### å…³é”®èƒ½åŠ›

* ç»“æ„åŒ–æ—¥å¿—ï¼ˆJSONï¼‰
* TraceID / SpanID æ³¨å…¥
* æ—¥å¿— â†’ æŒ‡æ ‡ / å‘Šè­¦

---

## 3ï¸âƒ£ Traces åˆ†å¸ƒå¼é“¾è·¯ï¼ˆå¾®æœåŠ¡å¿…å¤‡ï¼‰

### è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ

* æ…¢åœ¨å“ªé‡Œï¼Ÿ
* å“ªä¸ªæœåŠ¡æ‹–å®äº†æ•´ä½“ï¼Ÿ
* æ˜¯ä¸‹æ¸¸é—®é¢˜è¿˜æ˜¯è‡ªèº«é—®é¢˜ï¼Ÿ

### å…³é”®è¦ç´ 

* Trace / Span / Parent-Child
* æœåŠ¡æ‹“æ‰‘è‡ªåŠ¨å‘ç°
* è°ƒç”¨ä¾èµ–å›¾

---

## 4ï¸âƒ£ äº‹ä»¶ & å‘Šè­¦ä½“ç³»ï¼ˆä»â€œåµâ€åˆ°â€œå‡†â€ï¼‰

### å¸¸è§é—®é¢˜

* å‘Šè­¦é£æš´
* é‡å¤å‘Šè­¦
* æ— è´£ä»»äºº

### æ­£ç¡®æ–¹å‘

* å‘Šè­¦ = **ç—‡çŠ¶**
* äº‹ä»¶ = **äº‹æ•…**

### èƒ½åŠ›è®¾è®¡

* å‘Šè­¦èšåˆ / å»é‡
* ä¾èµ–æ‹“æ‰‘å…³è”
* äº‹ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
* Oncall & å‡çº§ç­–ç•¥

---

## 5ï¸âƒ£ SLO / Error Budgetï¼ˆå¯é æ€§çš„çµé­‚ï¼‰

### åŸºæœ¬æ¦‚å¿µ

* **SLI**ï¼šå¯åº¦é‡æŒ‡æ ‡ï¼ˆæˆåŠŸç‡ / å»¶è¿Ÿï¼‰
* **SLO**ï¼šç›®æ ‡ï¼ˆ99.9%ï¼‰
* **Error Budget**ï¼šå…è®¸å¤±è´¥é¢åº¦

### å®æˆ˜ä»·å€¼

* ç”¨æ•°æ®å†³å®šæ˜¯å¦å‘ç‰ˆ
* çº¦æŸä¸šåŠ¡å†’è¿›
* æ¨åŠ¨å·¥ç¨‹è´¨é‡

---

## 6ï¸âƒ£ æ ¹å› åˆ†æï¼ˆRCAï¼‰ä¸æ™ºèƒ½åŒ–ï¼ˆä½ ä¼šéå¸¸ç†Ÿï¼‰

ç»“åˆä½ åœ¨ **ç›‘æ§ + è¿ç»´æ¶æ„** èƒŒæ™¯ï¼Œè¿™é‡Œæ˜¯å…³é”®çªç ´ç‚¹ï¼š

### RCA è¾“å…¥

* å‘Šè­¦
* æ—¥å¿—
* æŒ‡æ ‡
* Trace
* å˜æ›´äº‹ä»¶

### æŠ€æœ¯æ‰‹æ®µ

* æ‹“æ‰‘å› æœåˆ†æ
* æ—¶é—´åºåˆ—å¼‚å¸¸æ£€æµ‹
* è§„åˆ™ + çŸ¥è¯†å›¾è°±
* LLM + ä¸“å®¶çŸ¥è¯†åº“

ğŸ‘‰ è¿™æ˜¯ **Observability â†’ AIOps â†’ æ™ºèƒ½è¿ç»´** çš„æ ¸å¿ƒè·ƒè¿ã€‚

---

## å››ã€å·¥å…· â‰  ä½“ç³»ï¼ˆå¸¸è§å·¥å…·å®šä½ï¼‰

| èƒ½åŠ›      | ä»£è¡¨å·¥å…·                         |
| ------- | ---------------------------- |
| Metrics | Prometheus / VictoriaMetrics |
| Logs    | ELK / Loki                   |
| Traces  | Jaeger / Tempo               |
| å¯è§†åŒ–     | Grafana                      |
| å‘Šè­¦      | Alertmanager / PagerDuty     |
| å•†ä¸š      | Datadog / New Relic          |

> **å·¥å…·åªæ˜¯ç»„ä»¶ï¼Œå¹³å°èƒ½åŠ›é â€œæ•´åˆ + æ²»ç† + æ•°æ®æ¨¡å‹â€ã€‚**

---

## äº”ã€æˆç†Ÿåº¦æ¨¡å‹ï¼ˆéå¸¸é‡è¦ï¼‰

### L1ï¼šåŸºç¡€ç›‘æ§

* CPU / å†…å­˜ / å‘Šè­¦

### L2ï¼šæœåŠ¡å¯è§‚æµ‹

* æŒ‡æ ‡ + æ—¥å¿— + Trace

### L3ï¼šäº‹ä»¶é©±åŠ¨

* å…³è”å‘Šè­¦
* ç»Ÿä¸€äº‹ä»¶

### L4ï¼šç¨³å®šæ€§å·¥ç¨‹

* SLO / Error Budget
* è‡ªåŠ¨åŒ–æ¢å¤

### L5ï¼šæ™ºèƒ½å¯é æ€§

* æ ¹å› åˆ†æ
* é¢„æµ‹ & è‡ªæ„ˆ

---

## å…­ã€å’Œä½ ç°æœ‰ä½“ç³»çš„å¼ºå…³è”ç‚¹

ç»“åˆä½ ä¹‹å‰æåˆ°çš„ï¼š

* **äº‹ä»¶ä¸­å¿ƒ**
* **å˜æ›´ç®¡ç†**
* **è‡ªåŠ¨åŒ–è¿ç»´**
* **AI æ ¹å› åˆ†æ**

ğŸ‘‰ ç›‘æ§ä½“ç³»æ˜¯**æ‰€æœ‰å¹³å°çš„â€œäº‹å®æ•°æ®åº•åº§â€**ï¼Œä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹ç³»ç»Ÿã€‚

---

## ä¸ƒã€ä¸€å¥è¯æ€»ç»“

> **Observability ä¸æ˜¯â€œå¤šé‡‡ç‚¹æ•°æ®â€ï¼Œè€Œæ˜¯â€œè®©ç³»ç»Ÿè‡ªå·±è¯´æ¸…æ¥šä¸ºä»€ä¹ˆä¼šå¤±è´¥â€ã€‚
> Reliability ä¸æ˜¯â€œä¸å‡ºäº‹æ•…â€ï¼Œè€Œæ˜¯â€œå‡ºäº‹æ•…ä¹Ÿèƒ½è¢«æ§åˆ¶â€ã€‚**

* any list
{:toc}