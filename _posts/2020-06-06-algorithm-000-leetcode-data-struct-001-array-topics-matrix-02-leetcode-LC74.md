---
layout: post
title:  ã€leetcodeã€‘åŠ›æ‰£çŸ©é˜µ matrix -01-LC74. æœç´¢äºŒç»´çŸ©é˜µ search-a-2d-matrix
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, data-struct, matrix, binary-search, leetcode]
published: true
---

# å¼€æºåœ°å€

ä¸ºäº†ä¾¿äºå¤§å®¶å­¦ä¹ ï¼Œæ‰€æœ‰å®ç°å‡å·²å¼€æºã€‚æ¬¢è¿ fork + star~

> [https://github.com/houbb/leetcode](https://github.com/houbb/leetcode)

# 74. æœç´¢äºŒç»´çŸ©é˜µ

ç»™ä½ ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°ä¸¤æ¡å±æ€§çš„ m x n æ•´æ•°çŸ©é˜µï¼š

æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰éä¸¥æ ¼é€’å¢é¡ºåºæ’åˆ—ã€‚
æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚
ç»™ä½ ä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ target åœ¨çŸ©é˜µä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

ç¤ºä¾‹ 1ï¼š

![1](https://assets.leetcode.com/uploads/2020/10/05/mat.jpg)

è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
è¾“å‡ºï¼štrue

ç¤ºä¾‹ 2ï¼š

![2](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/11/25/mat2.jpg)

è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13
è¾“å‡ºï¼šfalse
 

æç¤ºï¼š

m == matrix.length
n == matrix[i].length
1 <= m, n <= 100
-10^4 <= matrix[i][j], target <= 10^4


# ç±»ä¼¼é¢˜ç›®

å› ä¸ºæˆ‘æ˜¯å…ˆåšçš„ LC240ï¼Œæ‰€ä»¥æ˜¯ç›´æ¥copyè¿‡æ¥çš„ã€‚

[ã€leetcodeã€‘åŠ›æ‰£çŸ©é˜µ matrix -01-LC240. æœç´¢äºŒç»´çŸ©é˜µ II search-a-2d-matrix-ii](https://houbb.github.io/2020/06/08/algorithm-000-leetcode-data-struct-001-array-topics-matrix-02-leetcode-LC240)

# v1-æš´åŠ›

## æ€è·¯

ç›´æ¥å…¨éå†

## å®ç°

```java
public boolean searchMatrix(int[][] matrix, int target) {
        for(int i = 0; i < matrix.length; i++) {
            for(int j = 0; j < matrix.length; j++) {
                if(matrix[i][j] == target) {
                    return true;
                }
            }
        }
        
        return false;
    }
```

## æ•ˆæœ

0ms å‡»è´¥ 100.00%

## å¤æ‚åº¦

TC O(m*n)

è¿™ä¸€é¢˜çš„æµ‹è¯•ç”¨ä¾‹æ²¡æœ‰åŒºåˆ†åº¦ã€‚

## åæ€

çœ‹åˆ°æœ‰åºï¼Œçœ‹åˆ°æŸ¥æ‰¾ï¼Œåº”è¯¥æƒ³åˆ°äºŒåˆ†æ³•ã€‚

# v2-å•è¾¹çš„äºŒåˆ†æ³•

## æ€è·¯

æˆ‘ä»¬æœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œæ˜¯åœ¨æŸä¸€è¡Œã€æŸä¸€åˆ—åŠ ä¸€ä¸‹å¯¹åº”çš„äºŒåˆ†æŸ¥æ‰¾ä¿¡æ¯ã€‚

## å®ç°

```java
    public boolean searchMatrix(int[][] matrix, int target) {
        for(int i = 0; i < matrix.length; i++) {
            int[] nums = matrix[i];
            int index = binarySearch(nums, target);
            if(index > -1) {
                return true;
            }
        }

        return false;
    }


    // è¿”å›å¯¹åº”çš„ä½ç½®
    private int binarySearch(int[] nums, int target) {
        // æå‰åˆ¤æ–­è¿™ä¸€è¡Œæ˜¯å¦å¯èƒ½å­˜åœ¨
        if(target < nums[0] || target > nums[nums.length-1]) {
            return -1;
        }

        int left = 0;
        int right = nums.length-1;

        // è¦ç­‰äºå—ï¼Ÿ
        while (left <= right) {
            int mid = left + (right-left) / 2;
            if(nums[mid] == target) {
                return mid;
            } else if(nums[mid] > target ) {
                // å¤ªå¤§ï¼Œé‚£ä¹ˆå°±å»å·¦è¾¹
                right = mid-1;
            } else {
                // å¤ªå°ï¼Œåœ¨å³è¾¹
                left = mid+1;
            }
        }

        return -1;
    }
```

## æ•ˆæœ

0ms 100%

## å¤æ‚åº¦

TC: O(m * log n)

ç•¥æœ‰æå‡ã€‚

## åæ€

ä½†æ˜¯å› ä¸ºè¡Œ+åˆ—éƒ½æ˜¯æœ‰åºçš„ã€‚

æœ‰æ²¡æœ‰åŠæ³•å¯ä»¥åŒæ—¶åŠ é€Ÿå‘¢ï¼Ÿ

# v3-zå­—æŠ–åŠ¨

## æ€è·¯

å¯¹äºä¸€ä½æœ‰åºï¼Œæˆ‘ä»¬å·¦å³ç§»åŠ¨ï¼Œæ¥æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚å› ä¸ºæœ‰åºäºŒåˆ†å¯ä»¥å°½å¯èƒ½çš„æ’é™¤æ‰ä¸åˆé€‚çš„æ•°å­—ã€‚

é‚£ä¹ˆæ¨å¹¿åˆ°äºŒç»´å‘¢ï¼Ÿ

å…¶å®å’ŒäºŒåˆ†ç±»ä¼¼ï¼Œåªä¸è¿‡æˆ‘ä»¬ä¸€æ¬¡ç§»åŠ¨ä¸€æ­¥ã€‚

## ä¾‹å­

ä»¥ä¸€ä¸ªç¤ºä¾‹çŸ©é˜µä¸¾ä¾‹ï¼š

```
matrix = [
  [ 1,  4,  7, 11],
  [ 2,  5,  8, 12],
  [ 3,  6,  9, 16],
  [10, 13, 14, 17]
]
```

### æƒ³æ³•æ¨å¯¼æ€è·¯ï¼š

1. **è§‚å¯ŸäºŒç»´æœ‰åºæ€§** â†’ è¡Œå’Œåˆ—éƒ½æ˜¯é€’å¢çš„
2. **å°è¯•ä»æŸä¸ªâ€œè¾¹ç•Œè§’è½â€å¼€å§‹**ï¼š

   * å·¦ä¸Šè§’ï¼Ÿä¸¤ä¸ªæ–¹å‘éƒ½å¢å¤§ â†’ æ— æ³•å†³ç­– âŒ
   * å³ä¸‹è§’ï¼Ÿä¸¤ä¸ªæ–¹å‘éƒ½å‡å° â†’ ä¹Ÿä¸é€‚åˆ âŒ
   * å·¦ä¸‹è§’ï¼Ÿä¸Šæ˜¯å‡å°ï¼Œå³æ˜¯å¢å¤§ â†’ å¯è¡Œ âœ…
   * å³ä¸Šè§’ï¼Ÿå·¦æ˜¯å‡å°ï¼Œä¸‹æ˜¯å¢å¤§ â†’ æœ€ç›´è§‚ âœ…âœ…
3. **æ¯æ¬¡ç§»åŠ¨èƒ½æ’é™¤ä¸€è¡Œæˆ–ä¸€åˆ—**ï¼Œå¤æ‚åº¦é™åˆ° O(m+n)


### å³ä¸Šè§’å‡ºå‘

å‡è®¾æˆ‘ä»¬ä» **å³ä¸Šè§’ `matrix[0][n-1]` = 11** å¼€å§‹ï¼Œçœ‹çœ‹å››å‘¨çš„æ•°æ®å¦‚ä½•å˜åŒ–ï¼š

ğŸ¯ å¦‚ä½•æ ¹æ®æ¯”è¾ƒç»“æœç§»åŠ¨ï¼Ÿ

å‡è®¾ `target = 9`ï¼Œä» `11` å¼€å§‹ï¼š

* 11 > 9ï¼Œå¤ªå¤§äº† â†’ å¾€å·¦ï¼ˆåˆ—--ï¼‰
* åˆ°äº† 7ï¼Œ7 < 9ï¼Œå¤ªå°äº† â†’ å¾€ä¸‹ï¼ˆè¡Œ++ï¼‰
* åˆ°äº† 8ï¼Œè¿˜æ˜¯å° â†’ è¡Œ++
* åˆ°äº† 9ï¼Œæ‰¾åˆ°äº† âœ…

âœ… æ€»ç»“å‡ºç­–ç•¥ï¼š

ä»å³ä¸Šè§’å¼€å§‹ï¼Œæ¯æ¬¡æ ¹æ®å½“å‰å€¼å’Œ `target` çš„æ¯”è¾ƒï¼Œ**åªéœ€è¦åšä¸€ä¸ªå†³ç­–**ï¼š

* å¦‚æœå½“å‰å€¼ > target â†’ å¾€å·¦ï¼ˆcol--ï¼‰
* å¦‚æœå½“å‰å€¼ < target â†’ å¾€ä¸‹ï¼ˆrow++ï¼‰
* å¦‚æœç›¸ç­‰ â†’ æ‰¾åˆ°äº†ï¼


## å®ç°

æˆ‘ä»¬æŠŠäºŒåˆ†ï¼Œæ”¹æˆäº†ä»å³ä¸Šè§’æ¥ä¸€æ­¥æ­¥ç§»åŠ¨

```java
public boolean searchMatrix(int[][] matrix, int target) {
        int m = matrix.length;
        int n = matrix[0].length;

        // ä»å³ä¸Šè§’å¼€å§‹
        int row = 0;
        int col = n - 1;
        // å¾€å·¦èµ°ï¼Œå˜å°   å¾€ä¸‹èµ°ï¼Œå˜å¤§
        // è¦æ±‚ï¼šå·¦è¾¹ >= 0   ä¸‹è¾¹ < m

        while (row < m && col >= 0) {
            int cur = matrix[row][col];
            if(cur == target) {
                return true;
            }
            if(cur > target) {
                col--;
            }
            if(cur < target) {
                row++;
            }
        }

        return false;
    }
```

## æ•ˆæœ

0ms 100%

## å¤æ‚åº¦

O(m + n)	æœ€ä¼˜ï¼Œç©ºé—´ O(1)ï¼Œé€‚åˆé¢è¯•

## åæ€

è¿™ç§å¾ˆå¤šéƒ½æ˜¯å€ŸåŠ©ä»¥å‰çš„ç©ºé—´ï¼Œç‰ºç‰²äº†å¯è¯»æ€§ã€‚

ä½œä¸ºæ€ç»´è®­ç»ƒå‹‰å¼ºå¯ç”¨ã€‚

# v4-äºŒåˆ†æ³•

## æ€è·¯

å…¶å®è¿™ä¸€é¢˜çš„ç”¨ä¾‹åº”è¯¥è®¾è®¡çš„æ›´åŠ å¤æ‚ä¸€äº›ã€‚

ä¸ç„¶å¾ˆå¤šè§£æ³•ä½“ç°ä¸å‡ºä»»ä½•ä¼˜åŠ¿ã€‚

è¿™ä¸€é¢˜å’Œ TC240 ä¸åŒçš„æ˜¯å®Œå…¨æœ‰åºã€‚æ‰€ä»¥ç›´æ¥å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•

é—®é¢˜æ˜¯ï¼Œå¿…é¡»è¦æ”¾åœ¨ä¸€ç»´æ•°ç»„ä¸­æ‰èƒ½äºŒåˆ†å—ï¼Ÿ

ç­”æ¡ˆè‚¯å®šæ˜¯å¦å®šçš„ã€‚

æˆ‘ä»¬ç›´æ¥å¯ä»¥å°†äºŒç»´è½¬æ¢ä¸ºä¸€ç»´

```java
left = 0;
right = m*n - 1;
mid = left + (right-left) / 2;
```

å¦‚ä½•æ˜ å°„å›äºŒç»´å‘¢ï¼Ÿ

```
matrix[mid / n][mid % n];
```

å…¶ä»–çš„å…¨éƒ¨æŒ‰ç…§äºŒåˆ†æ³•æ¥å®ç°

## å®ç°

```java
public boolean searchMatrix(int[][] matrix, int target) {
        int m = matrix.length;
        int n = matrix[0].length;

        int left = 0;
        int right = m*n-1;
        while (left <= right) {
            int mid = left + (right-left) / 2;
            int midVal = matrix[mid / n][mid % n];

            if(midVal == target) {
                return true;
            } else if(midVal < target) {
                // å° å»å³è¾¹
                left = mid+1;
            } else {
                right = mid-1;
            }
        }

        return false;
    }
```

## æ•ˆæœ

0ms 100%

## å¤æ‚åº¦

TC: O(lg(m*n))

## åæ€

è¿™ç§äºŒåˆ†æ˜¯è¿™ä¸€é¢˜çš„æœ€ä½³è§£æ³•ã€‚

åŒæ—¶å­¦ä¼šè®¡ç®—å¤æ‚åº¦ä¹Ÿæ¯”è¾ƒé‡è¦ã€‚

# å°ç»“

å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¦‚æœæœ‰å…¶ä»–æƒ³æ³•çš„è¯ï¼Œä¹Ÿå¯ä»¥è¯„è®ºåŒºå’Œå¤§å®¶åˆ†äº«å“¦ã€‚

å„ä½æå®¢çš„ç‚¹èµæ”¶è—è½¬å‘ï¼Œæ˜¯è€é©¬æŒç»­å†™ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼

æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å…³æ³¨ä¸€æ³¢ï¼Œç²¾å½©å†…å®¹ï¼Œä¸å®¹é”™è¿‡ã€‚

# å‚è€ƒèµ„æ–™

* any list
{:toc}