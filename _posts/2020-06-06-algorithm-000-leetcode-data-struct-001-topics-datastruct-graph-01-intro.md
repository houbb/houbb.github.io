---
layout: post
title: leetcode ç®—æ³•ç¯‡ä¸“é¢˜ä¹‹å›¾ graph 01-å…¥é—¨ä»‹ç»
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, data-struct, topics, leetcode, graph, sf]
published: true
---


# æ•°ç»„

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€é©¬ã€‚

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ã€‚

## ä¸»è¦çŸ¥è¯†

æ•°ç»„éœ€è¦æ‹†åˆ†ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ç†è®ºä»‹ç»

2. æºç åˆ†æ

3. æ•°æ®ç»“æ„å®ç°ï¼Ÿ

4. é¢˜ç›®ç»ƒä¹ ï¼ˆæŒ‰ç…§ç®—æ³•æ€æƒ³åˆ†ç±»ï¼‰

5. æ¢³ç†å¯¹åº”çš„ sdk åŒ…

6. åº”ç”¨å®æˆ˜

å› ä¸ºè¿™ä¸ªæ˜¯ leetcode ç³»åˆ—ï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯ 4ã€5(å¯¹4å†ä¸€æ¬¡æ€»ç»“)ã€‚

ä¸ºäº†ç…§é¡¾æ²¡æœ‰åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¼šç®€å•ä»‹ç»ä¸€ä¸‹1çš„åŸºç¡€ç†è®ºã€‚

ç®€å•ä»‹ç»1ï¼Œé‡ç‚¹ä¸º4ã€‚å…¶ä»–ä¸æ˜¯æœ¬ç³»åˆ—çš„é‡ç‚¹ã€‚

# æ•°æ®ç»“æ„ç¯‡

## é€šç”¨åŸºç¡€

é“¾è¡¨ 

æ ‘

å“ˆå¸Œè¡¨

stack æ ˆ

queue é˜Ÿåˆ—

ordered set æœ‰åºé›†åˆ

heap  å †

graph å›¾


## è¿›é˜¶

å¹¶æŸ¥é›†

å­—å…¸æ ‘

çº¿æ®µæ ‘

æ ‘çŠ¶æ•°ç»„

åç¼€æ•°ç»„

# chat

https://leetcode.cn/studyplan/top-100-liked/

## è¯¦ç»†ä»‹ç»ä¸€ä¸‹åŠ›æ‰£æ•°æ®ç»“æ„ä¹‹å›¾

åœ¨åŠ›æ‰£ï¼ˆLeetCodeï¼‰ä¸­ï¼Œ**å›¾ï¼ˆGraphï¼‰** æ˜¯é«˜çº§åˆå¸¸è§çš„æ•°æ®ç»“æ„ï¼Œæ¶‰åŠåˆ°å¤§é‡çš„**æœç´¢ã€è·¯å¾„ã€è¿é€šæ€§ã€æ‹“æ‰‘ã€æœ€çŸ­è·¯**ç­‰é—®é¢˜ã€‚

å¾ˆå¤šé¢è¯•é«˜é¢‘é¢˜ï¼ˆå¦‚å²›å±¿æ•°é‡ã€è¯¾ç¨‹è¡¨ã€æœ€çŸ­è·¯å¾„ç­‰ï¼‰éƒ½å¯ä»¥å»ºæ¨¡ä¸ºå›¾é—®é¢˜ã€‚

---

## ğŸ”§ ä¸€ã€å›¾çš„åŸºæœ¬å®šä¹‰

å›¾æ˜¯ä¸€ç»„èŠ‚ç‚¹ï¼ˆé¡¶ç‚¹ï¼‰å’Œè¿æ¥è¿™äº›èŠ‚ç‚¹çš„è¾¹çš„é›†åˆã€‚

### å›¾çš„åˆ†ç±»ï¼š

| ç±»å‹   | è¯´æ˜              |
| ---- | --------------- |
| æœ‰å‘å›¾  | è¾¹æœ‰æ–¹å‘ï¼Œä»ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å¦ä¸€ä¸ª |
| æ— å‘å›¾  | è¾¹æ²¡æœ‰æ–¹å‘ï¼Œä¸¤ä¸ªèŠ‚ç‚¹äº’ä¸ºé‚»å±…  |
| å¸¦æƒå›¾  | è¾¹å¸¦æœ‰æƒå€¼ï¼ˆå¦‚è·ç¦»ã€è´¹ç”¨ç­‰ï¼‰  |
| ä¸å¸¦æƒå›¾ | è¾¹åªæœ‰è¿æ¥å…³ç³»ï¼Œæ²¡æœ‰æ•°å€¼    |
| ç¨€ç–å›¾  | è¾¹è¾ƒå°‘             |
| ç¨ å¯†å›¾  | è¾¹æ¥è¿‘æœ€å¤šå¯èƒ½æ•°é‡       |
| è¿é€šå›¾  | ä»»æ„ä¸¤ä¸ªç‚¹é—´è‡³å°‘å­˜åœ¨ä¸€æ¡è·¯å¾„  |

---

## ğŸ“¦ äºŒã€å›¾çš„å­˜å‚¨æ–¹å¼

### 1. é‚»æ¥è¡¨ï¼ˆæœ€å¸¸ç”¨ï¼‰

```java
Map<Integer, List<Integer>> graph = new HashMap<>();
```

* èŠ‚çœç©ºé—´ï¼Œé€‚åˆç¨€ç–å›¾
* å¸¸ç”¨äº DFSã€BFSã€Dijkstra ç­‰ç®—æ³•

### 2. é‚»æ¥çŸ©é˜µï¼ˆäºŒç»´æ•°ç»„ï¼‰

```java
int[][] matrix = new int[n][n];
```

* å¿«é€Ÿåˆ¤æ–­ä¸¤ç‚¹æ˜¯å¦æœ‰è¾¹
* ç©ºé—´å ç”¨å¤§ï¼Œé€‚åˆç¨ å¯†å›¾æˆ– Floyd ç®—æ³•

---

## ğŸ” ä¸‰ã€å›¾çš„éå†

### âœ… æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰

é€’å½’æˆ–æ ˆï¼Œé€‚åˆè·¯å¾„æœç´¢ã€è¿é€šåˆ†é‡ã€æ‹“æ‰‘æ’åºç­‰ã€‚

```java
void dfs(int node) {
    visited[node] = true;
    for (int nei : graph.get(node)) {
        if (!visited[nei]) dfs(nei);
    }
}
```

### âœ… å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰

é˜Ÿåˆ—ï¼Œé€‚åˆæ±‚æœ€çŸ­è·¯å¾„ã€åˆ†å±‚éå†ç­‰ã€‚

```java
Queue<Integer> queue = new LinkedList<>();
queue.offer(start);
while (!queue.isEmpty()) {
    int cur = queue.poll();
    for (int nei : graph.get(cur)) {
        if (!visited[nei]) {
            visited[nei] = true;
            queue.offer(nei);
        }
    }
}
```

---

## ğŸ§  å››ã€åŠ›æ‰£å¸¸è§é¢˜å‹

| åˆ†ç±»     | é¢˜ç›®                                                                        | è§£æ³•         |
| ------ | ------------------------------------------------------------------------- | ---------- |
| å›¾éå†    | [200. å²›å±¿æ•°é‡](https://leetcode.cn/problems/number-of-islands/)              | DFS/BFS    |
| æ‹“æ‰‘æ’åº   | [207. è¯¾ç¨‹è¡¨](https://leetcode.cn/problems/course-schedule/)                 | DFS/BFS æ‹“æ‰‘ |
| æœ€çŸ­è·¯å¾„   | [743. ç½‘ç»œå»¶è¿Ÿæ—¶é—´](https://leetcode.cn/problems/network-delay-time/)           | Dijkstra   |
| å¤šæº BFS | [994. è…çƒ‚çš„æ©˜å­](https://leetcode.cn/problems/rotting-oranges/)               | BFS        |
| è”é€šåˆ†é‡   | [547. çœä»½æ•°é‡](https://leetcode.cn/problems/number-of-provinces/)            | å¹¶æŸ¥é›†        |
| æœ‰å‘å›¾æ£€æµ‹ç¯ | [802. æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€](https://leetcode.cn/problems/find-eventual-safe-states/) | æ‹“æ‰‘æ’åº       |

---

## âœ¨ äº”ã€é«˜çº§ç®—æ³•ï¼ˆå›¾ç›¸å…³ï¼‰

### 1. æ‹“æ‰‘æ’åº

é€‚ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰

* ç”¨äºæ£€æµ‹ç¯ã€ä»»åŠ¡ä¾èµ–æ‰§è¡Œé¡ºåº
* å…¸å‹é¢˜ï¼š207ã€210

```java
// BFS æ‹“æ‰‘æ’åº
Queue<Integer> queue = new LinkedList<>();
int[] inDegree = new int[n]; // å…¥åº¦
for (int i = 0; i < n; i++) {
    if (inDegree[i] == 0) queue.offer(i);
}
```

---

### 2. æœ€çŸ­è·¯å¾„ç®—æ³•

| ç®—æ³•             | åœºæ™¯           | æ—¶é—´å¤æ‚åº¦      |
| -------------- | ------------ | ---------- |
| Dijkstra       | å•æºæœ€çŸ­è·¯å¾„ï¼ˆè¾¹æƒéè´Ÿï¼‰ | O(E log V) |
| Bellman-Ford   | è¾¹æƒå¯è´Ÿï¼Œæ£€æµ‹è´Ÿç¯    | O(VE)      |
| Floyd-Warshall | æ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·¯å¾„     | O(VÂ³)      |

---

### 3. å¹¶æŸ¥é›†ï¼ˆUnion Findï¼‰

* æ£€æµ‹å›¾ä¸­æ˜¯å¦è¿é€šã€åˆ¤æ–­ç¯
* å¸¸ç”¨äºè¿é€šå—é—®é¢˜ï¼Œå¦‚ 547

```java
int[] parent = new int[n];
int find(int x) {
    if (x != parent[x]) parent[x] = find(parent[x]);
    return parent[x];
}
void union(int a, int b) {
    parent[find(a)] = find(b);
}
```

---

## ğŸ”§ å…­ã€å›¾å»ºæ¨¡å¸¸è§æŠ€å·§

| åœºæ™¯      | å»ºæ¨¡æ–¹å¼              |
| ------- | ----------------- |
| 2D ç½‘æ ¼å›¾  | æŠŠæ¯ä¸ªæ ¼å­å½“ä½œèŠ‚ç‚¹ï¼Œæ–¹å‘æ•°ç»„æ„å»ºè¾¹ |
| å­—ç¬¦ä¸²å˜æ¢ç±»  | å•è¯ä¹‹é—´èƒ½äº’ç›¸è½¬æ¢å°±å»ºè¾¹      |
| è¯¾ç¨‹ä¾èµ–    | è¯¾ç¨‹æ˜¯èŠ‚ç‚¹ï¼Œä¾èµ–å…³ç³»æ˜¯æœ‰å‘è¾¹    |
| å¤šèµ·ç‚¹åŒæ—¶æ‰©æ•£ | å¤šæº BFS            |

---

## ğŸ” ä¸ƒã€å…¸å‹ä¾‹é¢˜è¯¦è§£

### ç¤ºä¾‹ï¼šåŠ›æ‰£ 207. è¯¾ç¨‹è¡¨ï¼ˆæ‹“æ‰‘æ’åºï¼‰

```java
public boolean canFinish(int numCourses, int[][] prerequisites) {
    List<Integer>[] graph = new ArrayList[numCourses];
    int[] inDegree = new int[numCourses];
    for (int i = 0; i < numCourses; i++) graph[i] = new ArrayList<>();
    
    for (int[] p : prerequisites) {
        graph[p[1]].add(p[0]);
        inDegree[p[0]]++;
    }
    
    Queue<Integer> queue = new LinkedList<>();
    for (int i = 0; i < numCourses; i++)
        if (inDegree[i] == 0) queue.offer(i);
    
    int count = 0;
    while (!queue.isEmpty()) {
        int cur = queue.poll();
        count++;
        for (int next : graph[cur]) {
            if (--inDegree[next] == 0) queue.offer(next);
        }
    }
    return count == numCourses;
}
```

---

## ğŸ“š å…«ã€å›¾é¢˜æ¨¡æ¿æ€»ç»“ï¼ˆJavaï¼‰

| æ¨¡æ¿       | è¯´æ˜               |
| -------- | ---------------- |
| DFS      | é€’å½’æœç´¢ï¼Œå¸¸ç”¨äºå²›å±¿ã€è·¯å¾„    |
| BFS      | é˜Ÿåˆ—å±‚åºï¼Œå¸¸ç”¨äºæœ€çŸ­è·¯ã€è…çƒ‚æ©˜å­ |
| æ‹“æ‰‘æ’åº     | å…¥åº¦è¡¨ + é˜Ÿåˆ—         |
| Dijkstra | æœ€çŸ­è·¯å¾„ + ä¼˜å…ˆé˜Ÿåˆ—      |
| å¹¶æŸ¥é›†      | è¿é€šå—åˆå¹¶åˆ¤æ–­          |

---

## âœ… ä¹ã€æ€»ç»“

| é‡ç‚¹çŸ¥è¯†   | è¯´æ˜                 |
| ------ | ------------------ |
| å›¾è¡¨ç¤ºæ–¹å¼  | é‚»æ¥è¡¨æœ€å¸¸ç”¨             |
| å›¾éå†ç®—æ³•  | DFSã€BFS            |
| æ‹“æ‰‘æ’åº   | åˆ¤æ–­æ˜¯å¦æœ‰ç¯             |
| æœ€çŸ­è·¯å¾„   | Dijkstraã€BFSã€Floyd |
| å›¾é¢˜æŠ½è±¡å»ºæ¨¡ | æŠŠé¢˜æ„è½¬åŒ–ä¸ºå›¾ç»“æ„æ˜¯å…³é”®       |


* any list
{:toc}