---
layout: post
title: 企业 IT 架构分层-02-基础服务层 / 技术中台（Foundation Services Layer） 介绍
date: 2025-11-04 14:12:33 +0800
categories: [IT]
tags: [it, struct, overview, sh]
published: true
---


# IT 架构

| 层级    | 名称                                                   | 作用概述                           |
| ----- | ---------------------------------------------------- | ------------------------------ |
| 🧱 L1 | **基础设施层（Infrastructure Layer）**                      | 提供算力、网络、存储等底层运行环境              |
| ⚙️ L2 | **基础服务层 / 技术中台（Foundation Services Layer）**          | 构建主数据、统一能力、通用服务（UMS、CMDB、AMS等） |
| 🧩 L3 | **业务中台层（Business Middle Platform）**                  | 抽象可复用的通用业务能力（流程、规则、消息、工单等）     |
| 🏢 L4 | **业务系统层（Business Applications Layer）**               | 承载各业务域的具体系统（CRM、ERP、测试平台等）     |
| 📊 L5 | **数据与智能层（Data & Intelligence Layer）**                | 数据汇聚、分析、决策、AI 驱动能力             |
| 🧠 L6 | **企业管理与战略层（Enterprise Strategy & Governance Layer）** | 战略规划、架构治理、安全与合规、标准体系           |

# chat

## 详细展开介绍 基础服务层 / 技术中台（Foundation Services Layer）

既然我们已经讲完了最底层的 **L1 基础设施层（Infrastructure Layer）**，那接下来这一层 —— **L2 基础服务层 / 技术中台（Foundation Services Layer）** 就是整个企业 IT 架构的“技术能力引擎”。

---

# 🧭 一、定义与定位

> **一句话定义：**
> 基础服务层（又称技术中台、Foundation Services Layer）是将底层的硬件与计算资源抽象为“可复用的技术能力”，为上层应用系统提供统一、标准化的基础技术服务支撑。

如果说：

* **L1** 是“硬件世界”（机器、电力、网络），
* 那么 **L2** 就是“软件底座”（数据库、缓存、消息、网关、监控等）。

这层的核心使命是：

> 把通用的、跨业务的技术能力平台化、服务化、标准化。

---

# 🧩 二、主要子系统构成

L2 一般包含以下几个核心领域（不同企业命名略有不同，但理念一致）：

---

## 1️⃣ 数据服务（Data Services）

面向“数据”的所有底层能力。
包括：

* **数据库服务（DBaaS）**

  * MySQL、PostgreSQL、Oracle、MongoDB 等；
  * 统一的数据库接入、备份、监控、权限体系；
  * 提供数据库弹性扩缩、租户隔离。

* **缓存服务**

  * Redis、Memcached；
  * 提供统一缓存服务（如 Session、热点数据）。

* **消息与队列系统（MQ）**

  * Kafka、RabbitMQ、RocketMQ；
  * 用于异步通信、解耦、削峰填谷。

* **对象存储与文件服务（OSS、NAS）**

* **搜索与索引服务**

  * Elasticsearch、OpenSearch、Solr；
  * 提供全文检索、日志检索、分析能力。

* **大数据与数仓服务**

  * Hive、ClickHouse、Doris、Hadoop；
  * 供上层分析、报表、BI 平台使用。

> 💡 关键价值：
> 数据从“分散依赖” → “统一服务化” → “按需接入、集中管理”。

---

## 2️⃣ 通信与集成服务（Integration Services）

这一部分是“系统间的连接器”。

* **API 网关（API Gateway）**

  * 管理、限流、鉴权、监控所有 API 接口；
  * 提供统一入口，支持灰度发布、流量控制。

* **服务注册与发现（Service Registry）**

  * 如 Nacos、Consul、Eureka；
  * 支撑微服务动态发现与治理。

* **配置中心（Configuration Center）**

  * 集中配置管理（Apollo、Nacos Config）；
  * 动态更新，无需重启。

* **服务通信与治理（Service Mesh）**

  * Istio、Linkerd；
  * 提供微服务层的流量治理、可观测性、安全。

* **中间件平台（Middleware Platform）**

  * MQ、ESB（企业服务总线）、流处理引擎（Flink、Spark Streaming）。

> 💡 关键价值：
> 解决“系统之间如何安全、高效、标准地通信”的问题。

---

## 3️⃣ 身份与访问服务（Identity & Access Services）

这里正是前面提到的 **UMS / IAM / SSO / Passport** 等所在的层次。

* **统一用户中心（UMS）**：管理人、账号、角色；
* **统一登录认证（SSO）**：一处登录，全网通行；
* **企业权限系统（Passport/IAM）**：细粒度权限、访问控制；
* **API 访问控制网关（IAM Gateway）**；
* **审计与安全日志服务**。

> 💡 关键价值：
> 统一身份视角，保证“人—系统—资源”的安全、清晰访问链路。

---

## 4️⃣ 运维与可观测服务（Observability & Ops Services）

让系统可运维、可追踪、可自愈。

* **监控系统**：Prometheus、Grafana、Zabbix；
* **日志中心**：ELK Stack、Loki；
* **链路追踪**：Jaeger、SkyWalking；
* **告警与自愈平台**：AIOps、自动重启策略；
* **配置审计与变更记录**；
* **CMDB 集成**：形成“服务-资源-配置”全链路可追踪。

> 💡 关键价值：
> “全局可观测、智能运维”，让上层系统不再是黑盒。

---

## 5️⃣ 开发与交付服务（DevOps & Delivery Services）

支撑软件开发全生命周期。

* **CI/CD 平台**：Jenkins、GitLab CI、ArgoCD；
* **制品仓库**：Nexus、Harbor；
* **代码托管**：GitLab、Gitee、Bitbucket；
* **测试平台**：自动化测试、Mock、用例管理；
* **部署与灰度**：蓝绿发布、金丝雀发布；
* **流水线模板**：标准化交付流程。

> 💡 关键价值：
> 提升开发效率，降低发布风险，实现“从代码到上线”的全自动化。

---

## 6️⃣ 通用支撑服务（Foundation Common Services）

对上层系统来说是“通用基础能力”的一揽子服务：

* 消息通知（SMS、邮件、Webhook）
* 文件上传与转码
* 审批流引擎（Flow Engine）
* 报表引擎（Report Engine）
* 任务调度（Scheduler）
* OCR、翻译、AI 模型服务（AIaaS）

这些都属于技术中台在通用层面抽象出来的能力。

---

# 🧠 三、架构逻辑示意

```
┌─────────────────────────────┐
│       L4 业务创新层         │
│  （产品线、业务域应用）      │
└──────────────┬──────────────┘
               │
┌──────────────┴──────────────┐
│       L3 应用系统层          │
│   （CRM、ERP、OA、OMS等）   │
└──────────────┬──────────────┘
               │
🟩 L2 基础服务层 / 技术中台
│-------------------------------------------│
│ 数据服务 | 通信集成 | 身份与权限 | DevOps │
│ 可观测运维 | 通用服务 | 消息与调度 | …     │
│-------------------------------------------│
└──────────────┬──────────────┘
               │
┌──────────────┴──────────────┐
│      L1 基础设施层          │
│   (算力 / 存储 / 网络 / 安全) │
└─────────────────────────────┘
```

---

# 🧩 四、L2 的核心价值

| 方向       | 说明              |
| -------- | --------------- |
| **统一性**  | 标准化的服务接口与能力抽象   |
| **复用性**  | 一次建设，多系统共享      |
| **可扩展性** | 容易横向扩展、替换组件     |
| **可观测性** | 每个服务都有日志、指标、链路  |
| **安全性**  | 统一鉴权、统一审计、零信任集成 |
| **效率提升** | 研发团队不必重复造轮子     |

---

# 🚀 五、技术中台的演进趋势

| 阶段            | 特征              | 关键词           |
| ------------- | --------------- | ------------- |
| v1.0：传统SOA中间件 | 提供DB/MQ/Cache等  | 技术支撑          |
| v2.0：PaaS 平台化 | 抽象出通用服务         | 微服务化          |
| v3.0：中台化      | 能力复用、标准输出       | 统一接入          |
| v4.0：云原生中台    | 自动伸缩、服务网格       | DevOps + Mesh |
| v5.0：智能中台     | AIOps、智能调度、自动自愈 | 智能化治理         |

---

# 🧱 六、延伸子域（典型平台示例）

| 类型        | 平台示例                    | 功能定位         |
| --------- | ----------------------- | ------------ |
| 数据中台      | Data Platform / DaaS    | 数据集成、治理、服务化  |
| 身份中台      | Identity Platform       | 统一认证、SSO、IAM |
| 消息中台      | MQ Platform             | 异步通信         |
| 监控中台      | Observability Platform  | 可观测与运维       |
| DevOps 中台 | CI/CD Platform          | 开发交付自动化      |
| 通用中台      | Common Service Platform | 通知、任务、报表、审批等 |


## cmdb 的位置

非常好的问题 💡
CMDB（**Configuration Management Database**，配置管理数据库）这个组件在企业 IT 架构中的定位确实容易被“模糊化”——它既跟 **L1 基础设施层** 紧密相关，又在 **L2 技术中台 / 基础服务层** 中承担关键支撑角色。

我们可以这么理解 👇：

---

# 🧭 一、CMDB 的核心定义与使命

> **一句话定义：**
> CMDB 是企业 IT 架构的“数字孪生底图”，用来记录、管理、追踪所有 IT 资源及其配置关系（Configuration Items，简称 **CI**），是 IT 运维和自动化的核心数据库。

它回答的是：

> **“我现在到底拥有哪些资源？它们之间是什么关系？变更会影响什么？”**

---

# 🧩 二、CMDB 在分层架构中的位置

在 **L1 / L2** 的关系图中，CMDB 是一个 **横跨两层的核心支撑平台**：

```
┌──────────────────────────────┐
│        L4 业务创新层         │
└──────────────┬───────────────┘
               │
┌──────────────┴───────────────┐
│        L3 应用系统层          │
└──────────────┬───────────────┘
               │
🟩 L2 技术中台 / 基础服务层
│---------------------------------------------│
│ 数据服务 | 身份服务 | DevOps | 运维可观测服务 │
│ 📘 CMDB （配置与资产中心） ←←←←←←←←←←←←←←←│
│---------------------------------------------│
└──────────────┬───────────────┘
               │
🟦 L1 基础设施层（Compute / Storage / Network）
```

👉 **解释：**

* **从下往上看：** CMDB 汇聚 L1 层的所有“资源数据”（服务器、网络设备、存储、云主机、K8s 节点等）；
* **从上往下看：** CMDB 向 L2 各平台（监控、部署、告警、工单、自动化运维）提供“统一的资源视图与关系数据”。

也就是说：

> CMDB 不是基础设施的一部分，而是 **L2 技术中台的“资产与关系枢纽”**，对 L1 进行数字建模和抽象。

---

# 🧱 三、CMDB 的核心组成

一个成熟的 CMDB 通常包含以下模块：

| 模块                             | 说明                                |
| ------------------------------ | --------------------------------- |
| **配置项管理（CI Management）**       | 管理所有 IT 资源（物理机、云主机、容器、网络、应用、数据库等） |
| **关系管理（Relationship Mapping）** | 建立依赖关系：主机→应用→服务→业务系统              |
| **变更管理（Change Tracking）**      | 记录谁改了什么、何时改、影响范围                  |
| **版本与快照（Snapshot）**            | 支持回溯、比对配置差异                       |
| **数据同步（Data Integration）**     | 从各平台（云管、K8s、监控、堡垒机等）自动同步数据        |
| **数据模型（Data Schema）**          | CI 类型、属性、关系模型可扩展                  |
| **API 与可视化接口**                 | 提供 REST API / GraphQL / 拓扑可视化图    |
| **权限与审计**                      | 不同角色访问不同层级的信息                     |

---

# 🔁 四、CMDB 与其他 L2 组件的关系

| 关联组件            | 交互方式                | 说明          |
| --------------- | ------------------- | ----------- |
| **监控系统**        | 从 CMDB 拉取资源清单       | 自动生成监控对象    |
| **自动化运维平台**     | 调用 CMDB 获取目标主机、依赖关系 | 执行任务前的资产定位  |
| **部署系统 / CICD** | 从 CMDB 获取环境、拓扑信息    | 自动选择部署节点    |
| **告警系统**        | 将监控告警事件关联到 CI 对象    | 快速定位影响范围    |
| **工单系统 / ITSM** | 在变更工单中引用 CI 信息      | 形成完整的配置变更闭环 |
| **安全平台**        | 资产信息、漏洞扫描结果回写       | 安全事件与资产一一对应 |

> 🔗 **CMDB 就是企业“数字化 IT 实体关系库”**，它为整个 L2 层提供一份 **权威、统一、动态更新** 的资源画像。

---

# ⚙️ 五、CMDB 在技术中台中的角色

可以这样定位：

| 角色         | 说明                      |
| ---------- | ----------------------- |
| **数据中心角色** | 管理全企业 IT 资源数据（资产、配置、拓扑） |
| **支撑平台角色** | 为监控、部署、告警、自动化提供底层依赖     |
| **知识图谱角色** | 支撑根因分析、AIOps、自动决策       |
| **治理角色**   | 提供资源合规性与变更审计能力          |

---

# 🚀 六、现代 CMDB 的演进方向

| 阶段       | 特征         | 代表理念           |
| -------- | ---------- | -------------- |
| CMDB 1.0 | 手工录入资产     | 静态配置中心         |
| CMDB 2.0 | 数据自动采集、同步  | 实时更新、可追溯       |
| CMDB 3.0 | 服务视角拓扑化    | “从主机到业务”的映射    |
| CMDB 4.0 | 与 AIOps 融合 | 支撑智能告警、根因分析    |
| CMDB 5.0 | 云原生资产图谱    | 多云、容器化、分布式动态发现 |

---

# 🧩 七、一个典型 CMDB 在 L2 的架构图

```
                     L4-L3 业务/应用层
                             │
                   ┌─────────┴─────────┐
                   │ 自动化运维、监控、告警 │
                   │ DevOps、AIOps、ITSM │
                   └─────────┬─────────┘
                             │
     ┌────────────────────────┴────────────────────────┐
     │              🟩 L2 技术中台层                    │
     │-------------------------------------------------│
     │ 数据服务 | 身份服务 | 监控 | 部署 | 通用服务等   │
     │                 📘 CMDB（资产与关系中心）       │
     │-------------------------------------------------│
     └────────────────────────┬────────────────────────┘
                              │
     🟦 L1 基础设施层（Compute / Storage / Network / Cloud）
```

---

# ✅ 八、总结一句话

> **CMDB 是 L2 技术中台的“资产和关系中枢”，它抽象自 L1 基础设施，为上层的运维、监控、部署、告警、AIOps、ITSM 提供统一、动态、可追溯的资源画像。**


# 参考资料


* any list
{:toc}