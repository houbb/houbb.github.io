---
layout: post
title: leetcode åŸºç¡€ç¯‡ä¸“é¢˜ä¹‹å­—ç¬¦ä¸²åŒ¹é… string-matching 01-å…¥é—¨ä»‹ç»
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, data-struct, topics, leetcode, string-matching, sf]
published: true
---


# æ•°ç»„

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€é©¬ã€‚

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ã€‚

## ä¸»è¦çŸ¥è¯†

æ•°ç»„éœ€è¦æ‹†åˆ†ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ç†è®ºä»‹ç»

2. æºç åˆ†æ

3. æ•°æ®ç»“æ„å®ç°ï¼Ÿ

4. é¢˜ç›®ç»ƒä¹ ï¼ˆæŒ‰ç…§ç®—æ³•æ€æƒ³åˆ†ç±»ï¼‰

5. æ¢³ç†å¯¹åº”çš„ sdk åŒ…

6. åº”ç”¨å®æˆ˜

å› ä¸ºè¿™ä¸ªæ˜¯ leetcode ç³»åˆ—ï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯ 4ã€5(å¯¹4å†ä¸€æ¬¡æ€»ç»“)ã€‚

ä¸ºäº†ç…§é¡¾æ²¡æœ‰åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¼šç®€å•ä»‹ç»ä¸€ä¸‹1çš„åŸºç¡€ç†è®ºã€‚

ç®€å•ä»‹ç»1ï¼Œé‡ç‚¹ä¸º4ã€‚å…¶ä»–ä¸æ˜¯æœ¬ç³»åˆ—çš„é‡ç‚¹ã€‚

# åŸºç¡€ç¯‡

æ•°ç»„-çŸ©é˜µ

å­—ç¬¦ä¸²-å­—ç¬¦ä¸²åŒ¹é…

æ’åºï¼šè®¡æ•°+æ¡¶+åŸºæ•°

æ¨¡æ‹Ÿ

æšä¸¾

# chat

## è¯¦ç»†ä»‹ç»ä¸€ä¸‹åŠ›æ‰£åŸºç¡€ä¹‹å­—ç¬¦ä¸²åŒ¹é…


å¥½çš„ï¼æˆ‘ä»¬æ¥ç³»ç»Ÿè®²è§£ LeetCodeï¼ˆåŠ›æ‰£ï¼‰ä¸­çš„ä¸€ä¸ªé‡è¦åŸºç¡€æŠ€å·§ï¼š**å­—ç¬¦ä¸²åŒ¹é…ï¼ˆString Matchingï¼‰**ã€‚è¿™ä¸ªæŠ€å·§åœ¨å¾ˆå¤šé¢è¯•é¢˜ã€åº•å±‚ç®—æ³•ï¼ˆæ¯”å¦‚æœç´¢ã€ç¼–è¯‘å™¨ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰ä¸­éƒ½éå¸¸å…³é”®ã€‚

---

## ğŸ§© ä¸€ã€ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²åŒ¹é…ï¼Ÿ

å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜æ˜¯æŒ‡ï¼š

> åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆç§°ä¸ºâ€œæ–‡æœ¬ä¸²â€`text`ï¼‰ä¸­ï¼Œ**æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨æŸä¸ªâ€œæ¨¡å¼ä¸²â€`pattern`**ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¿”å›å…¶ä½ç½®æˆ–æ˜¯å¦å­˜åœ¨ã€‚

ä¸¾ä¾‹ï¼š

* `text = "abcdefg"`ï¼Œ`pattern = "cde"`ï¼Œè¿”å› `2`
* `text = "abcabc"`ï¼Œ`pattern = "cab"`ï¼Œè¿”å› `false`

---

## ğŸ§  äºŒã€å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç›¸å…³é—®é¢˜ï¼ˆåŠ›æ‰£é¢˜å‹ï¼‰

### 1. âœ… **åŒ¹é…ä¸€ä¸ªå­ä¸²**

> åˆ¤æ–­ `pattern` æ˜¯å¦æ˜¯ `text` çš„å­ä¸²ï¼Œå¹¶è¿”å›èµ·å§‹ä¸‹æ ‡ã€‚

ğŸ“Œ å…¸å‹é¢˜ï¼š

* [28. æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)
* [686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/repeated-string-match/)

---

### 2. âœ… **é€šé…ç¬¦ / æ­£åˆ™åŒ¹é…**

> `?` è¡¨ç¤ºä»»æ„å•å­—ç¬¦ï¼Œ`*` è¡¨ç¤ºä»»æ„å¤šä¸ªå­—ç¬¦

ğŸ“Œ å…¸å‹é¢˜ï¼š

* [44. é€šé…ç¬¦åŒ¹é…](https://leetcode.cn/problems/wildcard-matching/)
* [10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆå« `.` å’Œ `*`ï¼‰](https://leetcode.cn/problems/regular-expression-matching/)

---

### 3. âœ… **å¤šä¸ªå­—ç¬¦ä¸²åŒ¹é…**

> æŸ¥æ‰¾ä¸€ç»„å­—ç¬¦ä¸²ä¸­å“ªäº›æ˜¯ `text` çš„å­ä¸²

ğŸ“Œ å…¸å‹é¢˜ï¼š

* [140. å•è¯æ‹†åˆ† II](https://leetcode.cn/problems/word-break-ii/)
* [472. è¿æ¥è¯](https://leetcode.cn/problems/concatenated-words/)

---

## ğŸ›  ä¸‰ã€å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•

### âœ… 1. æš´åŠ›åŒ¹é…æ³•ï¼ˆBrute Forceï¼‰

æ€è·¯ï¼šæšä¸¾æ¯ä¸€ä¸ªèµ·ç‚¹ `i`ï¼Œä» `i` å¼€å§‹åˆ¤æ–­æ˜¯å¦ä¸ `pattern` å®Œå…¨åŒ¹é…ã€‚

```java
public int strStr(String haystack, String needle) {
    int m = haystack.length(), n = needle.length();
    for (int i = 0; i <= m - n; i++) {
        if (haystack.substring(i, i + n).equals(needle)) {
            return i;
        }
    }
    return -1;
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š`O(m * n)`ï¼Œæ•ˆç‡ä½ï¼Œä½†æ€è·¯ç®€å•ã€‚
* é€‚ç”¨äºçŸ­æ–‡æœ¬åŒ¹é…ã€‚

---

### âœ… 2. KMP ç®—æ³•ï¼ˆKnuthâ€“Morrisâ€“Prattï¼‰

* ç”¨ä¸€ä¸ªâ€œéƒ¨åˆ†åŒ¹é…è¡¨â€ï¼ˆ`next` æ•°ç»„ï¼‰åŠ é€ŸåŒ¹é…è¿‡ç¨‹ï¼Œé¿å…é‡å¤æ¯”è¾ƒã€‚
* æ—¶é—´å¤æ‚åº¦ï¼š**O(m + n)**ï¼Œ`m` ä¸ºä¸»ä¸²é•¿åº¦ï¼Œ`n` ä¸ºæ¨¡å¼ä¸²é•¿åº¦ã€‚

ğŸ“Œ æ ¸å¿ƒæ€æƒ³ï¼š

* åŒ¹é…å¤±è´¥æ—¶ï¼Œ**ä¸å›é€€ä¸»ä¸²æŒ‡é’ˆ**ï¼Œè€Œæ˜¯è·³è½¬æ¨¡å¼ä¸²åˆ°å‰ç¼€ä½ç½®ã€‚

```java
// ç”Ÿæˆ KMP çš„ next æ•°ç»„ï¼ˆéƒ¨åˆ†åŒ¹é…è¡¨ï¼‰
int[] buildNext(String pattern) {
    int[] next = new int[pattern.length()];
    int j = 0;
    for (int i = 1; i < pattern.length(); i++) {
        while (j > 0 && pattern.charAt(i) != pattern.charAt(j)) {
            j = next[j - 1];
        }
        if (pattern.charAt(i) == pattern.charAt(j)) j++;
        next[i] = j;
    }
    return next;
}
```

ğŸ“Œ æ¨èé¢˜ï¼š

* [28. æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)ï¼ˆKMP åº”ç”¨ï¼‰
* [459. é‡å¤çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/repeated-substring-pattern/)ï¼ˆKMP çš„ next æ•°ç»„ç‰¹æ€§ï¼‰

---

### âœ… 3. Rabin-Karp ç®—æ³•ï¼ˆæ»šåŠ¨å“ˆå¸Œï¼‰

* ä½¿ç”¨ **å“ˆå¸Œå€¼** åˆ¤æ–­å­ä¸²æ˜¯å¦åŒ¹é…ï¼Œé¿å…æ¯æ¬¡éƒ½é€å­—ç¬¦æ¯”è¾ƒã€‚
* æ—¶é—´å¤æ‚åº¦æ¥è¿‘ O(n)ï¼Œä½†å¯èƒ½ä¼šæœ‰å“ˆå¸Œå†²çªã€‚

ğŸ“Œ åŸç†ï¼š

* è®¡ç®—æ¨¡å¼ä¸²çš„å“ˆå¸Œå€¼
* æ»‘åŠ¨çª—å£ç§»åŠ¨ï¼Œæ¯æ¬¡è®¡ç®—çª—å£å“ˆå¸Œå€¼å¹¶æ¯”è¾ƒ

> LeetCode ä¸Šå¹¶ä¸å¸¸ç›´æ¥è€ƒ Rabin-Karpï¼Œä½†ç”¨äºä¼˜åŒ–â€œæŸ¥æ‰¾é‡å¤å­ä¸²â€ç­‰é—®é¢˜éå¸¸å¼ºã€‚

ğŸ“Œ ä¾‹é¢˜ï¼š

* [187. é‡å¤çš„DNAåºåˆ—](https://leetcode.cn/problems/repeated-dna-sequences/)
* [1044. æœ€é•¿é‡å¤å­ä¸²ï¼ˆhardï¼‰](https://leetcode.cn/problems/longest-duplicate-substring/)

---

### âœ… 4. å­—å…¸æ ‘ + Aho-Corasickï¼ˆå¤šæ¨¡å¼åŒ¹é…ï¼‰

* ç”¨äºå¤šä¸ªå•è¯åŒæ—¶åŒ¹é…ä¸»ä¸²ï¼Œæ„å»º Trie æ ‘ + å¤±é…æŒ‡é’ˆã€‚
* ç±»ä¼¼ KMP å¤šè¯ç‰ˆæœ¬ã€‚

ğŸ“Œ ä¾‹é¢˜ï¼š

* [139. å•è¯æ‹†åˆ†](https://leetcode.cn/problems/word-break/)
* [1023. é©¼å³°å¼åŒ¹é…](https://leetcode.cn/problems/camelcase-matching/)
* [1032. å­—ç¬¦æµ](https://leetcode.cn/problems/stream-of-characters/)

---

## ğŸ” å››ã€å­—ç¬¦ä¸²åŒ¹é…çš„åº”ç”¨æŠ€å·§

| æŠ€å·§   | è¯´æ˜                       |
| ---- | ------------------------ |
| æ»‘åŠ¨çª—å£ | å¤„ç†å­ä¸²å›ºå®šé•¿åº¦çš„åŒ¹é…ï¼Œå¦‚ Rabin-Karp |
| å‰ç¼€è¡¨  | KMP çš„å…³é”®ï¼Œç”¨äºå¤±é…æ—¶å¿«é€Ÿè·³è½¬        |
| å“ˆå¸Œ   | å¿«é€Ÿæ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ            |
| Trie | å¤„ç†å¤šä¸ªå•è¯ä¸€èµ·åŒ¹é…ä¸»ä¸²             |
| åŠ¨æ€è§„åˆ’ | å¤„ç†é€šé…ç¬¦ / æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…          |

---

## ğŸ“Œ äº”ã€é¢è¯•é«˜é¢‘é¢˜ç²¾é€‰

| é¢˜å·  | é¢˜ç›®           | æŠ€å·§           |
| --- | ------------ | ------------ |
| 28  | æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ | æš´åŠ› / KMP     |
| 10  | æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…      | DP           |
| 44  | é€šé…ç¬¦åŒ¹é…        | DP           |
| 187 | é‡å¤çš„ DNA åºåˆ—   | æ»šåŠ¨å“ˆå¸Œ         |
| 139 | å•è¯æ‹†åˆ†         | DP + HashSet |
| 686 | é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…    | æšä¸¾ + KMP     |

---

## ğŸš€ å…­ã€åˆ·é¢˜é¡ºåºæ¨è

### âœ… å…¥é—¨

* [28. æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)
* [14. æœ€é•¿å…¬å…±å‰ç¼€](https://leetcode.cn/problems/longest-common-prefix/)
* [242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/valid-anagram/)

### âœ… è¿›é˜¶åŒ¹é…

* [686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/repeated-string-match/)
* [459. é‡å¤çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/repeated-substring-pattern/)
* [187. é‡å¤çš„ DNA åºåˆ—](https://leetcode.cn/problems/repeated-dna-sequences/)

### âœ… é«˜é˜¶æŠ€å·§

* [44. é€šé…ç¬¦åŒ¹é…](https://leetcode.cn/problems/wildcard-matching/)
* [10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode.cn/problems/regular-expression-matching/)
* [1032. å­—ç¬¦æµ](https://leetcode.cn/problems/stream-of-characters/)

---

## âœ… ä¸ƒã€æ€»ç»“å›é¡¾

| åŒ¹é…æ–¹å¼                | é€‚ç”¨æƒ…å†µ    | æ˜¯å¦æ¨è      |
| ------------------- | ------- | --------- |
| æš´åŠ›æ³•                 | ç®€å•é¢˜ï¼ŒçŸ­ä¸²  | âœ… å…¥é—¨å¥½ç†è§£   |
| KMP                 | å•æ¨¡å¼é«˜æ•ˆåŒ¹é… | âœ… é«˜æ•ˆå®ç”¨    |
| Rabin-Karp          | æŸ¥æ‰¾é‡å¤å­ä¸²ç­‰ | âš ï¸ æ³¨æ„å“ˆå¸Œå†²çª |
| Trie / Aho-Corasick | å¤šè¯åŒ¹é…    | âœ… å¤æ‚é¢˜åˆ©å™¨   |
| åŠ¨æ€è§„åˆ’                | é€šé…ç¬¦åŒ¹é…é—®é¢˜ | âœ… ç»å…¸è€ƒç‚¹    |

---

å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ ï¼š

* æ‰‹æŠŠæ‰‹è®²è§£ KMPï¼ˆå«åŠ¨ç”»/ä»£ç ï¼‰
* é’ˆå¯¹æŸä¸€é“åŒ¹é…é¢˜å†™å‡ºè¯¦ç»†åˆ†æ + æ³¨é‡Šä»£ç 
* åˆ¶å®šåŒ¹é…ç±»é¢˜ç›®çš„ä¸“é¡¹åˆ·é¢˜è®¡åˆ’



* any list
{:toc}