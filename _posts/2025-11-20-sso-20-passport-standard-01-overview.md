---
layout: post
title: 权限体系之-20-passport 这里的协议标准是什么
date: 2025-11-20 14:12:33 +0800
categories: [plateform]
tags: [plateform, sh]
published: true
---

# 核心对比

| 能力维度     | UMS | Passport |
| -------- | --- | -------- |
| 用户管理     | ✅   | ✅        |
| 登录认证     | ❌   | ✅        |
| Token 管理 | ❌   | ✅        |
| 会话控制     | ❌   | ✅        |
| 风控安全     | ❌   | ✅        |
| 登录日志     | ❌   | ✅        |
| 协议标准     | ❌   | ✅        |
| 多系统认证    | ❌   | 可选       |

# chat

## 是什么？

很好，这个问题问到 **Passport 的“灵魂”了：协议标准到底指什么？**

简单说一句结论先：

> ✅ Passport 的“协议标准”就是它对接业务系统时所遵循的登录认证行业标准，比如 OAuth2、OpenID Connect、SAML、JWT 等，而 UMS 没有这些，它只是用户数据管理系统。

---

## 一、为什么 UMS 没有“协议标准”？

UMS 本质是：

> User Management System = 用户数据中心

它负责：

* 用户信息
* 角色
* 组织
* 权限关系

UMS 是 **数据系统，不是认证系统**，它不需要对外提供统一登录协议，因此也谈不上标准协议。

---

## 二、Passport 的“协议标准”到底包括什么？

Passport 是认证中心，它要对接各种系统、应用、前端、第三方，所以必须遵循行业标准协议。

典型包括：

### ✅ 1. OAuth 2.0（最核心）

现代最主流的授权协议：

解决问题：

* 第三方系统如何安全获取用户身份权限
* 如何颁发 access_token

典型流程：

* Authorization Code
* Client Credentials
* Password
* Refresh Token

对应能力：

* Token 颁发
* 授权码机制
* 第三方登录

---

### ✅ 2. OpenID Connect（OIDC）

OAuth2 的身份层扩展 —— 专门解决“你是谁”

提供：

* id_token
* 标准化用户信息结构
* 单点登录规范

Passport 支持 OIDC 后就可以做到：

* 标准化 SSO 登录
* 第三方统一身份认证

---

### ✅ 3. SAML 2.0（企业级常见）

传统企业和政企系统大量使用：

特点：

* XML 协议
* 浏览器重定向
* 强安全，但实现复杂

适合：

* 政府 / 传统企业 / 老系统

---

### ✅ 4. JWT（Token 标准）

Passport 颁发的 Token 通常基于 JWT：

包含：

* 用户ID
* 权限信息
* 过期时间
* 签名

特点：

* 无状态
* 可验证
* 分布式友好

---

### ✅ 5. CAS（部分系统）

部分企业自研 SSO 常见协议，但现代逐渐被 OAuth2 + OIDC 替代。

---

## 三、协议标准在你的表格中的真实含义

你这个表可以补充成更清晰的版本：

| 能力维度     | UMS | Passport | 说明                   |
| -------- | --- | -------- | -------------------- |
| 用户管理     | ✅   | ✅        | Passport 也会缓存基础用户数据  |
| 登录认证     | ❌   | ✅        | Passport 专职          |
| Token 管理 | ❌   | ✅        | OAuth2 / JWT         |
| 会话控制     | ❌   | ✅        | Session / Token 生命周期 |
| 风控安全     | ❌   | ✅        | 防暴力、设备指纹等            |
| 登录日志     | ❌   | ✅        | 安全审计                 |
| 协议标准     | ❌   | ✅        | OAuth2 / OIDC / SAML |
| 多系统认证    | ❌   | ✅        | 天然支持SSO              |

---

## 四、Passport 的协议能力可以理解为：

Passport 对外提供的是：

```
标准化身份认证接口层
```

而不是：

```
某个业务写死的登录接口
```

这就是它“平台级”的关键区别。

---

## 五、典型 Passport 协议架构示意

```
[业务系统A] ─┐
[业务系统B] ─┼──> Passport认证中心 ───> UMS用户中心
[移动端APP] ─┘
```

业务侧只关心协议，不关心用户库结构：

* 标准登录跳转
* 标准 token 校验
* 标准注销接口

---

## 六、如果你要定义你自己的 Passport

推荐最小实现标准：

✅ 必备：

* OAuth2 Authorization Code
* JWT Token
* Refresh Token
* OIDC 基础支持

🚀 进阶：

* SAML2
* 第三方登录（微信 / 钉钉 / GitHub）
* 多租户认证

---

## 七、通俗总结一波

| 角度        | UMS    | Passport |
| --------- | ------ | -------- |
| 角色        | 用户数据库  | 身份认证平台   |
| 核心        | 数据     | 协议       |
| 对外方式      | CRUD接口 | 标准认证协议   |
| 是否可对接外部系统 | ❌      | ✅        |
| 是否可做SSO   | ❌      | ✅        |

一句话版本：

> UMS 是“人事档案”，Passport 是“通行证发放机构”。

* any list
{:toc}