---
layout: post
title:  Linux ln
date:  2018-06-18 16:20:44 +0800
categories: [Linux]
tags: [linux]
published: true
---

# 理解 Linux 的硬链接与软链接

## Linux 的文件与目录

现代操作系统为解决信息能独立于进程之外被长期存储引入了文件，文件作为进程创建信息的逻辑单元可被多个进程并发使用。
在 UNIX 系统中，操作系统为磁盘上的文本与图像、鼠标与键盘等输入设备及网络交互等 I/O 操作设计了一组通用 API，使他们被处理时均可统一使用字节流方式。
换言之，UNIX 系统中除进程之外的**一切皆是文件**，而 Linux 保持了这一特性。

为了便于文件的管理，Linux 还引入了目录（有时亦被称为文件夹）这一概念。目录使文件可被分类管理，
且目录的引入使 Linux 的文件系统形成一个层级结构的目录树。

- linux 目录结构

```
/              根目录
├── bin     存放用户二进制文件
├── boot    存放内核引导配置文件
├── dev     存放设备文件
├── etc     存放系统配置文件
├── home    用户主目录
├── lib     动态共享库
├── lost+found  文件系统恢复时的恢复文件
├── media   可卸载存储介质挂载点
├── mnt     文件系统临时挂载点
├── opt     附加的应用程序包
├── proc    系统内存的映射目录，提供内核与进程信息
├── root    root 用户主目录
├── sbin    存放系统二进制文件
├── srv     存放服务相关数据
├── sys     sys 虚拟文件系统挂载点
├── tmp     存放临时文件
├── usr     存放用户应用程序
└── var     存放邮件、系统日志等变化文件
```

- Linux 与其他类 UNIX 系统一样并不区分文件与目录

目录是记录了其他文件名的文件。
使用命令 mkdir 创建目录时，若期望创建的目录的名称与现有的文件名（或目录名）重复，则会创建失败。

- Linux 将设备当做文件进行处理
 
展示了如何打开设备文件 `/dev/input/event5` 并读取文件内容。
文件 event5 表示一种输入设备，其可能是鼠标或键盘等。
查看文件 /proc/bus/input/devices 可知 event5 对应设备的类型。
设备文件 /dev/input/event5 使用 read() 以字符流的方式被读取。
结构体 input_event 被定义在内核头文件 linux/input.h 中。


```
int fd; 
struct input_event ie; 
fd = open("/dev/input/event5", O_RDONLY); 
read(fd, &ie, sizeof(struct input_event)); 
printf("type = %d  code = %d  value = %d\n", 
            ie.type, ie.code, ie.value); 
close(fd);
```

# 参考文章

> [理解 Linux 的硬链接与软链接](https://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/index.html) 

> [linux ln 命令使用参数详解(ln -s 软链接)](https://www.jb51.net/LINUXjishu/150570.html)

> [linux 创建连接命令 ln -s 软链接](https://www.cnblogs.com/kex1n/p/5193826.html)

* any list
{:toc}







