---
layout: post
title:  如何从零开始设计交易系统-00-序章
date:  2020-6-19 09:26:03 +0800
categories: [Design]
tags: [design, trade-system, sh]
published: true
---

## 序章

交易系统作为很多公司的核心，其中包含很多东西。

按照目前个人的理解，从前端到后端应该涉及下列几个方面：

（1）toB/toC: H5/小程序/IOS/Android 等线上入口

包括但是不限于扫码，pos 机刷卡，机器手机 pos 等线下入口。

（2）支付网关

所有的交易入口的第一道门，一般由公司架构部门管理。

负责交易的鉴权，限流，路由，熔断，降级等。

一般和公司的基础架构一起作为整个公司的业务支撑。

（3）订单系统

当交易进入到系统之后，那么就会有各种各样的订单。

无论是什么行业，都是类似的。

申购、赎回、充值、退款、转账等等。

（4）风控系统

作为整个交易的风控管控。

保证一笔交易的合法性，避免交易出现损失。

涉及到黑名单、反洗钱、反欺诈、法律合规、规则等等。

核心是规则引擎，可以是应用非常广泛的系统。

（5）清结算系统

所有的交易都需要有对应的清结算。

主要包含三个子系统：

1. 余额-账务系统

2. 对账-稽核系统

3. 结算-出款系统

出款技术实现一般是任务调度，也可以是一个应用非常广泛的系统。

（6）支付渠道

为了保证交易的顺利进行，每一个支付公司都需要对接大量的支付渠道。

支付渠道的核心就是：路由系统。

选择最实惠、成功率最高、保证高可用等等。

路由是一个可以应用非常广泛的系统。

## 辅助系统

除了上述的核心链路之外，还可以有一些辅助系统

（1）CRM/BPM/ERP

说白了就是一些企业的审批流转系统

企业人员管理，可以拓展为其他资源的管理。

（2）沟通系统

短信通道+邮件通道。

这两个作为与用户的沟通手段，是必不可少的。

（3）合同系统

所有的交易一般都会涉及到各种法律合规。

常规的可能通过线下的方式进行，也可以进阶为线上的无纸化流程。

（4）推荐系统

根据交易信息，进行 BIG DATA + AI，对用户进行分析。

达到精准营销等等。

（5）数据仓库

将公司所有的数据聚合在一起，作为公司未来中台发展的基石。

前期可能就是做做报表给领导看，给各个系统查询数据之用。

## Devops

文档与任务分配作为基础服务，都需要。

### 市场

需求从真实的市场而来，比如产品推广，活动，提高核心竞争力。

新的产品特性。

### 产品

分析对应的需求，梳理产品文档。

### 编码

根据产品的需求，进行详细设计。

给出解决方案，并进行编码。

### 测试

根据需求，设计测试案例。测试案例管理

根据开发的实现验证，反馈 BUG。BUG 管理

### QA

代码质量检测

上线流程把控

### 运维

CI 持续集成

日常运维

* any list
{:toc}