---
layout: post
title: leetcode ç®—æ³•ç¯‡ä¸“é¢˜ä¹‹å¹¿åº¦ä¼˜å…ˆéå† BFS Breadth-First Search 01-å…¥é—¨ä»‹ç»
date:  2020-6-8 15:13:08 +0800
categories: [Algorithm]
tags: [algorithm, data-struct, topics, leetcode, bfs, sf]
published: true
---


# æ•°ç»„

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€é©¬ã€‚

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ã€‚

## ä¸»è¦çŸ¥è¯†

æ•°ç»„éœ€è¦æ‹†åˆ†ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ç†è®ºä»‹ç»

2. æºç åˆ†æ

3. æ•°æ®ç»“æ„å®ç°ï¼Ÿ

4. é¢˜ç›®ç»ƒä¹ ï¼ˆæŒ‰ç…§ç®—æ³•æ€æƒ³åˆ†ç±»ï¼‰

5. æ¢³ç†å¯¹åº”çš„ sdk åŒ…

6. åº”ç”¨å®æˆ˜

å› ä¸ºè¿™ä¸ªæ˜¯ leetcode ç³»åˆ—ï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯ 4ã€5(å¯¹4å†ä¸€æ¬¡æ€»ç»“)ã€‚

ä¸ºäº†ç…§é¡¾æ²¡æœ‰åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¼šç®€å•ä»‹ç»ä¸€ä¸‹1çš„åŸºç¡€ç†è®ºã€‚

ç®€å•ä»‹ç»1ï¼Œé‡ç‚¹ä¸º4ã€‚å…¶ä»–ä¸æ˜¯æœ¬ç³»åˆ—çš„é‡ç‚¹ã€‚

# ç®—æ³•ç¯‡

åŠ¨æ€è§„åˆ’-è®°å¿†åŒ–æœç´¢

é€’å½’

äºŒåˆ†æŸ¥æ‰¾

DFS æ·±åº¦ä¼˜å…ˆéå†

BFS å¹¿åº¦ä¼˜å…ˆéå†

å›æº¯

è´ªå¿ƒ

åˆ†æ²»ï¼šå¿«æ’ã€å½’å¹¶

# chat

## è¯¦ç»†ä»‹ç»ä¸€ä¸‹åŠ›æ‰£ç®—æ³•ä¹‹å¹¿åº¦ä¼˜å…ˆéå†

ä¸‹é¢æ˜¯å¯¹ LeetCodeï¼ˆåŠ›æ‰£ï¼‰ä¸­ **å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFS, Breadth-First Searchï¼‰** çš„ç³»ç»Ÿè®²è§£ï¼ŒåŒ…æ‹¬å®ƒçš„åŸç†ã€æ¨¡æ¿ã€åº”ç”¨åœºæ™¯ã€å…¸å‹é¢˜å‹å’Œä¸ DFS çš„å¯¹æ¯”ï¼Œå¸®åŠ©ä½ ä»å…¥é—¨åˆ°æŒæ¡ã€‚

## ğŸŒŠ ä¸€ã€ä»€ä¹ˆæ˜¯å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFSï¼‰ï¼Ÿ

> BFS æ˜¯ä¸€ç§**å±‚å±‚æ¨è¿›**çš„æœç´¢ç­–ç•¥ï¼Œå…ˆè®¿é—®å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…ï¼Œå†è®¿é—®é‚»å±…çš„é‚»å±…ï¼Œä¾æ­¤ç±»æ¨ã€‚

å°±åƒ**ä¸€åœˆåœˆæ‰©æ•£çš„æ°´æ³¢**ï¼šä»æºç‚¹å¼€å§‹ï¼Œå…ˆâ€œæ‰«ä¸€å±‚â€ï¼Œå†â€œæ‰«ä¸‹ä¸€å±‚â€ã€‚

---

## ğŸ” äºŒã€BFS çš„åŸºæœ¬åŸç†

* ä½¿ç”¨ **é˜Ÿåˆ—ï¼ˆQueueï¼‰** æ¥ä¿è¯å…ˆå…¥å…ˆå‡ºï¼Œé€å±‚éå†ã€‚
* é€‚åˆè§£å†³â€œæœ€çŸ­è·¯å¾„â€ç±»é—®é¢˜ï¼Œæˆ–è€…æŒ‰å±‚è®¿é—®èŠ‚ç‚¹çš„é—®é¢˜ã€‚
* BFS æ˜¯ä¸€ç§**éé€’å½’**æ–¹å¼ï¼Œä¸»è¦ç”¨**å¾ªç¯ + é˜Ÿåˆ—**å®ç°ã€‚

---

## ğŸ§© ä¸‰ã€BFS æ¨¡æ¿å†™æ³•

### âœ… é€šç”¨å†™æ³•ï¼ˆå›¾ã€ç½‘æ ¼ã€æ ‘éƒ½é€šç”¨ï¼‰

```java
Queue<Node> queue = new LinkedList<>();
Set<Node> visited = new HashSet<>();

queue.offer(start);
visited.add(start);

while (!queue.isEmpty()) {
    int size = queue.size(); // å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹
    for (int i = 0; i < size; i++) {
        Node cur = queue.poll();
        // å¤„ç†å½“å‰èŠ‚ç‚¹

        for (Node neighbor : cur.neighbors) {
            if (!visited.contains(neighbor)) {
                queue.offer(neighbor);
                visited.add(neighbor);
            }
        }
    }
}
```

---

## ğŸ›  å››ã€BFS åº”ç”¨åœºæ™¯

| åœºæ™¯       | æè¿°            | ç¤ºä¾‹é¢˜ç›®                                                                            |
| -------- | ------------- | ------------------------------------------------------------------------------- |
| âœ… æœ€çŸ­è·¯å¾„   | ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€å°‘æ­¥æ•°   | [127. å•è¯æ¥é¾™](https://leetcode.cn/problems/word-ladder)                           |
| âœ… å›¾éå†    | åˆ¤æ–­å›¾æ˜¯å¦è¿é€š / äºŒåˆ†å›¾ | [785. åˆ¤æ–­äºŒåˆ†å›¾](https://leetcode.cn/problems/is-graph-bipartite)                   |
| âœ… ç½‘æ ¼æœç´¢   | æ‰¾åˆ°æœ€çŸ­è·¯å¾„ / æ„ŸæŸ“ä¼ æ’­ | [994. è…çƒ‚çš„æ©˜å­](https://leetcode.cn/problems/rotting-oranges)                      |
| âœ… æ ‘çš„å±‚åºéå† | æ‰“å°æ¯ä¸€å±‚çš„èŠ‚ç‚¹      | [102. äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal) |
| âœ… å¤šæº BFS | å¤šä¸ªèµ·ç‚¹åŒæ—¶å‘å¤–æ‰©æ•£    | [752. æ‰“å¼€è½¬ç›˜é”](https://leetcode.cn/problems/open-the-lock)                        |

---

## ğŸ“˜ äº”ã€åŠ›æ‰£å¸¸è§ BFS æ¨¡æ¿é¢˜

### âœ… 1. æœ€åŸºç¡€ï¼šæ ‘çš„å±‚åºéå†

* **é¢˜ç›®ï¼š** [102. äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal)
* **ç‰¹ç‚¹ï¼š** BFS çš„æœ€å…¸å‹åœºæ™¯

```java
public List<List<Integer>> levelOrder(TreeNode root) {
    List<List<Integer>> res = new ArrayList<>();
    if (root == null) return res;

    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);

    while (!queue.isEmpty()) {
        int size = queue.size();
        List<Integer> level = new ArrayList<>();

        for (int i = 0; i < size; i++) {
            TreeNode node = queue.poll();
            level.add(node.val);

            if (node.left != null) queue.offer(node.left);
            if (node.right != null) queue.offer(node.right);
        }

        res.add(level);
    }
    return res;
}
```

---

### âœ… 2. ç½‘æ ¼æœ€çŸ­è·¯å¾„ï¼šç»å…¸ BFS

* **é¢˜ç›®ï¼š** [1091. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„](https://leetcode.cn/problems/shortest-path-in-binary-matrix)
* **æè¿°ï¼š** ä»èµ·ç‚¹èµ°åˆ°ç»ˆç‚¹ï¼Œæ±‚æœ€å°‘æ­¥æ•°
* **æŠ€å·§ï¼š** ä½¿ç”¨ `int[][] dirs = [{1,0}, {-1,0}, {0,1}, {0,-1}...]` æ¥å¤„ç†æ–¹å‘

---

### âœ… 3. å­—ç¬¦ä¸²å˜æ¢ç±»

* **é¢˜ç›®ï¼š** [752. æ‰“å¼€è½¬ç›˜é”](https://leetcode.cn/problems/open-the-lock)
* **è§£æ³•ï¼š** æšä¸¾å‡ºå½“å‰çŠ¶æ€çš„ä¸‹ä¸€æ­¥æ‰€æœ‰çŠ¶æ€ï¼ŒåŠ å…¥é˜Ÿåˆ—

---

## ğŸ’¡ å…­ã€BFS çš„å…¸å‹å˜ç§

| å˜ç§      | æè¿°                  | ç¤ºä¾‹            |
| ------- | ------------------- | ------------- |
| å¤šæº BFS  | å¤šä¸ªèµ·ç‚¹åŒæ—¶æ‰©æ•£            | çƒ‚æ©˜å­ã€å¢™ä¸é—¨       |
| åŒå‘ BFS  | ä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶å¼€å§‹          | æ‰“å¼€è½¬ç›˜é”ã€å•è¯æ¥é¾™    |
| åˆ†å±‚ BFS  | æ¯å±‚ç”¨ for å¾ªç¯å¤„ç†ï¼Œä¾¿äºç»Ÿè®¡å±‚æ•° | æ ‘å±‚åºéå†ã€æ±‚æœ€çŸ­è·¯å¾„æ­¥æ•° |
| çŠ¶æ€å‹ BFS | æ¯ä¸ªçŠ¶æ€æ˜¯å­—ç¬¦ä¸²ã€æ•´æ•°ã€æ•°ç»„ç­‰     | å•è¯å˜æ¢ã€å…«æ•°ç       |

---

## ğŸ§  ä¸ƒã€å¸¸è§é”™è¯¯ & å°æŠ€å·§

| é—®é¢˜           | è¯´æ˜            |
| ------------ | ------------- |
| å¿˜è®°æ ‡è®° visited | ä¼šé€ æˆæ­»å¾ªç¯æˆ– TLE   |
| é‡å¤å…¥é˜Ÿ         | ä¹Ÿä¼šè¶…æ—¶ï¼Œæ³¨æ„åˆ¤é‡     |
| æ²¡æœ‰æŒ‰å±‚å¤„ç†       | æ±‚æœ€çŸ­è·¯å¾„ç­‰é—®é¢˜ä¼šå‡ºé”™   |
| å¤šç»´åæ ‡å¤„ç†é”™è¯¯     | ç½‘æ ¼è¦å†™å¯¹ `dx/dy` |

---

## ğŸ” å…«ã€DFS vs BFS å¯¹æ¯”

| æ¯”è¾ƒç‚¹   | DFS        | BFS         |
| ----- | ---------- | ----------- |
| å®ç°æ–¹å¼  | é€’å½’ / æ ˆ     | é˜Ÿåˆ—          |
| æœç´¢æ–¹å¼  | ä¸€æ¡è·¯èµ°åˆ°åº•     | ä¸€åœˆä¸€åœˆæ‰©æ•£      |
| åº”ç”¨åœºæ™¯  | æ„é€ æ‰€æœ‰è§£ / å›æº¯ | æœ€çŸ­è·¯å¾„ / æŒ‰å±‚è®¿é—® |
| ç©ºé—´å¤æ‚åº¦ | é€’å½’æ ˆ        | é˜Ÿåˆ—å­˜å‚¨        |

---

## ğŸ“š ä¹ã€LeetCode é«˜é¢‘ BFS é¢˜æ¨è

| åˆ†ç±»      | é¢˜ç›®ç¼–å· | é¢˜ç›®é“¾æ¥                                                                       |
| ------- | ---- | -------------------------------------------------------------------------- |
| ğŸ”¹æ ‘å±‚åºéå† | 102  | [äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal) |
| ğŸ”¹æœ€çŸ­è·¯å¾„  | 752  | [æ‰“å¼€è½¬ç›˜é”](https://leetcode.cn/problems/open-the-lock)                        |
| ğŸ”¹å›¾éå†   | 785  | [åˆ¤æ–­äºŒåˆ†å›¾](https://leetcode.cn/problems/is-graph-bipartite)                   |
| ğŸ”¹ç½‘æ ¼è·¯å¾„  | 994  | [è…çƒ‚çš„æ©˜å­](https://leetcode.cn/problems/rotting-oranges)                      |
| ğŸ”¹å›¾æœç´¢   | 127  | [å•è¯æ¥é¾™](https://leetcode.cn/problems/word-ladder)                           |

* any list
{:toc}