---
layout: post
title: blog-engine-07-gatsby  å»ºæé€Ÿç½‘ç«™å’Œåº”ç”¨ç¨‹åº åŸºäºReactçš„æœ€ä½³æ¡†æ¶ï¼Œå…·å¤‡æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§ã€‚
date:   2016-04-13 23:20:27 +0800
categories: [UI]
tags: [hexo, blog, blog-engine]
published: true
---

# æ‹“å±•é˜…è¯»

[blog-engine-01-å¸¸è§åšå®¢å¼•æ“ jekyll/hugo/Hexo/Pelican/Gatsby/VuePress/Nuxt.js/Middleman å¯¹æ¯”](https://houbb.github.io/2016/04/13/blog-engine-01-overview)

[blog-engine-02-é€šè¿‡åšå®¢å¼•æ“ jekyll æ„å»º github pages åšå®¢å®æˆ˜ç¬”è®°](https://houbb.github.io/2016/04/13/blog-engine-02-jekyll-01-install)

[blog-engine-02-åšå®¢å¼•æ“jekyll-jekyll åšå®¢å¼•æ“ä»‹ç»](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-02-intro)

[blog-engine-02-åšå®¢å¼•æ“jekyll-jekyll å¦‚ä½•åœ¨ windows ç¯å¢ƒå®‰è£…ï¼Œå®˜æ–¹æ–‡æ¡£](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-03-install-on-windows-doc)

[blog-engine-02-åšå®¢å¼•æ“jekyll-jekyll SEO](https://houbb.github.io/2016/04/13/blog-engine-03-jekyll-04-seo)

[blog-engine-04-åšå®¢å¼•æ“ hugo intro å…¥é—¨ä»‹ç»+å®‰è£…ç¬”è®°](https://houbb.github.io/2016/04/13/blog-engine-04-hugo-intro)

[blog-engine-05-åšå®¢å¼•æ“ Hexo å…¥é—¨ä»‹ç»+å®‰è£…ç¬”è®°](https://houbb.github.io/2017/03/29/blog-engine-05-hexo)

[blog-engine-06-pelican é™æ€ç½‘ç«™ç”Ÿæˆ å®˜æ–¹æ–‡æ¡£](https://houbb.github.io/2016/04/13/blog-engine-06-pelican-01-intro)

[blog-engine-06-pelican é™æ€ç½‘ç«™ç”Ÿæˆ windows å®‰è£…å®æˆ˜](https://houbb.github.io/2016/04/13/blog-engine-06-pelican-02-quick-start)

[blog-engine-07-gatsby å»ºæé€Ÿç½‘ç«™å’Œåº”ç”¨ç¨‹åº åŸºäºReactçš„æœ€ä½³æ¡†æ¶ï¼Œå…·å¤‡æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§](https://houbb.github.io/2016/04/13/blog-engine-07-gatsby-01-intro)

[blog-engine-08-vuepress ä»¥ Markdown ä¸ºä¸­å¿ƒçš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨](https://houbb.github.io/2016/04/13/blog-engine-08-vuepress-01-intro)

[blog-engine-09-nuxt æ„å»ºå¿«é€Ÿã€SEOå‹å¥½å’Œå¯æ‰©å±•çš„Webåº”ç”¨ç¨‹åºå˜å¾—è½»æ¾](https://houbb.github.io/2016/04/13/blog-engine-09-nuxt-01-intro)

[blog-engine-10-middleman é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œåˆ©ç”¨äº†ç°ä»£ Web å¼€å‘ä¸­çš„æ‰€æœ‰å¿«æ·æ–¹å¼å’Œå·¥å…·](https://houbb.github.io/2016/04/13/blog-engine-10-middleman-01-intro)

# å‰è¨€

ç”±äºä¸ªäººä¸€ç›´å–œæ¬¢ä½¿ç”¨ markdown æ¥å†™ [ä¸ªäººåšå®¢](https://houbb.github.io/)ï¼Œæœ€è¿‘å°±æ•´ç†äº†ä¸€ä¸‹æœ‰å“ªäº›åšå®¢å¼•æ“ã€‚

æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªå·±åˆé€‚çš„ã€‚

# Gatsby æ˜¯ä»€ä¹ˆï¼Ÿ

Gatsby æ˜¯ä¸€ä¸ªåŸºäº React çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ã€‚

## Gatsby çš„ç‰¹ç‚¹

1. **åŸºäº React**  
   Gatsby ä½¿ç”¨ React ä½œä¸ºå…¶æ ¸å¿ƒåº“ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åˆ©ç”¨ React çš„å¼ºå¤§ç”Ÿæ€ç³»ç»Ÿæ¥æ„å»ºä½ çš„ç½‘ç«™ã€‚

2. **é™æ€ç”Ÿæˆ**  
   Gatsby ç”Ÿæˆçš„æ˜¯é™æ€ç½‘é¡µï¼Œè¿™æ„å‘³ç€é€Ÿåº¦å¿«ï¼Œå®‰å…¨æ€§é«˜ã€‚

3. **ä¸°å¯Œçš„æ’ä»¶**  
   Gatsby æœ‰ä¸€ä¸ªåºå¤§çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥å¸®åŠ©ä½ æ·»åŠ å„ç§åŠŸèƒ½ï¼Œæ¯”å¦‚æ•°æ®æŠ“å–ã€SEO ä¼˜åŒ–ç­‰ã€‚

4. **éƒ¨ç½²ç®€å•**  
   ç”Ÿæˆçš„é™æ€æ–‡ä»¶å¯ä»¥è½»æ¾éƒ¨ç½²åˆ° Netlifyã€Vercel ç­‰ç°ä»£é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ã€‚

5. **ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒ**  
   Gatsby æä¾›äº†ç°ä»£åŒ–çš„å¼€å‘å·¥å…·å’Œæœ€ä½³å®è·µï¼Œæ¯”å¦‚ GraphQLã€Webpack ç­‰ã€‚

# å¦‚ä½•å®‰è£… Gatsbyï¼Ÿ

1. **å®‰è£… Node.js**  
   å› ä¸º Gatsby æ˜¯åŸºäº Node.js çš„ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦åœ¨ä½ çš„ç”µè„‘ä¸Šå®‰è£… Node.jsã€‚

2. **å®‰è£… Gatsby CLI**  
   æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£… Gatsby çš„å‘½ä»¤è¡Œå·¥å…·ï¼š
   
   ```shell
   npm install -g gatsby-cli
   ```

3. **åˆ›å»ºæ–°ç½‘ç«™**  
   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„ Gatsby ç½‘ç«™ï¼š
   
   ```shell
   gatsby new my-blog
   cd my-blog
   ```

   è¿™é‡Œçš„ `my-blog` æ˜¯ä½ çš„åšå®¢åï¼Œå¯ä»¥è‡ªå®šä¹‰ã€‚

# å¦‚ä½•ä½¿ç”¨ Gatsbyï¼Ÿ

1. **ç¼–å†™é¡µé¢**  
   åœ¨åšå®¢çš„ `src/pages` ç›®å½•ä¸‹åˆ›å»º React ç»„ä»¶ï¼Œå°±å¯ä»¥å¼€å§‹åˆ›å»ºé¡µé¢äº†ã€‚

2. **æœ¬åœ°å¼€å‘**  
   è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼š
   
   ```shell
   gatsby develop
   ```
   
   ç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥ `http://localhost:8000`ï¼Œå°±å¯ä»¥å®æ—¶é¢„è§ˆä½ çš„åšå®¢äº†ã€‚

3. **ç”Ÿæˆé™æ€æ–‡ä»¶**  
   å½“ä½ çš„é¡µé¢å¼€å‘å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé™æ€ç½‘é¡µï¼š
   
   ```shell
   gatsby build
   ```
   
   è¿™ä¼šåœ¨ `public` ç›®å½•ä¸‹ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚

4. **éƒ¨ç½²ç½‘ç«™**  
   å°† `public` ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ¨ç½²åˆ°ä½ é€‰æ‹©çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ä¸Šï¼Œä½ çš„åšå®¢å°±ä¸Šçº¿äº†ã€‚

5. **ä½¿ç”¨æ’ä»¶**  
   Gatsby çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå…¶æ’ä»¶ç³»ç»Ÿï¼Œä½ å¯ä»¥é€šè¿‡æ’ä»¶æ¥æ·»åŠ å„ç§åŠŸèƒ½ï¼Œæ¯”å¦‚ä» Markdown æ–‡ä»¶ç”Ÿæˆåšå®¢æ–‡ç« ï¼Œæˆ–è€…ä»å¤–éƒ¨ API è·å–æ•°æ®ã€‚

# Gatsby ä¼˜ç¼ºç‚¹

## ä¼˜ç‚¹ 

- **ç°ä»£åŒ–**  
   Gatsby ç»“åˆäº† Reactã€GraphQL ç­‰ç°ä»£æŠ€æœ¯ï¼Œæä¾›äº†ä¸€ä¸ªéå¸¸ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒã€‚

- **æ€§èƒ½**  
   Gatsby ç”Ÿæˆçš„é™æ€ç½‘ç«™åŠ è½½é€Ÿåº¦å¿«ï¼Œæ€§èƒ½å‡ºè‰²ã€‚

- **ç¤¾åŒºæ´»è·ƒ**  
   Gatsby æœ‰ä¸€ä¸ªéå¸¸æ´»è·ƒçš„ç¤¾åŒºï¼Œä½ å¯ä»¥æ‰¾åˆ°å¤§é‡çš„æ•™ç¨‹å’Œå¸®åŠ©ã€‚

- **å¯æ‰©å±•æ€§**  
   é€šè¿‡æ’ä»¶å’Œä¸»é¢˜ï¼Œä½ å¯ä»¥è½»æ¾æ‰©å±• Gatsby çš„åŠŸèƒ½ã€‚

## ä¸è¶³

- **å­¦ä¹ æ›²çº¿**  
   å¯¹äºæ²¡æœ‰ React ç»éªŒçš„å¼€å‘è€…æ¥è¯´ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´æ¥å­¦ä¹ å’Œç†Ÿæ‚‰ã€‚

- **é…ç½®å¤æ‚æ€§**  
   Gatsby çš„é…ç½®å’Œæ’ä»¶ç³»ç»Ÿå¯èƒ½å¯¹æ–°æ‰‹æ¥è¯´æœ‰äº›å¤æ‚ã€‚

------------------------------------------------------------------------------------------------------------------------------------------------------

# Gatsby

Gatsby æ˜¯ä¸€ä¸ªåŸºäºReactçš„å…è´¹å¼€æºæ¡†æ¶ï¼Œå®ƒå¸®åŠ©å¼€å‘è€…æ„å»ºæé€Ÿç½‘ç«™å’Œåº”ç”¨ç¨‹åºã€‚

å®ƒç»“åˆäº†åŠ¨æ€æ¸²æŸ“ç«™ç‚¹çš„æ§åˆ¶æ€§å’Œå¯æ‰©å±•æ€§ä»¥åŠé™æ€ç«™ç‚¹ç”Ÿæˆçš„é€Ÿåº¦ï¼Œåˆ›é€ äº†å…¨æ–°çš„ç½‘ç»œå¯èƒ½æ€§ã€‚

Gatsbyå¸®åŠ©ä¸“ä¸šå¼€å‘è€…é«˜æ•ˆåˆ›å»ºå¯ç»´æŠ¤ã€é«˜æ€§èƒ½ã€å†…å®¹ä¸°å¯Œçš„ç½‘ç«™ã€‚

ä»ä»»ä½•åœ°æ–¹åŠ è½½æ•°æ®ã€‚Gatsbyå¯ä»¥ä»ä»»ä½•æ•°æ®æºè·å–æ•°æ®ï¼Œæ— è®ºæ˜¯Markdownæ–‡ä»¶ã€åƒContentfulæˆ–WordPressè¿™æ ·çš„æ— å¤´CMSï¼Œè¿˜æ˜¯RESTæˆ–GraphQL APIã€‚ä½¿ç”¨æºæ’ä»¶åŠ è½½æ•°æ®ï¼Œç„¶åä½¿ç”¨Gatsbyçš„ç»Ÿä¸€GraphQLæ¥å£è¿›è¡Œå¼€å‘ã€‚

è¶…è¶Šé™æ€ç½‘ç«™ã€‚äº«å—é™æ€ç½‘ç«™çš„æ‰€æœ‰ä¼˜åŠ¿ï¼Œä½†æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚Gatsbyç«™ç‚¹æ˜¯å®Œå…¨åŠŸèƒ½çš„Reactåº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨å¯ä»¥åˆ›å»ºé«˜è´¨é‡çš„åŠ¨æ€Webåº”ç”¨ç¨‹åºï¼Œä»åšå®¢åˆ°ç”µå­å•†åŠ¡ç½‘ç«™å†åˆ°ç”¨æˆ·ä»ªè¡¨æ¿ã€‚

é€‰æ‹©æ‚¨çš„æ¸²æŸ“é€‰é¡¹ã€‚é™¤äº†é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æ ¹æ®é¡µé¢é€‰æ‹©æ›¿ä»£æ¸²æŸ“é€‰é¡¹ï¼Œå³å»¶è¿Ÿé™æ€ç”Ÿæˆï¼ˆDSGï¼‰å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ã€‚è¿™ç§ç²’åº¦æ§åˆ¶ä½¿æ‚¨èƒ½å¤Ÿåœ¨ä¸ç‰ºç‰²ä¸€ä¸ªæ–¹é¢çš„æƒ…å†µä¸‹ä¼˜åŒ–æ€§èƒ½å’Œç”Ÿäº§åŠ›ã€‚

æ€§èƒ½å·²ç»å†…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹é€šè¿‡æ€§èƒ½å®¡æ ¸ã€‚Gatsbyè‡ªåŠ¨è¿›è¡Œä»£ç æ‹†åˆ†ã€å›¾åƒä¼˜åŒ–ã€å†…è”å…³é”®æ ·å¼ã€æ‡’åŠ è½½ã€é¢„å–èµ„æºç­‰æ“ä½œï¼Œä»¥ç¡®ä¿æ‚¨çš„ç«™ç‚¹å¿«é€Ÿè¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨è°ƒæ•´ã€‚

ä¸ºæ¯ä¸ªç«™ç‚¹ä½¿ç”¨ç°ä»£æŠ€æœ¯æ ˆã€‚æ— è®ºæ•°æ®æ¥è‡ªä½•å¤„ï¼ŒGatsbyç«™ç‚¹éƒ½æ˜¯ä½¿ç”¨Reactå’ŒGraphQLæ„å»ºçš„ã€‚ä¸ºæ‚¨å’Œæ‚¨çš„å›¢é˜Ÿæ„å»ºç»Ÿä¸€çš„å·¥ä½œæµç¨‹ï¼Œæ— è®ºæ•°æ®æ¥è‡ªç›¸åŒçš„åç«¯è¿˜æ˜¯ä¸åŒçš„åç«¯ã€‚

ä»¥åˆ†æ¯ä¸ºå•ä½å¤§è§„æ¨¡æ‰˜ç®¡ã€‚Gatsbyç«™ç‚¹ä¸éœ€è¦æœåŠ¡å™¨ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†æ•´ä¸ªç«™ç‚¹æ‰˜ç®¡åœ¨CDNä¸Šï¼Œæˆæœ¬ä»…ä¸ºæœåŠ¡å™¨æ¸²æŸ“ç«™ç‚¹çš„ä¸€å°éƒ¨åˆ†ã€‚è®¸å¤šGatsbyç«™ç‚¹å¯ä»¥å®Œå…¨å…è´¹æ‰˜ç®¡åœ¨Gatsby Cloudå’Œå…¶ä»–ç±»ä¼¼æœåŠ¡ä¸Šã€‚

åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨Gatsbyçš„é›†ä¸­å¼æ•°æ®å±‚ã€‚ä½¿ç”¨Gatsbyçš„Valhallaå†…å®¹ä¸­å¿ƒï¼Œæ‚¨å¯ä»¥å°†Gatsbyçš„æ•°æ®å±‚å¼•å…¥ä»»ä½•é¡¹ç›®ä¸­ã€‚é€šè¿‡ç»Ÿä¸€çš„GraphQL APIè®¿é—®å®ƒï¼Œç”¨äºæ„å»ºå†…å®¹ç«™ç‚¹ã€ç”µå­å•†åŠ¡å¹³å°ä»¥åŠåŸç”Ÿå’ŒWebåº”ç”¨ç¨‹åºã€‚

å­¦ä¹ å¦‚ä½•åœ¨æ‚¨çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨Gatsbyã€‚


# ğŸ’» åœ¨5åˆ†é’Ÿå†…åœ¨æœ¬åœ°å¼€å§‹ä½¿ç”¨Gatsby

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹å››ä¸ªæ­¥éª¤åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä¸Šå¿«é€Ÿå¯åŠ¨å¹¶è¿è¡Œæ–°çš„Gatsbyç«™ç‚¹ï¼š

## åˆå§‹åŒ–ä¸€ä¸ªæ–°é¡¹ç›®ã€‚

è¿™é‡Œéœ€è¦æå‰å®‰è£… npm.

```sh
npm init gatsby
```

ç»™å®ƒå‘½åä¸º"My Gatsby Site"ã€‚

é…ç½®é€‰é¡¹ï¼š

```
What would you like to call your site?
âˆš Â· My Gatsby Site
What would you like to name the folder where your site will be created?
âˆš gatsby/ my-gatsby-site
âˆš Will you be using JavaScript or TypeScript?
Â· JavaScript
âˆš Will you be using a CMS?
Â· No (or I'll add it later)
âˆš Would you like to install a styling system?
Â· No (or I'll add it later)
âˆš Would you like to install additional features with other plugins?
Â· Add Markdown support (without MDX)
```

ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨ç«™ç‚¹ã€‚

ç„¶åï¼Œè½¬åˆ°æ‚¨æ–°ç«™ç‚¹çš„ç›®å½•å¹¶å¯åŠ¨å®ƒï¼š

```
cd my-gatsby-site/
npm run develop
```

æ‰“å¼€æºä»£ç å¹¶å¼€å§‹ç¼–è¾‘ï¼

æ‚¨çš„ç«™ç‚¹ç°åœ¨æ­£åœ¨ http://localhost:8000 ä¸Šè¿è¡Œã€‚

åœ¨æ‚¨é€‰æ‹©çš„ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€my-gatsby-siteç›®å½•å¹¶ç¼–è¾‘src/pages/index.jsã€‚

ä¿å­˜æ‚¨çš„æ›´æ”¹ï¼Œæµè§ˆå™¨å°†å®æ—¶æ›´æ–°ï¼

åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ‚¨å·²ç»æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨åŠŸèƒ½çš„Gatsbyç½‘ç«™ã€‚æœ‰å…³å¦‚ä½•è‡ªå®šä¹‰Gatsbyç«™ç‚¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„æ’ä»¶å’Œå®˜æ–¹æ•™ç¨‹ã€‚


# å‚è€ƒèµ„æ–™

https://github.com/getpelican/pelican

* any list
{:toc}