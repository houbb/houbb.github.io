---
layout: post
title: Git
date:  2016-10-10 16:09:36 +0800
categories: [Version Control]
tags: [git]
published: true
---

* any list
{:toc}

# Git

Git is a *free and open source* distributed version control system designed to handle everything from small to very large projects with speed and efficiency.

> [git](https://git-scm.com)

> [git zh_CN](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)


## Init 

<uml>
    create project->git init:
    git init->github:    
</uml>

> Create maven project

Use your idea to create a maven project. May like this:

```
D:\CODE\git-demo>tree /f
文件夹 PATH 列表
卷序列号为 00000200 3E45:BF16
D:.
│  git-demo.iml
│  pom.xml
│
├─.idea
│  │  compiler.xml
│  │  misc.xml
│  │  modules.xml
│  │  workspace.xml
│  │
│  └─copyright
│          profiles_settings.xml
│
└─src
    ├─main
    │  ├─java
    │  └─resources
    └─test
        └─java
```

> ```.gitignore``` file

This file can config what type of files you do not want to commit.

```
# maven ignore
target/
*.jar
*.war
*.zip
*.tar
*.tar.gz

# eclipse ignore
.settings/
.project
.classpath

# idea ignore
.idea/
*.ipr
*.iml
*.iws
```

> git init & import to Github

1、you can use this way if you use **IntelliJ IDEA**

```
VCS -> Import into Version Control -> Share Project on Github
```

2、common ways

- create a new repository on the command line

```
echo "# git-demo" >> README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin https://github.com/houbb/git-demo.git
git push -u origin master
```

- push an existing repository from the command line

```
git remote add origin https://github.com/houbb/git-demo.git
git push -u origin master
```

## Base usage 

- git status

show the git files status;

```
$   git status

On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

        .gitignore
        pom.xml

nothing added to commit but untracked files present (use "git add" to track)
```

- git add

add files into local Repository

```
$   git add .gitignore
```

- git commit

commit files into local Repository

```
$   git commit -m "first commit"

[master (root-commit) 965cf5d] first commit
 1 file changed, 6 insertions(+)
 create mode 100644 .gitignore
```

- git push

push files into remote Repository

```
$   git push

fatal: The current branch master has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin master
```

```
$   git push --set-upstream origin master

Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 258 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/houbb/git-demo.git
 * [new branch]      master -> master
Branch master set up to track remote branch master from origin.
```

In this way, we can add another file ```README.md``` into Repository for test, content is:

```
> Hello Git
```

Now, we edit the file ```README.md``` into this:

```
> Hello Git
- git diff
```

- git diff

see the difference between local and Repository

```
$   git diff README.md
diff --git a/README.md b/README.md
index adb219f..e5a680e 100644
--- a/README.md
+++ b/README.md
@@ -1 +1,2 @@
-> Hello Git
\ No newline at end of file
```


## branch

> [wiki](https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches)

> [usage](http://blog.csdn.net/wfdtxz/article/details/7973608)

> [merge](http://blog.csdn.net/syc434432458/article/details/51861483)

![idea]({{site.url}}/static/app/img/git/2016-09-02-git-merge.png)


- view branch

> remote

```
git branch -a
```

> local

```
git branch
```

- create branch

```
D:\CODE\blog>git branch blog_0930

D:\CODE\blog>git push origin blog_0930
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/houbb/blog.git
 * [new branch]      blog_0930 -> blog_0930

D:\CODE\blog>git checkout blog_0930
Switched to branch 'blog_0930'

D:\CODE\blog>git branch
* blog_0930
  master
```

- merge branch

```

$ git checkout master

$ git pull

$ git checkout branch

$ git rebase master     (用rebase合并主干的修改，如果有冲突在此时解决)

$ git checkout master

$ git merge branch

$ git push

```

- remove local branch

```
$   git branch -d xxxxx
```

## Revert 

- revert un-commit file

```
$   git checkout ${fileName}
```

- revert un-commit files

```
$   git checkout *.*
```

like ```git checkout *.java``` will revert all un-commit java files.

- revert all un-commit changes

```
$   git checkout
```







