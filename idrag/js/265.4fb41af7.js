"use strict";(self["webpackChunkidrag"]=self["webpackChunkidrag"]||[]).push([[265],{1265:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"attr-list"},[t("CommonAttr"),t("el-form",[t("el-form-item",{attrs:{label:"内容"}},[t("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.curComponent.propValue,callback:function(t){e.$set(e.curComponent,"propValue",t)},expression:"curComponent.propValue"}})],1)],1)],1)},r=[],n=a(37),s={components:{CommonAttr:n.Z},computed:{curComponent(){return this.$store.state.curComponent}}},o=s,u=a(1001),i=(0,u.Z)(o,l,r,!1,null,null,null),c=i.exports},37:function(e,t,a){a.d(t,{Z:function(){return g}});a(6699);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-common-attr"},[t("el-collapse",{attrs:{accordion:""},on:{change:e.onChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-collapse-item",{attrs:{title:"通用样式",name:"style"}},[t("el-form",e._l(e.styleKeys,(function({key:a,label:l},r){return t("el-form-item",{key:r,attrs:{label:l}},[e.isIncludesColor(a)?t("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.curComponent.style[a],callback:function(t){e.$set(e.curComponent.style,a,t)},expression:"curComponent.style[key]"}}):e.selectKey.includes(a)?t("el-select",{model:{value:e.curComponent.style[a],callback:function(t){e.$set(e.curComponent.style,a,t)},expression:"curComponent.style[key]"}},e._l(e.optionMap[a],(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-input",{attrs:{type:"number"},model:{value:e.curComponent.style[a],callback:function(t){e.$set(e.curComponent.style,a,e._n(t))},expression:"curComponent.style[key]"}})],1)})),1)],1),e.curComponent.request?t("Request"):e._e()],1)],1)},r=[];const n=[{key:"left",label:"x 坐标"},{key:"top",label:"y 坐标"},{key:"rotate",label:"旋转角度"},{key:"width",label:"宽"},{key:"height",label:"高"},{key:"color",label:"颜色"},{key:"backgroundColor",label:"背景色"},{key:"borderWidth",label:"边框宽度"},{key:"borderStyle",label:"边框风格"},{key:"borderColor",label:"边框颜色"},{key:"borderRadius",label:"边框半径"},{key:"fontSize",label:"字体大小"},{key:"fontWeight",label:"字体粗细"},{key:"lineHeight",label:"行高"},{key:"letterSpacing",label:"字间距"},{key:"textAlign",label:"左右对齐"},{key:"verticalAlign",label:"上下对齐"},{key:"opacity",label:"不透明度"}],s=[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],o=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],u=[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}],i=["textAlign","borderStyle","verticalAlign"],c={textAlign:s,borderStyle:o,verticalAlign:u};var p=function(){var e=this,t=e._self._c;return t("el-collapse-item",{staticClass:"request-container",attrs:{title:"数据来源（预览生效）",name:"request"}},[t("el-form",[t("el-form-item",{attrs:{label:"请求地址"}},[t("el-input",{on:{blur:e.validateURL},model:{value:e.request.url,callback:function(t){e.$set(e.request,"url","string"===typeof t?t.trim():t)},expression:"request.url"}},[t("template",{slot:"prepend"},[e._v("HTTPS://")])],2)],1),t("el-form-item",{attrs:{label:"请求方法"}},[t("el-select",{model:{value:e.request.method,callback:function(t){e.$set(e.request,"method",t)},expression:"request.method"}},e._l(e.methodOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"请求参数"}},[t("el-select",{attrs:{placeholder:"参数类型"},on:{change:e.onChnage},model:{value:e.request.paramType,callback:function(t){e.$set(e.request,"paramType",t)},expression:"request.paramType"}},e._l(e.dataOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),"array"===e.request.paramType?t("div",{staticClass:"param-container"},[t("p",[e._v("数据项")]),e._l(e.request.data,(function(a,l){return t("div",{key:l,staticClass:"div-delete"},[t("el-input",{attrs:{placeholder:"请输入参数值"},model:{value:e.request.data[l],callback:function(t){e.$set(e.request.data,l,t)},expression:"request.data[index]"}}),t("span",{staticClass:"iconfont icon-shanchu",on:{click:function(t){return e.deleteData(l)}}})],1)})),t("el-button",{on:{click:e.addArrayData}},[e._v("添加")])],2):"string"===e.request.paramType||"object"===e.request.paramType?t("div",{staticClass:"param-container"},[t("p",[e._v("数据项")]),e._l(e.request.data,(function(a,l){return t("div",{key:l,staticClass:"param-object-container"},[t("el-input",{attrs:{placeholder:"参数名"},model:{value:a[0],callback:function(t){e.$set(a,0,t)},expression:"item[0]"}}),t("el-input",{attrs:{placeholder:"参数值"},model:{value:a[1],callback:function(t){e.$set(a,1,t)},expression:"item[1]"}}),t("span",{staticClass:"iconfont icon-shanchu",on:{click:function(t){return e.deleteData(l)}}})],1)})),t("el-button",{on:{click:e.addData}},[e._v("添加")])],2):e._e()],1),t("el-form-item",{attrs:{label:"定时触发"}},[t("el-switch",{model:{value:e.request.series,callback:function(t){e.$set(e.request,"series",t)},expression:"request.series"}}),e.request.series?[t("p",[e._v("触发间隔（毫秒）")]),t("el-input",{attrs:{type:"number"},model:{value:e.request.time,callback:function(t){e.$set(e.request,"time",t)},expression:"request.time"}}),t("p",[e._v("触发次数（0 为无限）")]),t("el-input",{attrs:{type:"number"},model:{value:e.request.requestCount,callback:function(t){e.$set(e.request,"requestCount",t)},expression:"request.requestCount"}})]:e._e()],2)],1)],1)},m=[],d=a(4471),y={data(){return{methodOptions:["GET","POST","PUT","DELETE"],dataOptions:["object","array","string"]}},computed:{request(){return this.$store.state.curComponent.request}},methods:{addArrayData(){this.request.data.push("")},addData(){this.request.data.push(["",""])},deleteData(e){this.request.data.splice(e,1)},onChnage(){"array"===this.request.paramType?this.request.data=[""]:this.request.data=[["",""]]},validateURL(){const e=this.request.url;(e&&/^\d+$/.test(e)||!d._q.test((0,d.Ax)(e)))&&this.$message.error("请输入正确的 URL")}}},b=y,f=a(1001),h=(0,f.Z)(b,p,m,!1,null,"1afacafa",null),v=h.exports,k={components:{Request:v},data(){return{optionMap:c,styleData:n,textAlignOptions:s,borderStyleOptions:o,verticalAlignOptions:u,selectKey:i,activeName:""}},computed:{styleKeys(){if(this.curComponent){const e=Object.keys(this.curComponent.style);return this.styleData.filter((t=>e.includes(t.key)))}return[]},curComponent(){return this.$store.state.curComponent}},created(){this.activeName=this.curComponent.collapseName},methods:{onChange(){this.curComponent.collapseName=this.activeName},isIncludesColor(e){return e.toLowerCase().includes("color")}}},q=k,C=(0,f.Z)(q,l,r,!1,null,null,null),g=C.exports},4471:function(e,t,a){a.d(t,{Ax:function(){return u},ZP:function(){return i},_q:function(){return r}});var l=a(4720);const r=/(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/;function n(e){return new Promise(((t,a)=>{const l=new XMLHttpRequest;l.timeout=6e3;let r=u(e.url);"GET"===e.method&&(r+=`${s(e.data)}`),l.open(e.method,r),l.ontimeout=a,l.onerror=a,l.onload=e=>{t(e.target.response)},l.send(JSON.stringify(o(e.data,e.paramType)))}))}function s(e){let t="";return e.forEach((e=>{e[0]&&(t+=`&${e[0]}=${e[1]}`)})),t?"?"+t:""}function o(e,t){if(!e)return"";if("array"===t)return e;const a={};return e.forEach((e=>{e[0]&&(a[e[0]]=e[1])})),a}function u(e){return e.startsWith("http")?e:"https://"+e}function i(e,t,a,s="object"){let o,i=0;const c=e?.url;return(c&&!/^\d+$/.test(c)||r.test(u(c)))&&(e.series?o=setInterval((()=>{0!=e.requestCount&&e.requestCount<=i?clearInterval(o):(i++,n(e,s).then((e=>{t[a]="object"===s||"array"===s?JSON.parse(e):e})).catch((e=>l.Message.error(e?.message||e))))}),e.time):n(e,s).then((e=>{t[a]="object"===s||"array"===s?JSON.parse(e):e})).catch((e=>l.Message.error(e?.message||e)))),function(){clearInterval(o)}}}}]);
//# sourceMappingURL=265.4fb41af7.js.map