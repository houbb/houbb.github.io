<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>wangEditor</title>
    <link rel="stylesheet" type="text/css" href="../static/libs/bootstrap/css/bootstrap.min.css">
</head>
    <style>
        .toolbar {
            border: 1px solid #ccc;
        }
        .text {
            margin-top: -1px;
            border: 1px solid #ccc;
            height: 550px;
        }
    </style>
    <body>
        <div id="toolbar" class="toolbar"></div>
        <div id="editor" class="text"></div>
        <div style="text-align: center; margin-top: 6px;">
            <button class="btn btn-lg btn-primary" id="qrcode-btn">二维码</button>
            <!-- <button class="btn btn-lg btn-success" id="copy-btn">复制</button> -->
        </div>
    </body>
<script src="../static/libs/jQuery/jquery-2.2.3.min.js"></script>
<script src="../static/libs/bootstrap/js/bootstrap.min.js"></script>


<script src="https://cdn.bootcss.com/wangEditor/3.1.1/wangEditor.min.js"></script>
<script src="https://cdn.bootcss.com/clipboard.js/2.0.1/clipboard.min.js"></script>

<script>
$(function (){
    var E = window.wangEditor
    var editor = new E('#toolbar', '#editor');
    // 关闭粘贴样式的过滤
    editor.customConfig.pasteFilterStyle = true;
    editor.customConfig.uploadImgShowBase64 = true;
    // 自定义处理粘贴的文本内容
    editor.customConfig.pasteTextHandle = function (content) {
        // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回
        return content;
    }
    editor.create();

    var qrcode = '<br><div style="margin: 0 auto; text-align: center; margin-top: 10px;"><p style="margin-bottom: -2px; color: #aaa; font-size: 12px;">- 长按关注 -</p><img src="https://raw.githubusercontent.com/houbb/houbb.github.io/master/static/app/res/img/qrcode.bmp"><p style="margin-top: -4px; font-size: 14px;">为往圣继绝学</p></div>';
    $("#qrcode-btn").on('click', function(){
        var text = editor.txt.html() + qrcode;
        editor.txt.html(text);
    });
});
</script>

</html>