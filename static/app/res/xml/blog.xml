<?xml version='1.0' encoding='UTF-8'?>
<rss version='0.92'>
  <channel>
    <title>Echo blog</title>
    <link>http://houbb.github.io/</link>
    <docs>http://backend.userland.com/rss092</docs>
    <item>
      <title>&quot;gem+jekyll+git&quot;</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-04-13-jekyll.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#gem&quot; name=&quot;gem&quot;&gt;&lt;/a&gt;Gem&lt;/h1&gt;
&lt;p&gt;Install ruby, here is the &lt;a href=&quot;http://rubyinstaller.org/downloads&quot;&gt;download&lt;/a&gt; address.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#jekyll&quot; name=&quot;jekyll&quot;&gt;&lt;/a&gt;Jekyll&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/home/&quot;&gt;Jekyll&lt;/a&gt; is a simple, blog-aware, static site generator.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://jekyllcn.com&quot;&gt;jekyll doc zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use command to install jekyll as following.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gem install jekyll
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You may need use &lt;strong&gt;Proxy Software&lt;/strong&gt; in China. Then, wait and learn how to use it.&lt;/p&gt;
&lt;p&gt;Or you can use &lt;a href=&quot;https://ruby.taobao.org/&quot;&gt;rails&lt;/a&gt; instead of jekyll.&lt;/p&gt;
&lt;p&gt;If you are use mac, use this.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo gem install jekyll

&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#git&quot; name=&quot;git&quot;&gt;&lt;/a&gt;Git&lt;/h1&gt;
&lt;p&gt;You need know how to use Git.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.runoob.com/git/git-tutorial.html&quot; title=&quot;Git&quot;&gt;Git doc&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#problem&quot; name=&quot;problem&quot;&gt;&lt;/a&gt;Problem&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Error: Permission denied - bind(2) for 127.0.0.1:4000&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/lxconan/archive/2016/01/11/5119972.html&quot;&gt;bind localhost:4000 failed&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;use&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    $ netstat -ano
    $ tasklist /svc /FI &amp;quot;PID eq ${pid}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;pid is the result of thread who occupy localhost:4000; Use task manager to kill this thread;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Please add the following to your Gemfile to avoid polling for changes:&lt;br/&gt; gem &amp;lsquo;wdm&amp;rsquo;, &amp;lsquo;&amp;gt;= 0.1.0&amp;rsquo; if Gem.win_platform?&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/30720797/jekyll-install-on-windows-error-message&quot;&gt;gem &amp;lsquo;wdm&amp;rsquo;, &amp;lsquo;&amp;gt;= 0.1.0&amp;rsquo; if Gem.win_platform?&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have tried times, but also failed. Luckily, jekyll is still work well.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;jekyll-paginate&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Configuration file: /Users/houbinbin/blog/houbb.github.io/_config.yml
  Dependency Error: Yikes! It looks like you don&amp;#39;t have jekyll-paginate or one of its dependencies installed. In order to use Jekyll as currently configured, you&amp;#39;ll need to install this gem. The full error message from Ruby is: &amp;#39;cannot load such file -- jekyll-paginate&amp;#39; If you run into trouble, you can find helpful resources at http://jekyllrb.com/help/!
jekyll 3.1.3 | Error:  jekyll-paginate
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;solve method.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo gem install jekyll-paginate

&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#toc&quot; name=&quot;toc&quot;&gt;&lt;/a&gt;TOC&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://loudou.info/blog/2014/08/01/wei-octopress-tian-jia-toc/&quot;&gt;TOC&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;add these code in your file.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;* any list
{:toc}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>JUnit</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-04-26-JUnit.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#junit&quot; name=&quot;junit&quot;&gt;&lt;/a&gt;JUnit&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://junit.org/junit4/&quot;&gt;JUnit&lt;/a&gt; is a simple framework to write repeatable tests.&lt;br/&gt;It is an instance of the xUnit architecture for unit testing frameworks.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;What to test?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Need &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Right &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;结果是否正确 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;B &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;边界条件是否满足 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;I &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;能反向关联吗 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;C &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;有其他手段交叉检查吗 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;E &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;是否可以强制异常发生 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;P &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;性能问题 &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#simple-demo&quot; name=&quot;simple-demo&quot;&gt;&lt;/a&gt;Simple Demo&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;We create a test class for student;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class StudentTest extends TestCase {
    public void testCreate() {
        Student student =  new Student(&amp;quot;Mike&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Student class&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Student {
    private String name;

    public Student(String name) {
        this.name = name;
    }

    public String getName() {
        return &amp;quot;ryo&amp;quot;;
    }

    public void setName(String name) {
        this.name = name;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;when we run StudentTest.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-04-27-success-junit.png&quot; alt=&quot;success&quot; /&gt;&lt;/p&gt;
&lt;p&gt;then, we change the test code.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class StudentTest extends TestCase {
    public void testCreate() {
        Student student =  new Student(&amp;quot;Mike&amp;quot;);
        String name = student.getName();

        assertEquals(&amp;quot;Mike&amp;quot;, name);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-04-27-failed-junit.png&quot; alt=&quot;failed&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#usage&quot; name=&quot;usage&quot;&gt;&lt;/a&gt;Usage&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Add jars in IDEA&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;File --&amp;gt; Project Structure  [crtl+alt+shift+s] --&amp;gt; Libraries --&amp;gt; &amp;quot;+&amp;quot;---&amp;gt; &amp;quot;Attach Files or Directories&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;setUp()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now we add a new class Course.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Course {
    private String name;
    private int num;

    public Course(String name, int num) {
        this.name = name;
        this.num = num;
    }

    public String getName() {
        return name;
    }

    public int getNum() {
        return num;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;test class like this&amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class CourseTest extends TestCase {
    public void testCreateNum() {
        Course course = new Course(&amp;quot;Math&amp;quot;, 1);
        assertEquals(1, course.getNum());
    }

    public void testCreateName() {
        Course course = new Course(&amp;quot;Math&amp;quot;, 1);
        assertEquals(&amp;quot;Helo&amp;quot;, course.getName());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You may find&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;Course course = new Course(&amp;quot;Math&amp;quot;, 1);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we have write it twice, can it be easier?&lt;/p&gt;
&lt;p&gt;Now, we can use &lt;code&gt;setUp()&lt;/code&gt; to help us to do it easier; things in &lt;code&gt;setUp()&lt;/code&gt; will be called &lt;strong&gt;before&lt;/strong&gt; each test method.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class CourseTest extends TestCase {
    private Course course;
    public void setUp() {
        course = new Course(&amp;quot;Math&amp;quot;, 1);
    }

    public void testCreateNum() {
        assertEquals(1, course.getNum());
    }

    public void testCreateName() {
        assertEquals(&amp;quot;Helo&amp;quot;, course.getName());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;tearDown()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, &lt;code&gt;tearDown()&lt;/code&gt; will be called &lt;strong&gt;after&lt;/strong&gt; each test method.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;@Before&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Method annotated with @Before executed before every test; also, @After after&amp;hellip;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;@BeforeClass&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just run one time, and is unique.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#junitgenerator&quot; name=&quot;junitgenerator&quot;&gt;&lt;/a&gt;JUnitGenerator&lt;/h1&gt;
&lt;p&gt;This &lt;a href=&quot;http://plugins.jetbrains.com/plugin/3064&quot;&gt;plugin&lt;/a&gt; generates JUnit tests from right click &amp;lsquo;Generate&amp;hellip;&amp;rsquo; menu while focused on a java class.&lt;br/&gt;The unit test output code can be customized using a provided velocity template to format the code based on the origin class.&lt;br/&gt;If a unit test is created where one already exists, the user is prompted for overwrite or merge operation.&lt;br/&gt;The merge operation allows the user to selectively create the target file content.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/junit/2016-08-30-junit.png&quot; alt=&quot;JUnitGenerator&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;set the output path&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;${SOURCEPATH}/../../test/java/${PACKAGE}/${FILENAME}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;set the junit4 template&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;########################################################################################
##
## Available variables:
##         $entryList.methodList - List of method composites
##         $entryList.privateMethodList - List of private method composites
##         $entryList.fieldList - ArrayList of class scope field names
##         $entryList.className - class name
##         $entryList.packageName - package name
##         $today - Todays date in MM/dd/yyyy format
##
##            MethodComposite variables:
##                $method.name - Method Name
##                $method.signature - Full method signature in String form
##                $method.reflectionCode - list of strings representing commented out reflection code to access method (Private Methods)
##                $method.paramNames - List of Strings representing the method&amp;#39;s parameters&amp;#39; names
##                $method.paramClasses - List of Strings representing the method&amp;#39;s parameters&amp;#39; classes
##
## You can configure the output class name using &amp;quot;testClass&amp;quot; variable below.
## Here are some examples:
## Test${entry.ClassName} - will produce TestSomeClass
## ${entry.className}Test - will produce SomeClassTest
##
########################################################################################
##
#macro (cap $strIn)$strIn.valueOf($strIn.charAt(0)).toUpperCase()$strIn.substring(1)#end
## Iterate through the list and generate testcase for every entry.
#foreach ($entry in $entryList)
#set( $testClass=&amp;quot;${entry.className}Test&amp;quot;)
##
package $entry.packageName;

import org.junit.Test;
import org.junit.Before;
import org.junit.After;

/**
* ${entry.className} Tester.
*
* @author houbinbin
* @since $today
* @version 1.0
*/
public class $testClass {

    @Before
    public void before() throws Exception {
    }

    @After
    public void after() throws Exception {
    }

    #foreach($method in $entry.methodList)
/**
    *
    * Method: $method.signature
    *
    */
    @Test
    public void ${method.name}Test() throws Exception {
    }

    #end

    #foreach($method in $entry.privateMethodList)
/**
    *
    * Method: $method.signature
    *
    */
    @Test
    public void ${method.name}Test() throws Exception {
    #foreach($string in $method.reflectionCode)
    $string
    #end
}

#end
}
#end
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test template with Mockito&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;########################################################################################
##
## Available variables:
##         $entryList.methodList - List of method composites
##         $entryList.privateMethodList - List of private method composites
##         $entryList.fieldList - ArrayList of class scope field names
##         $entryList.className - class name
##         $entryList.packageName - package name
##         $today - Todays date in MM/dd/yyyy format
##
##            MethodComposite variables:
##                $method.name - Method Name
##                $method.signature - Full method signature in String form
##                $method.reflectionCode - list of strings representing commented out reflection code to access method (Private Methods)
##                $method.paramNames - List of Strings representing the method&amp;#39;s parameters&amp;#39; names
##                $method.paramClasses - List of Strings representing the method&amp;#39;s parameters&amp;#39; classes
##
## You can configure the output class name using &amp;quot;testClass&amp;quot; variable below.
## Here are some examples:
## Test${entry.ClassName} - will produce TestSomeClass
## ${entry.className}Test - will produce SomeClassTest
##
########################################################################################
##
#macro (cap $strIn)$strIn.valueOf($strIn.charAt(0)).toUpperCase()$strIn.substring(1)#end
#macro (uncap $strIn)$strIn.valueOf($strIn.charAt(0)).toLowerCase()$strIn.substring(1)#end
## Iterate through the list and generate testcase for every entry.
#foreach ($entry in $entryList)
#set( $testClass=&amp;quot;${entry.className}Test&amp;quot;)
##
package $entry.packageName;

import org.junit.Test;
import org.junit.Before;
import org.mockito.InjectMocks;
import org.mockito.MockitoAnnotations;

/**
* ${entry.className} Tester.
*
* @author houbinbin
* @since $today
* @version 1.0
*/
public class $testClass {

    @InjectMocks
    private ${entry.className} #uncap(${entry.className});

    @Before
    public void init() {
     MockitoAnnotations.initMocks(this);
    }

    #foreach($method in $entry.methodList)
/**
    *
    * Method: $method.signature
    *
    */
    @Test
    public void ${method.name}Test() throws Exception {
    }

    #end

    #foreach($method in $entry.privateMethodList)
/**
    *
    * Method: $method.signature
    *
    */
    @Test
    public void ${method.name}Test() throws Exception {
    #foreach($string in $method.reflectionCode)
    $string
    #end
}

#end
}
#end
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#mockito&quot; name=&quot;mockito&quot;&gt;&lt;/a&gt;Mockito&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://site.mockito.org/&quot;&gt;Mockito&lt;/a&gt; is a mocking framework that tastes really good. It lets you write beautiful tests with a clean &amp;amp; simple API.&lt;br/&gt;Mockito doesn’t give you hangover because the tests are very readable and they produce clean verification errors.&lt;/p&gt;
&lt;p&gt;If you want to test classA as following, you need create class BCD at first.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt; classA-&amp;gt;classB:&lt;br/&gt; classB-&amp;gt;classC:&lt;br/&gt; classB-&amp;gt;classD:&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;When you use mock, things will be like&lt;/p&gt;
&lt;p&gt;&lt;br/&gt; classA-&amp;gt;classBMock:&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Hello World&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;maven jar&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.mockito&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;mockito-all&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.8.4&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;hello world&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testMock() {
  List&amp;lt;String&amp;gt; mockedList = mock(List.class);

  // stubbing appears before the actual execution
  when(mockedList.get(0)).thenReturn(&amp;quot;hello&amp;quot;);

  String result = mockedList.get(0);

  //verify has called get(0)
  verify(mockedList).get(0);

  assertEquals(&amp;quot;hello&amp;quot;, result);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Mock demo&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class UserServiceTest {
  @InjectMocks
  private UserService userService;

  @Mock
  private UserDao userDao;

  @Before
  public void init(){
      MockitoAnnotations.initMocks(this);

      //mock the method
      User user = new User();
      Mockito.when(this.UserDao.selectUser(Mockito.anyString()))
          .thenReturn(user);
  }

  @Test
  public void testGetUser() {

  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#powermock&quot; name=&quot;powermock&quot;&gt;&lt;/a&gt;PowerMock&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/jayway/powermock&quot;&gt;https://github.com/jayway/powermock&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>UML</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-01-UML.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#uml&quot; name=&quot;uml&quot;&gt;&lt;/a&gt;UML&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uml.org/&quot;&gt;UML&lt;/a&gt; is the Unified Modeling Language.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;www.uml.org.cn&quot;&gt;UML zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you want to design your UML, &lt;a href=&quot;http://staruml.io/&quot;&gt;StarUML&lt;/a&gt; is an awesome choice.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;UseCase&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-usecase.png&quot; alt=&quot;usecase&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Class Relationship&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-class-relationship.png&quot; alt=&quot;class relationship&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Activity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-ActivityDiagram.png&quot; alt=&quot;activity&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Sequence&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-sequence.png&quot; alt=&quot;Sequence&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;State chart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-statechart.png&quot; alt=&quot;state chart&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Component&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-ComponentDiagram.png&quot; alt=&quot;component&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Deployment&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/uml/2016-11-12-DeploymentDiagram.png&quot; alt=&quot;deployment&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#sequence&quot; name=&quot;sequence&quot;&gt;&lt;/a&gt;Sequence&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Download-&amp;gt;Define:&lt;br/&gt; Define-&amp;gt;Usage:&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;http://bramp.github.io/js-sequence-diagrams/&quot;&gt;js-sequence-diagrams&lt;/a&gt; helps you turns text into UML sequence diagrams.&lt;/p&gt;
&lt;p&gt;And the &lt;a href=&quot;http://flowchart.js.org/&quot;&gt;flowchart&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Download&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;js-sequence-diagrams``` depends on [Raphaël](https://github.com/DmitryBaranovskiy/raphael) and [Underscore.js](http://underscorejs.org/)&quot;&gt;&lt;br/&gt;- Define

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; Title: UML Test&lt;br/&gt; A-&amp;gt;B: Normal line&lt;br/&gt; B&amp;ndash;&amp;gt;C: Dashed line&lt;br/&gt; C-&amp;gt;&amp;gt;D: Open arrow&lt;br/&gt; D&amp;ndash;&amp;gt;&amp;gt;A: Dashed open arrow&lt;br/&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- Usage

1、Import the js file

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;2、Define this in jQuery:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$(&amp;ldquo;UML, uml&amp;rdquo;).sequenceDiagram({theme: &amp;lsquo;hand&amp;rsquo;});&lt;br/&gt;```&lt;/p&gt;
&lt;p&gt;and you can see:&lt;/p&gt;
&lt;p&gt;&lt;br/&gt; Title: UML Test&lt;br/&gt; A-&amp;gt;B: Normal line&lt;br/&gt; B&amp;ndash;&amp;gt;C: Dashed line&lt;br/&gt; C-&amp;gt;&amp;gt;D: Open arrow&lt;br/&gt; D&amp;ndash;&amp;gt;&amp;gt;A: Dashed open arrow&lt;br/&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Reflecting</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-02-refelecting.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#reflection&quot; name=&quot;reflection&quot;&gt;&lt;/a&gt;Reflection&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;getClass()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is the jdk1.7 doc.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public Class&amp;lt;?&amp;gt;[] getClasses()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The actual result type is &lt;code&gt;Class&amp;lt;? extends |X|&amp;gt;&lt;/code&gt; where &lt;strong&gt;|X|&lt;/strong&gt; is the erasure of the static type of the expression on which getClass is called.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#tostring-&quot; name=&quot;tostring-&quot;&gt;&lt;/a&gt;toString()&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Here is a ReflectionUtil.java helps you say goodbye to toString();&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.util;

import java.beans.IntrospectionException;
import java.beans.PropertyDescriptor;
import java.lang.reflect.Field;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

/**
 * Created by houbinbin on 16/5/21.
 */
public class ReflectionUtil {
    /**
     * base toString() method;
     * @param thisObj
     * @return
     */
    public static String toString(Object thisObj) {
        Class clazz = thisObj.getClass();

        String entityName = clazz.getSimpleName();
        Field fields[] = clazz.getDeclaredFields();

        StringBuilder stringBuilder = new StringBuilder(String.format(&amp;quot;%s{&amp;quot;, entityName));

        for(int i = 0; i &amp;lt; fields.length-1; i++) {
            Field field = fields[i];
            stringBuilder.append(buildFieldValue(thisObj, field)+&amp;quot;,&amp;quot;);
        }

        stringBuilder.append(buildFieldValue(thisObj, fields[fields.length-1]));
        stringBuilder.append(&amp;quot;}&amp;quot;);

        return stringBuilder.toString();
    }

    /**
     * build &amp;quot;field=fieldValue&amp;quot;
     * @param object
     * @param field
     * @return
     */
    private static String buildFieldValue(Object object, Field field) {
        final String format = isType(field, String.class) ? &amp;quot;%s=&amp;#39;%s&amp;#39;&amp;quot; : &amp;quot;%s=%s&amp;quot;;
        StringBuilder stringBuilder = new StringBuilder();
        Method getMethod = getGetMethod(object.getClass(), field);
        try {
            Object fieldValue = getMethod.invoke(object);
            stringBuilder = new StringBuilder(String.format(format, field.getName(), fieldValue));
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        }

        return stringBuilder.toString();
    }

    /**
     * get the Get() of current field;
     * @param clazz
     * @param field
     * @return
     */
    private static Method getGetMethod(Class clazz, Field field) {
        PropertyDescriptor propertyDescriptor = null;
        try {
            propertyDescriptor = new PropertyDescriptor(field.getName(), clazz);
        } catch (IntrospectionException e) {
            e.printStackTrace();
        }

        return propertyDescriptor.getReadMethod();
    }

    /**
     * adjust just field is the type of
     * @param field
     * @param classType
     * @return
     */
    private static Boolean isType(Field field, Class classType) {
        return field.getType().equals(classType);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Student.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;/**
 * Created by houbinbin on 16/5/20.
 */
public class Student extends Base {
    private Long id;
    private String name;
    private int score;

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getScore() {
        return score;
    }

    public void setScore(int score) {
        this.score = score;
    }

    public Student() {
    }

    public Student(String name, int score) {
        this.name = name;
        this.score = score;
    }

    @Override
    public String toString() {
        return ReflectionUtil.toString(this);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or you can toString() in the base model in your project.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;StudentTest.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class StudentTest {
    @Test
    public void testToString() {
        Student student = new Student(&amp;quot;hello&amp;quot;, 30);

        System.out.println(student);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result is&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Student{id=null,name=&amp;#39;hello&amp;#39;,score=30}

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#lombok&quot; name=&quot;lombok&quot;&gt;&lt;/a&gt;lombok&lt;/h1&gt;
&lt;p&gt;By integrating into the IDE, Project &lt;a href=&quot;https://projectlombok.org/&quot;&gt;Lombok&lt;/a&gt; is able to inject code that is immediately available to the developer.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://projectlombok.org/features/index.html&quot;&gt;lombok doc&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;add jar&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.projectlombok&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;lombok&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.16.8&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;install plugin in idea.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;IntelliJ IDEA-&amp;gt;Prefercence-&amp;gt;plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;search for lombok, install and restart.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Idea</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-06-Idea.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#shortcut-key&quot; name=&quot;shortcut-key&quot;&gt;&lt;/a&gt;Shortcut key&lt;/h1&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Key &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;F2 / Shift + F2 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;locate warn/error &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Alt + Enter &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;auto fix &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Alt + Ins &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;generator code &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Alt + ↑/↓ &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;locate between methods &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Alt + ←/→ &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;change code view &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + Alt + ←/→ &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;locate last place &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Alt + F7 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find all usage of select element in project &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + F7 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find all usage of select element in current file &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + B &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;open class/method in cursor &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + E &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;recently files &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + H &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;show class struct &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + F12 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;show methods list &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + J &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;show parameters info &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + P &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;live template &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + Q &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;show java doc &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + N &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find class files &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + Shift + N &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find files &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + Shift + ↑/↓ &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;code move up/down &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + W &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;selected word++ &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + ALT + L &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;format code &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + ALT + T &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;surround code in block(try&amp;hellip;catch&amp;hellip;) &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;Ctrl + ALT + O &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;auto import class package &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;But sometimes it does not work well. Check this will be okay.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Setting/Editor/General/auto import/add unambiguous imports on the fly
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#database&quot; name=&quot;database&quot;&gt;&lt;/a&gt;Database&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; View-&amp;gt;Tool Windows:&lt;br/&gt; Tool Windows-&amp;gt;database:&lt;br/&gt; note right of database: Alt+insert&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://c.biancheng.net/cpp/html/1441.html&quot;&gt;mysql doc zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#jdk-level&quot; name=&quot;jdk-level&quot;&gt;&lt;/a&gt;JDK level&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;Information:Using javac 1.7.0_79 to compile java sources  
Information:java: javacTask: 源发行版 1.7 需要目标发行版 1.7  
Information:java: Errors occurred while compiling module &amp;#39;xxx&amp;#39;  
Information:15/8/14 下午11:08 - Compilation completed with 1 error and 0 warnings in 1s 913ms  
Error:java: Compilation failed: internal java compiler error    
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you just want use functions no more than 1.5, &lt;strong&gt;right click project-&amp;gt;maven-&amp;gt;reImport&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you want to use new features more than 1.6.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;open setting (ctrl+alt+s)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-06-07-idea-jdk.png&quot; alt=&quot;setting&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;open struts setting (ctrl+alt+s)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-06-07-idea-struts-setting.png&quot; alt=&quot;setting&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Or you can use the maven plugin in maven project:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${plugin.compiler.version}&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;source&amp;gt;${compiler.level}&amp;lt;/source&amp;gt;
        &amp;lt;target&amp;gt;${compiler.level}&amp;lt;/target&amp;gt;
        &amp;lt;encoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/encoding&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#lib-artifacts&quot; name=&quot;lib-artifacts&quot;&gt;&lt;/a&gt;Lib &amp;amp; Artifacts&lt;/h1&gt;
&lt;p&gt;Ctrl+Alt+Shift+S open the project strut.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Libraries&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Artifacts&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You need do this before put the war into tomcat.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#integration&quot; name=&quot;integration&quot;&gt;&lt;/a&gt;Integration&lt;/h1&gt;
&lt;p&gt;Use idea with JIRA, UML, SSH, FTP and son on.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/yjmyzz/p/4588386.html&quot;&gt;zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#plugins&quot; name=&quot;plugins&quot;&gt;&lt;/a&gt;Plugins&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Junit Generator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Download &lt;code&gt;JunitGenerator&lt;/code&gt; from idea plugins.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Find Bugs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Download &lt;code&gt;FindBugs-IDEA&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.oschina.net/news/69858/java-developer-need-intellij-idea-plugin?from=mail-notify&quot;&gt;plugins&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;lombok 无效&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://my.oschina.net/baishi/blog/515346&quot;&gt;why&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#tips&quot; name=&quot;tips&quot;&gt;&lt;/a&gt;Tips&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;Refactor&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you want to change the class name or var name, use shift+F6 to do this,&lt;br/&gt;all reference will be changed.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freemarker</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-07-freemarker.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#freemarker&quot; name=&quot;freemarker&quot;&gt;&lt;/a&gt;Freemarker&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://freemarker.org/&quot;&gt;Apache FreeMarker&lt;/a&gt; is a template engine: a Java library to generate text output&lt;br/&gt;(HTML web pages, e-mails, configuration files, source code, etc.) based on templates and changing data.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://swiftlet.net/archives/category/freemarker&quot;&gt;freemarker zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#getting-started&quot; name=&quot;getting-started&quot;&gt;&lt;/a&gt;Getting Started&lt;/h1&gt;
&lt;p&gt;Template + data-model = output&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Template&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;content-type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot;&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;x-ua-compatible&amp;quot; content=&amp;quot;IE=edge&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;renderer&amp;quot; content=&amp;quot;webkit&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&amp;quot;&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;

&amp;lt;h1&amp;gt;Welcome ${user}!&amp;lt;/h1&amp;gt;
&amp;lt;p&amp;gt;Our latest product:
    &amp;lt;a href=&amp;quot;${latestProduct.url}&amp;quot;&amp;gt;${latestProduct.name}&amp;lt;/a&amp;gt;!

&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;data model&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;product class&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Product {
    private String url;
    private String name;

    public Product(String url, String name) {
        this.url = url;
        this.name = name;
    }

    public String getUrl() {
        return url;
    }

    public void setUrl(String url) {
        this.url = url;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;create html class code&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Demo {
    public static void main(String[] args) throws Exception {
        Template template = FreemarkerHelper.getTemplate(&amp;quot;demo.ftl&amp;quot;);

        //map build
        Map&amp;lt;String, Object&amp;gt; root = new HashMap&amp;lt;String, Object&amp;gt;();
        map.put(&amp;quot;user&amp;quot;, &amp;quot;echo&amp;quot;);
        Product product = new Product(&amp;quot;www.google.com&amp;quot;, &amp;quot;greenhouse&amp;quot;);
        map.put(&amp;quot;latestProduct&amp;quot;, product);

        FileHelper.createFile(template, &amp;quot;demo.html&amp;quot;, root);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are some utility class as following.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;get path of package web which save ftl and html.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class PathHelper {
    public static final String LOCAL_WEB_PATH = &amp;quot;/src/main/web/&amp;quot;;

    public static String getWebPath() {
        String rootPath = System.getProperty(&amp;quot;user.dir&amp;quot;);

        return rootPath + LOCAL_WEB_PATH;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;get freemarker template&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Do not needlessly re-create Configuration instances; it&amp;rsquo;s expensive, among others because you lose the template cache.&lt;br/&gt;Configuration instances meant to be application-level &lt;strong&gt;singletons&lt;/strong&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class FreemarkerHelper {
    private FreemarkerHelper() {}
    private static Configuration configuration = null;

    /**
     * define Configuration
     * @return
     * @throws Exception
     */
    public static Configuration getConfiguration() throws Exception {
        if(configuration == null) {
            configuration = new Configuration();
            configuration.setDirectoryForTemplateLoading(new File(PathHelper.getWebPath()));    //path
            configuration.setObjectWrapper(new DefaultObjectWrapper());
        }

        return configuration;
    }

    /**
     * Get template by ftl name under web;
     * @param ftlName
     * @return
     * @throws Exception
     */
    public static Template getTemplate(String ftlName) throws Exception {
        Configuration configuration1 = getConfiguration();
        Template template = configuration1.getTemplate(ftlName, &amp;quot;UTF-8&amp;quot;);       //default charset UTF-8

        return template;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;create file&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class FileHelper {
    /**
     * create html by template, htmlName, and modal map;
     * @param template
     * @param htmlName
     * @param map
     * @throws Exception
     */
    public static void createFile(Template template, String htmlName, Map&amp;lt;String, Object&amp;gt; map) throws Exception {
        File file = new File(PathHelper.getWebPath()+htmlName);
        if (!file.exists()) {
            file.createNewFile();
        }
        Writer out = new BufferedWriter(new FileWriter(file));
        template.process(map, out);
        out.flush();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;output&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;content-type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot;&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;x-ua-compatible&amp;quot; content=&amp;quot;IE=edge&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;renderer&amp;quot; content=&amp;quot;webkit&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&amp;quot;&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

&amp;lt;h1&amp;gt;Welcome echo!&amp;lt;/h1&amp;gt;
&amp;lt;p&amp;gt;Our latest product:
    &amp;lt;a href=&amp;quot;www.google.com&amp;quot;&amp;gt;greenhouse&amp;lt;/a&amp;gt;!

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#base-directives&quot; name=&quot;base-directives&quot;&gt;&lt;/a&gt;Base directives&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;if&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With the if directive you can conditionally skip a section of the template.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;we change the ftl like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;h1&amp;gt;Welcome ${user}!&amp;lt;/h1&amp;gt;

    &amp;lt;#-- Here is the if directive demo --&amp;gt;
    &amp;lt;#if user == &amp;quot;echo&amp;quot;&amp;gt;
        echo
    &amp;lt;#elseif user != &amp;quot;hello&amp;quot;&amp;gt;
        not hello
    &amp;lt;#else&amp;gt;
        sb. we do not know.
    &amp;lt;/#if&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;h1&amp;gt;Welcome echo!&amp;lt;/h1&amp;gt;

        echo

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;list&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The generic form of the list directive is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; &amp;lt;#list sequence as loopVariable&amp;gt;repeatThis&amp;lt;/#list&amp;gt;.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The repeatThis part will be repeated for each item in the sequence that you have specified with sequence, one after the other,&lt;br/&gt;starting from the first item.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;change the Demo.java like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Demo {
    public static void main(String[] args) throws Exception {
        Template template = FreemarkerHelper.getTemplate(&amp;quot;demo.ftl&amp;quot;);

        //map build
        Map&amp;lt;String, Object&amp;gt; map = new HashMap&amp;lt;String, Object&amp;gt;();
        List&amp;lt;Product&amp;gt; productList = new LinkedList&amp;lt;Product&amp;gt;();

        Product product = new Product(&amp;quot;www.google.com&amp;quot;, &amp;quot;greenhouse&amp;quot;);
        Product product2 = new Product(&amp;quot;www.baidu.com&amp;quot;, &amp;quot;bluesky&amp;quot;);
        productList.add(product);
        productList.add(product2);
        map.put(&amp;quot;productList&amp;quot;, productList);

        FileHelper.createFile(template, &amp;quot;demo.html&amp;quot;, map);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ftl like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;#-- Here is the list directive demo --&amp;gt;
    &amp;lt;#list productList as product&amp;gt;
     &amp;lt;a href=&amp;quot;${product.url}&amp;quot;&amp;gt;${product.name}&amp;lt;/a&amp;gt;
    &amp;lt;/#list&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

     &amp;lt;a href=&amp;quot;www.google.com&amp;quot;&amp;gt;greenhouse&amp;lt;/a&amp;gt;
     &amp;lt;a href=&amp;quot;www.baidu.com&amp;quot;&amp;gt;bluesky&amp;lt;/a&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;include&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With the include directive you can insert the content of another file into the template.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;+add file copyright_footer.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;i&amp;gt;
    Copyright (c) 2016 &amp;lt;a href=&amp;quot;houbb.github.io&amp;quot;&amp;gt;Echo&amp;lt;/a&amp;gt;,
    &amp;lt;br&amp;gt;
    All Rights Reserved.
&amp;lt;/i&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;change ftl like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;#-- Here is the include directive demo --&amp;gt;
    &amp;lt;#include &amp;quot;copyright_footer.ftl&amp;quot;&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

&amp;lt;i&amp;gt;
    Copyright (c) 2016 &amp;lt;a href=&amp;quot;houbb.github.io&amp;quot;&amp;gt;Echo&amp;lt;/a&amp;gt;,
    &amp;lt;br&amp;gt;
    All Rights Reserved.
&amp;lt;/i&amp;gt;
&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#using-built-ins&quot; name=&quot;using-built-ins&quot;&gt;&lt;/a&gt;Using built-ins&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://freemarker.org/docs/ref_builtins.html&quot;&gt;builtins&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#missing-variables&quot; name=&quot;missing-variables&quot;&gt;&lt;/a&gt;Missing variables&lt;/h1&gt;
&lt;p&gt;A non-existent variable and a variable with null value is the same for FreeMarker, so the &amp;ldquo;missing&amp;rdquo; term used here covers both cases.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;what will happen if missing ?&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Demo {
    public static void main(String[] args) throws Exception {
        Template template = FreemarkerHelper.getTemplate(&amp;quot;demo.ftl&amp;quot;);

        //map build
        Map&amp;lt;String, Object&amp;gt; map = new HashMap&amp;lt;String, Object&amp;gt;();
        map.put(&amp;quot;user&amp;quot;, &amp;quot;this is a long name...&amp;quot;);

        FileHelper.createFile(template, &amp;quot;demo.html&amp;quot;, map);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;#-- Here is the missing demo --&amp;gt;
    ${missing}

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;freemarker.core.InvalidReferenceException: Expression missing is undefined on line 10, column 7 in demo.ftl.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;how to solve this problem?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;change the ftl like this&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

    &amp;lt;#-- Here is the missing demo --&amp;gt;
    ${missing!&amp;#39;default value&amp;#39;}

    &amp;lt;#if missing??&amp;gt;
        ${missing}
    &amp;lt;#else&amp;gt;
        missing
    &amp;lt;/#if&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

        default value

        missing

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Freemarker Advance</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-08-freemarker-advanced.md</link>
      <description>&lt;h2&gt;&lt;a href=&quot;#define-directives&quot; name=&quot;define-directives&quot;&gt;&lt;/a&gt;Define directives&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Basics&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A &lt;strong&gt;macro&lt;/strong&gt; is a template fragment associated with a variable.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;#macro gray&amp;gt;
  &amp;lt;span class=&amp;quot;text-muted&amp;quot;&amp;gt;Hello Joe!&amp;lt;/span&amp;gt;
&amp;lt;/#macro&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The macro directive itself does not print anything;&lt;br/&gt;You use user-defined directives by writing @ instead of # in the FTL tag. Use the variable name as the directive name.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;@macro gray&amp;gt;&amp;lt;/@macro&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;@macro/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;span class=&amp;quot;text-muted&amp;quot;&amp;gt;Hello Joe!&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Parameters&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&amp;rsquo;s improve the gray macro so it can use arbitrary name, not only Joe. For this purpose you can use &lt;strong&gt;parameters&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;define &amp;amp; called&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;#macro gray name&amp;gt;
  &amp;lt;span class=&amp;quot;text-muted&amp;quot;&amp;gt;Hello ${name}!&amp;lt;/span&amp;gt;
&amp;lt;/#macro&amp;gt;

&amp;lt;@gray name=&amp;quot;echo&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;span class=&amp;quot;text-muted&amp;quot;&amp;gt;Hello echo!&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can use &lt;strong&gt;multiple parameters&lt;/strong&gt;, like&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;define &amp;amp; called&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;#macro gray name size&amp;gt;
  &amp;lt;span class=&amp;quot;text-muted&amp;quot; size=&amp;quot;${size}&amp;quot;&amp;gt;Hello ${name}!&amp;lt;/span&amp;gt;
&amp;lt;/#macro&amp;gt;

&amp;lt;@gray name=&amp;quot;echo&amp;quot; size=14 /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;span class=&amp;quot;text-muted&amp;quot; size=&amp;quot;14&amp;quot;&amp;gt;Hello echo!&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can give method a &lt;strong&gt;default value&lt;/strong&gt;, such as&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;define &amp;amp; called&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;#macro gray name size=14&amp;gt;
  &amp;lt;span class=&amp;quot;text-muted&amp;quot; size=&amp;quot;${size}&amp;quot;&amp;gt;Hello ${name}!&amp;lt;/span&amp;gt;
&amp;lt;/#macro&amp;gt;

&amp;lt;@gray name=&amp;quot;echo&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;span class=&amp;quot;text-muted&amp;quot; size=&amp;quot;14&amp;quot;&amp;gt;Hello echo!&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Nested content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Custom directive can have nested content, similarly as predefined directives like&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;&lt;#if ...&gt;nested content&lt;/#if&gt;```&quot;&gt;can have.

- define &amp;amp; called

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;#macro border&amp;gt;&lt;br/&gt; &lt;br/&gt; &amp;lt;#nested&amp;gt;&lt;br/&gt; &lt;br/&gt;&amp;lt;/#macro&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;@border&amp;gt;Here is the nested content.&amp;lt;/@border&amp;gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- output

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;The nested directive can be called for **multiple times**, for example:

- define &amp;amp; called

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;#macro do_three&amp;gt;&lt;br/&gt; &lt;br/&gt; &amp;lt;#nested&amp;gt;&lt;br/&gt; &amp;lt;#nested&amp;gt;&lt;br/&gt; &amp;lt;#nested&amp;gt;&lt;br/&gt; &lt;br/&gt;&amp;lt;/#macro&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;@do_three&amp;gt;hello world&amp;lt;/@do_three&amp;gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- output

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;The local variables of a macro are **not visible** in the nested content. Say, this:

- define &amp;amp; called

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;#macro repeat count&amp;gt;&lt;br/&gt; &amp;lt;#local y = &amp;ldquo;test&amp;rdquo;&amp;gt;&lt;br/&gt; &amp;lt;#list 1..count as x&amp;gt;&lt;br/&gt; ${y} ${count}/${x}: &amp;lt;#nested&amp;gt;&lt;br/&gt; &amp;lt;/#list&amp;gt;&lt;br/&gt;&amp;lt;/#macro&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;@repeat count=3&amp;gt;${y!&amp;ldquo;?&amp;rdquo;} ${x!&amp;ldquo;?&amp;rdquo;} ${count!&amp;ldquo;?&amp;rdquo;}&amp;lt;/@repeat&amp;gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- output

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;test 3/1: ? ? ?&lt;br/&gt;test 3/2: ? ? ?&lt;br/&gt;test 3/3: ? ? ?&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Macros with loop variables

User-defined directives can also have loop variables.

- define &amp;amp; called

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;#macro do_three&amp;gt;&lt;br/&gt; &amp;lt;#nested 1&amp;gt;&lt;br/&gt; &amp;lt;#nested 2&amp;gt;&lt;br/&gt; &amp;lt;#nested 3&amp;gt;&lt;br/&gt;&amp;lt;/#macro&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;@do_three ; x&amp;gt; &amp;lt;#&amp;ndash; user-defined directive uses &amp;ldquo;;&amp;rdquo; instead of &amp;ldquo;as&amp;rdquo; &amp;ndash;&amp;gt;&lt;br/&gt;${x} Anything.&lt;br/&gt;&amp;lt;/@do_three&amp;gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- output

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1 Anything.&lt;/p&gt;
&lt;p&gt;2 Anything.&lt;/p&gt;
&lt;p&gt;3 Anything.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;The name of the loop variable is specified in the user-defined directive open tag (&amp;lt;@...&amp;gt;) after the parameters and a semicolon.

- define &amp;amp; called

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;#macro repeat count&amp;gt;&lt;br/&gt; &amp;lt;#list 1..count as x&amp;gt;&lt;br/&gt; &amp;lt;#nested x, x/2, x==count&amp;gt;&lt;br/&gt; &amp;lt;/#list&amp;gt;&lt;br/&gt;&amp;lt;/#macro&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;@repeat count=4 ; c, halfc, last&amp;gt;&lt;br/&gt; ${c}. ${halfc}&amp;lt;#if last&amp;gt; Last!&amp;lt;/#if&amp;gt;&lt;br/&gt;&amp;lt;/@repeat&amp;gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- output

&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
  &lt;li&gt;0.5&lt;/li&gt;
  &lt;li&gt;1&lt;/li&gt;
  &lt;li&gt;1.5&lt;/li&gt;
  &lt;li&gt;2 Last!&lt;br/&gt;```&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a href=&quot;#define-variables&quot; name=&quot;define-variables&quot;&gt;&lt;/a&gt;Define variables&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Create and replace variables with &lt;strong&gt;assign&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;define&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#assign name = &amp;quot;echo&amp;quot;&amp;gt;  &amp;lt;#-- create variable echo --&amp;gt;
${name}
&amp;lt;#assign name = &amp;quot;hello&amp;quot;&amp;gt; &amp;lt;#-- replace variable name --&amp;gt;
${name}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;echo
hello
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Local variables &lt;strong&gt;hide (not overwrite)&lt;/strong&gt; plain variables of the same name.&lt;br/&gt;Loop variables hide (not overwrite) local and plain variables of the same name.&lt;br/&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#assign x = &amp;quot;plain&amp;quot;&amp;gt;
1. ${x}  &amp;lt;#-- we see the plain var. here --&amp;gt;
&amp;lt;@test/&amp;gt;
6. ${x}  &amp;lt;#-- the value of plain var. was not changed --&amp;gt;
&amp;lt;#list [&amp;quot;loop&amp;quot;] as x&amp;gt;
    7. ${x}  &amp;lt;#-- now the loop var. hides the plain var. --&amp;gt;
    &amp;lt;#assign x = &amp;quot;plain2&amp;quot;&amp;gt; &amp;lt;#-- replace the plain var, hiding does not mater here --&amp;gt;
    8. ${x}  &amp;lt;#-- it still hides the plain var. --&amp;gt;
&amp;lt;/#list&amp;gt;
9. ${x}  &amp;lt;#-- the new value of plain var. --&amp;gt;

&amp;lt;#macro test&amp;gt;
  2. ${x}  &amp;lt;#-- we still see the plain var. here --&amp;gt;
  &amp;lt;#local x = &amp;quot;local&amp;quot;&amp;gt;
  3. ${x}  &amp;lt;#-- now the local var. hides it --&amp;gt;
  &amp;lt;#list [&amp;quot;loop&amp;quot;] as x&amp;gt;
    4. ${x}  &amp;lt;#-- now the loop var. hides the local var. --&amp;gt;
  &amp;lt;/#list&amp;gt;
  5. ${x}  &amp;lt;#-- now we see the local var. again --&amp;gt;
&amp;lt;/#macro&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;1. plain
2. plain
3. local
4. loop
5. local
6. plain
7. loop
8. loop
9. plain2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#namespaces&quot; name=&quot;namespaces&quot;&gt;&lt;/a&gt;Namespaces&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Creating a library&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;+add file lib.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#assign mail = &amp;quot;houbb.echo@gmail.com&amp;quot;&amp;gt;

&amp;lt;#macro copyright date name=&amp;quot;Echo&amp;quot;&amp;gt;
Copyright (C) ${date} ${name}. All rights reserved.
&amp;lt;/#macro&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as my&amp;gt; &amp;lt;#-- the hash called &amp;quot;my&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;

&amp;lt;@my.copyright date=&amp;quot;1994-2016&amp;quot;/&amp;gt;
${my.mail}

&amp;lt;#assign mail=&amp;quot;123456@gmail.com&amp;quot;&amp;gt;
${mail}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;Copyright (C) 1994-2016 Echo. All rights reserved.
houbb.echo@gmail.com

123456@gmail.com
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Writing the variables of imported namespaces&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Occasionally you may want to &lt;strong&gt;create or replace a variable in an imported namespace&lt;/strong&gt;.&lt;br/&gt;You can do this with the assign directive, if you use its namespace parameter. For example:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;define&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as my&amp;gt; &amp;lt;#-- the hash called &amp;quot;my&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;
${my.mail}
&amp;lt;#assign mail=&amp;quot;echo@other.com&amp;quot; in my&amp;gt;
${my.mail}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;houbb.echo@gmail.com
echo@other.com
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Namespaces and data-model&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;lib.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#macro copyright date name=&amp;quot;${name}&amp;quot;&amp;gt;
Copyright (C) ${date} ${name}. All rights reserved.
&amp;lt;/#macro&amp;gt;

&amp;lt;#assign mail = &amp;quot;houbb.${name}@gmail.com&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;demo.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as my&amp;gt; &amp;lt;#-- the hash called &amp;quot;my&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;
&amp;lt;@my.copyright date=&amp;quot;1994-2016&amp;quot; /&amp;gt;
${my.mail}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;data-model&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Demo {
    public static void main(String[] args) throws Exception {
        Template template = FreemarkerHelper.getTemplate(&amp;quot;demo.ftl&amp;quot;);

        //map build
        Map&amp;lt;String, Object&amp;gt; map = new HashMap&amp;lt;String, Object&amp;gt;();
        map.put(&amp;quot;name&amp;quot;, &amp;quot;echo&amp;quot;);

        FileHelper.createFile(template, &amp;quot;demo.html&amp;quot;, map);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;Copyright (C) 1994-2016 echo. All rights reserved.
houbb.echo@gmail.com
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Life-cycle of namespaces&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you try to import with the same path for multiple times, it will create the namespace and run the template specified&lt;br/&gt;by the path for the very first invocation of import only. The later imports with the same path will just&lt;br/&gt;create a &lt;strong&gt;gate&lt;/strong&gt; hash to the same namespace. For example:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as my&amp;gt; &amp;lt;#-- the hash called &amp;quot;my&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;
&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as foo&amp;gt; &amp;lt;#-- the hash called &amp;quot;foo&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;
&amp;lt;#import &amp;quot;lib.ftl&amp;quot; as bar&amp;gt; &amp;lt;#-- the hash called &amp;quot;bar&amp;quot; will be the &amp;quot;gate&amp;quot; --&amp;gt;

${my.mail}
${foo.mail}
${bar.mail}

&amp;lt;#assign mail=&amp;quot;echo@other.com&amp;quot; in my&amp;gt;

${my.mail}
${foo.mail}
${bar.mail}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;houbb.echo@gmail.com
houbb.echo@gmail.com
houbb.echo@gmail.com

echo@other.com
echo@other.com
echo@other.com
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#extends&quot; name=&quot;extends&quot;&gt;&lt;/a&gt;Extends&lt;/h2&gt;
&lt;p&gt;Now, we extends freemarker, add three directive :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@extends,@block,@override
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Parent template define the layout, child template can &lt;strong&gt;override&lt;/strong&gt; the content of layout.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;+add base.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;@block name=&amp;quot;head&amp;quot;&amp;gt;base_head_content&amp;lt;/@block&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;@block name=&amp;quot;body&amp;quot;&amp;gt;base_body_content&amp;lt;/@block&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;change demo.ftl&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;@override name=&amp;quot;body&amp;quot;&amp;gt;

&amp;lt;div class=&amp;#39;content&amp;#39;&amp;gt;
    Powered By rapid-framework
&amp;lt;/div&amp;gt;
&amp;lt;/@override&amp;gt;

&amp;lt;@extends name=&amp;quot;base.ftl&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
base_head_content
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;

&amp;lt;div class=&amp;#39;content&amp;#39;&amp;gt;
    Powered By rapid-framework
&amp;lt;/div&amp;gt;

&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Before use these extends directive, you should add them into config.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;/**
 * define Configuration
 * @return
 * @throws Exception
 */
public static Configuration getConfiguration() throws Exception {
    if(configuration == null) {
        configuration = new Configuration();
        configuration.setDirectoryForTemplateLoading(new File(PathHelper.getWebPath()));    //path
        configuration.setObjectWrapper(new DefaultObjectWrapper());
        configuration.setSharedVariable(&amp;quot;block&amp;quot;, new BlockDirective());
        configuration.setSharedVariable(&amp;quot;override&amp;quot;, new OverrideDirective());
        configuration.setSharedVariable(&amp;quot;extends&amp;quot;, new ExtendsDirective());
    }

    return configuration;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;these directives belong to &lt;strong&gt;rapid-framework&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.oschina.net/p/rapid-framework/&quot;&gt;rapid-framework zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Or, you can also just following files into your project.In fact, it&amp;rsquo;s part of rapid-framework.jar&lt;/p&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Log4j2</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-21-Log4j2.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#slf4j&quot; name=&quot;slf4j&quot;&gt;&lt;/a&gt;slf4j&lt;/h1&gt;
&lt;p&gt;The Simple Logging Facade for Java (SLF4J) serves as a simple facade or abstraction for various logging frameworks&lt;br/&gt;(e.g. java.util.logging, logback, log4j) allowing the end user to plug in the desired logging framework at deployment time.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.slf4j.org/&quot;&gt;slf4j&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#log4j2&quot; name=&quot;log4j2&quot;&gt;&lt;/a&gt;log4j2&lt;/h1&gt;
&lt;p&gt;Apache Log4j 2 is an upgrade to Log4j that provides significant improvements over its predecessor, Log4j 1.x,&lt;br/&gt;and provides many of the improvements available in Logback while fixing some inherent problems in Logback&amp;rsquo;s architecture.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://logging.apache.org/log4j/2.x&quot;&gt;log4j2&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Just use &lt;strong&gt;log4j2&lt;/strong&gt; instead of log4j and logback, reasons as following.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Both Log4j 1.x and Logback will lose events while reconfiguring. Log4j 2 will not.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;In multi-threaded scenarios Asynchronous Loggers have 10 times higher throughput and&lt;br/&gt;orders of magnitude lower latency than Log4j 1.x and Logback.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Log4j 1.x has known deadlock issues. Many of these are fixed in Logback but&lt;br/&gt;many Logback classes still require synchronization at a fairly high level.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/index.html&quot;&gt;others&lt;/a&gt;&amp;hellip;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello world&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependencies&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.6.1&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.6.1&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;App.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class App {
    static final Logger logger = LogManager.getLogger(App.class);

    public static void main(String[] args) {
        logger.trace(&amp;quot;Entering application.&amp;quot;);
        Bar bar = new Bar();
        if (!bar.doIt()) {
            logger.error(&amp;quot;Didn&amp;#39;t do it.&amp;quot;);
        }
        logger.trace(&amp;quot;Exiting application.&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Bar.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Bar {
    static final Logger logger = LogManager.getLogger(Bar.class.getName());

    public boolean doIt() {
        logger.entry();
        logger.error(&amp;quot;Did it again!&amp;quot;);
        return logger.exit(false);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.
11:11:34.539 [main] ERROR com.ryo.logger.Bar - Did it again!
11:11:34.540 [main] ERROR com.ryo.logger.App - Didn&amp;#39;t do it.

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;add log4j2.xml as following into classpath&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;WARN&amp;quot;&amp;gt;
    &amp;lt;Appenders&amp;gt;
        &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Console&amp;gt;
    &amp;lt;/Appenders&amp;gt;
    &amp;lt;Loggers&amp;gt;
        &amp;lt;Root level=&amp;quot;trace&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
        &amp;lt;/Root&amp;gt;
    &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;and the result is:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;11:22:58.433 [main] TRACE com.ryo.logger.App - Entering application.
11:22:58.437 [main] TRACE com.ryo.logger.Bar - entry
11:22:58.438 [main] ERROR com.ryo.logger.Bar - Did it again!
11:22:58.438 [main] TRACE com.ryo.logger.Bar - exit with(false)
11:22:58.438 [main] ERROR com.ryo.logger.App - Didn&amp;#39;t do it.
11:22:58.438 [main] TRACE com.ryo.logger.App - Exiting application.

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#additivity&quot; name=&quot;additivity&quot;&gt;&lt;/a&gt;Additivity&lt;/h2&gt;
&lt;p&gt;Perhaps it is desired to eliminate all the TRACE output from everything except &lt;code&gt;com.ryo.logger.Bar&lt;/code&gt;,&lt;br/&gt;the solution is to add a new logger definition to the configuration&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;WARN&amp;quot;&amp;gt;
  &amp;lt;Appenders&amp;gt;
    &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
      &amp;lt;PatternLayout pattern=&amp;quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&amp;quot;/&amp;gt;
    &amp;lt;/Console&amp;gt;
  &amp;lt;/Appenders&amp;gt;
  &amp;lt;Loggers&amp;gt;
    &amp;lt;Logger name=&amp;quot;com.ryo.logger.Bar&amp;quot; level=&amp;quot;trace&amp;quot;&amp;gt;
      &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
    &amp;lt;/Logger&amp;gt;
    &amp;lt;Root level=&amp;quot;error&amp;quot;&amp;gt;
      &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
    &amp;lt;/Root&amp;gt;
  &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;12:11:43.095 [main] TRACE com.ryo.logger.Bar - entry
12:11:43.095 [main] TRACE com.ryo.logger.Bar - entry
12:11:43.096 [main] ERROR com.ryo.logger.Bar - Did it again!
12:11:43.096 [main] ERROR com.ryo.logger.Bar - Did it again!
12:11:43.096 [main] TRACE com.ryo.logger.Bar - exit with(false)
12:11:43.096 [main] TRACE com.ryo.logger.Bar - exit with(false)
12:11:43.096 [main] ERROR com.ryo.logger.App - Didn&amp;#39;t do it.

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that the trace messages from &amp;lsquo;com.ryo.logger.Bar&amp;rsquo; appear twice.&lt;/p&gt;
&lt;p&gt;change&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;Logger name=&amp;quot;com.ryo.logger.Bar&amp;quot; level=&amp;quot;trace&amp;quot;&amp;gt;
  &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
&amp;lt;/Logger&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;into&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;Logger name=&amp;quot;com.ryo.logger.Bar&amp;quot; level=&amp;quot;trace&amp;quot; additivity=&amp;quot;false&amp;quot;&amp;gt;
  &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
&amp;lt;/Logger&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and result will be&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;12:16:34.921 [main] TRACE com.ryo.logger.Bar - entry
12:16:34.923 [main] ERROR com.ryo.logger.Bar - Did it again!
12:16:34.923 [main] TRACE com.ryo.logger.Bar - exit with(false)
12:16:34.923 [main] ERROR com.ryo.logger.App - Didn&amp;#39;t do it.

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once an event reaches a logger with its additivity set to false the event will not be passed to any of its parent loggers,&lt;br/&gt;regardless of their additivity setting.&lt;/p&gt;
&lt;p&gt;Each enabled logging request for a given logger will be forwarded to all the appenders in that Logger&amp;rsquo;s LoggerConfig as well as the Appenders of the LoggerConfig&amp;rsquo;s parents.&lt;br/&gt;It is possible to override this default behavior so that Appender accumulation is no longer additive by setting &lt;code&gt;additivity=&amp;quot;false&amp;quot;&lt;/code&gt; on the Logger declaration in the configuration file.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#use-with-junit&quot; name=&quot;use-with-junit&quot;&gt;&lt;/a&gt;Use with junit&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;import junit.framework.TestCase;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;


public class BaseTest extends TestCase {
    protected static final Logger logger = LogManager.getLogger(BaseTest.class);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#normal-example&quot; name=&quot;normal-example&quot;&gt;&lt;/a&gt;Normal Example&lt;/h2&gt;
&lt;p&gt;Some article for more.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/jiangguilong2000/article/details/11397557&quot;&gt;summary zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/tqsummer/archive/2011/01/10/1932063.html&quot;&gt;log4j set zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;用户目录占位符: &lt;code&gt;${sys:user.home}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;off&amp;quot; monitorInterval=&amp;quot;1800&amp;quot;&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;property name=&amp;quot;LOG_HOME&amp;quot;&amp;gt;src/log&amp;lt;/property&amp;gt;
        &amp;lt;property name=&amp;quot;BACKUP_HOME&amp;quot;&amp;gt;${LOG_HOME}/backup&amp;lt;/property&amp;gt;
        &amp;lt;property name=&amp;quot;SERVER_NAME&amp;quot;&amp;gt;global&amp;lt;/property&amp;gt;

        &amp;lt;!--file names--&amp;gt;
        &amp;lt;property name=&amp;quot;CONTROLLER_FILE_NAME&amp;quot;&amp;gt;controller&amp;lt;/property&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;Appenders&amp;gt;
        &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{yyyy-MM-dd HH:mm:ss.SSS}  %-5level [%t] %logger{36}:%L - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Console&amp;gt;

        &amp;lt;RollingRandomAccessFile name=&amp;quot;DevLog&amp;quot; fileName=&amp;quot;${LOG_HOME}/${SERVER_NAME}&amp;quot;
                                 filePattern=&amp;quot;${LOG_HOME}/${SERVER_NAME}.log-%d{yyyy-MM-dd-HH}.log&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%date{yyyy-MM-dd HH:mm:ss.SSS} %level [%thread][%file:%line] - %msg%n&amp;quot; /&amp;gt;
            &amp;lt;Policies&amp;gt;
                &amp;lt;TimeBasedTriggeringPolicy interval=&amp;quot;1&amp;quot; modulate=&amp;quot;true&amp;quot; /&amp;gt;
                &amp;lt;SizeBasedTriggeringPolicy size=&amp;quot;10 MB&amp;quot;/&amp;gt;
            &amp;lt;/Policies&amp;gt;
        &amp;lt;/RollingRandomAccessFile&amp;gt;

        &amp;lt;RollingRandomAccessFile name=&amp;quot;ControllerLog&amp;quot;
                fileName=&amp;quot;${LOG_HOME}/${CONTROLLER_FILE_NAME}.log&amp;quot;
                                 filePattern=&amp;quot;${LOG_HOME}/$${date:yyyy-MM}/${CONTROLLER_FILE_NAME}-%d{yyyy-MM-dd}-%i.log.gz&amp;quot;&amp;gt;
            &amp;lt;PatternLayout
                    pattern=&amp;quot;%date{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%t][%file:%L] - %msg%n&amp;quot;/&amp;gt;
            &amp;lt;Policies&amp;gt;
                &amp;lt;TimeBasedTriggeringPolicy/&amp;gt;
                &amp;lt;SizeBasedTriggeringPolicy size=&amp;quot;10 MB&amp;quot;/&amp;gt;
            &amp;lt;/Policies&amp;gt;
            &amp;lt;DefaultRolloverStrategy max=&amp;quot;20&amp;quot;/&amp;gt;
        &amp;lt;/RollingRandomAccessFile&amp;gt;
    &amp;lt;/Appenders&amp;gt;

    &amp;lt;Loggers&amp;gt;
        &amp;lt;Logger name=&amp;quot;com.ryo.interceptor.ControllerLogInterceptor&amp;quot; level=&amp;quot;INFO&amp;quot; additivity=&amp;quot;false&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;ControllerLog&amp;quot;/&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
        &amp;lt;/Logger&amp;gt;

        &amp;lt;Root level=&amp;quot;INFO&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;DevLog&amp;quot;/&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
        &amp;lt;/Root&amp;gt;
    &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#architecture&quot; name=&quot;architecture&quot;&gt;&lt;/a&gt;Architecture&lt;/h1&gt;
&lt;p&gt;After to know the simple way to use, let&amp;rsquo;s learn more about loj4j2.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/architecture.html&quot;&gt;Architecture&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#log-levels&quot; name=&quot;log-levels&quot;&gt;&lt;/a&gt;Log Levels&lt;/h2&gt;
&lt;p&gt;The table below illustrates how Level filtering works.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#layout&quot; name=&quot;layout&quot;&gt;&lt;/a&gt;Layout&lt;/h2&gt;
&lt;p&gt;More often than not, users wish to customize not only the output destination but also the output format. &lt;/p&gt;
&lt;p&gt;For example, the PatternLayout with the conversion pattern &lt;code&gt;%r [%t] %-5p %c - %m%n&lt;/code&gt; will output something akin to:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;176 [main] INFO  org.foo.Bar - Located nearest gas station.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/layouts.html&quot;&gt;layout&lt;/a&gt; for various use cases such as JSON, XML, HTML, and Syslog (including the new RFC 5424 version).&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#slf4j&quot; name=&quot;slf4j&quot;&gt;&lt;/a&gt;Slf4j&lt;/h1&gt;
&lt;p&gt;虽然合并会降低速度,但是有时需要支持这种标准。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/clementad/article/details/44625787&quot;&gt;Slf4j+log4j2&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/heyutao007/article/details/50371668&quot;&gt;slf4j+log4j2&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;!-- log配置：Log4j2 + Slf4j --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt; &amp;lt;!-- 桥接：告诉Slf4j使用Log4j2 --&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-slf4j-impl&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt; &amp;lt;!-- 桥接：告诉commons logging使用Log4j2 --&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-jcl&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;slf4j-api&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.7.10&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Mac</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-21-Mac.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#key-icon&quot; name=&quot;key-icon&quot;&gt;&lt;/a&gt;key icon&lt;/h1&gt;
&lt;h1&gt;&lt;a href=&quot;#start-apps&quot; name=&quot;start-apps&quot;&gt;&lt;/a&gt;Start apps&lt;/h1&gt;
&lt;p&gt;Use ⌘+space to start &lt;code&gt;spotlight&lt;/code&gt;, and search what you want run.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#command&quot; name=&quot;command&quot;&gt;&lt;/a&gt;Command&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#file-tree&quot; name=&quot;file-tree&quot;&gt;&lt;/a&gt;File tree&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://yijiebuyi.com/blog/c0defa3a47d16e675d58195adc35514b.html&quot;&gt;zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;find . -print | sed -e &amp;#39;s;[^/]*/;|____;g;s;____|; |;g&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.qiansw.com/mac-os-x-install-tree-command.html&quot;&gt;install tree&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#get-ip&quot; name=&quot;get-ip&quot;&gt;&lt;/a&gt;Get ip&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$   ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;port&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;find port&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo lsof -i :8080

COMMAND   PID      USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
java    15072 houbinbin   48u  IPv6 0xf1b9bfa3c85fd519      0t0  TCP *:http-alt (LISTEN)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;kill thread&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo kill -9 15072
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;code&gt;.bash_profile&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;文件修改错误,导致命令无法使用。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export PATH=/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后修改回来&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;source ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;make it work at once.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;add new bin&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;M3_HOME=/usr/local/maven/maven3.3.9
ARC_HOME=/Users/houbinbin/it/code/arcanist

PATH=$ARC_HOME/bin:$M3_HOME/bin:$PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#zip-unzip&quot; name=&quot;zip-unzip&quot;&gt;&lt;/a&gt;zip &amp;amp; unzip&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;zip&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;最通俗的用法&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;zip -q -r -e -m -o myfile.zip someThing
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;-q 表示不显示压缩进度状态&lt;/p&gt;
&lt;p&gt;-r 表示子目录子文件全部压缩为zip //这部比较重要，不然的话只有something这个文件夹被压缩，里面的没有被压缩进去&lt;/p&gt;
&lt;p&gt;-e 表示你的压缩文件需要加密，终端会提示你输入密码的&lt;/p&gt;
&lt;p&gt;// 还有种加密方法，这种是直接在命令行里做的，比如zip -r -P Password01! modudu.zip SomeDir, 就直接用Password01!来加密modudu.zip了。&lt;/p&gt;
&lt;p&gt;-m 表示压缩完删除原文件&lt;/p&gt;
&lt;p&gt;-o 表示设置所有被压缩文件的最后修改时间为当前压缩时间&lt;/p&gt;
&lt;p&gt;当跨目录的时候是这么操作的&lt;/p&gt;
&lt;p&gt;zip -q -r -e -m -o &amp;lsquo;\user\someone\someDir\someFile.zip&amp;rsquo; &amp;lsquo;\users\someDir&amp;rsquo;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;unzip&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;unzip [选项] 压缩文件名.zip
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;各选项的含义分别为：&lt;/p&gt;
&lt;p&gt;-x 文件列表 解压缩文件，但不包括指定的file文件。&lt;/p&gt;
&lt;p&gt;-v 查看压缩文件目录，但不解压。&lt;/p&gt;
&lt;p&gt;-t 测试文件有无损坏，但不解压。&lt;/p&gt;
&lt;p&gt;-d 目录 把压缩文件解到指定目录下。&lt;/p&gt;
&lt;p&gt;-z 只显示压缩文件的注解。&lt;/p&gt;
&lt;p&gt;-n 不覆盖已经存在的文件。&lt;/p&gt;
&lt;p&gt;-o 覆盖已存在的文件且不要求用户确认。&lt;/p&gt;
&lt;p&gt;-j 不重建文档的目录结构，把所有文件解压到同一目录下。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#mac-制作-ubuntu-启动u盘&quot; name=&quot;mac-制作-ubuntu-启动u盘&quot;&gt;&lt;/a&gt;Mac 制作 ubuntu 启动U盘&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/os/Ubuntu/393496.html&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000006835642&quot;&gt;blog2 zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#jdk-配置&quot; name=&quot;jdk-配置&quot;&gt;&lt;/a&gt;JDK 配置&lt;/h1&gt;
&lt;p&gt;一般而言,是不用关心JDK配置的。可是有时需要使用ROOT权限时,如果涉及到JDK。可能会找不到。&lt;/p&gt;
&lt;p&gt;前提先提升权限&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;su
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;获取JDK位置&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ /usr/libexec/java_home
/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;全局配置JDK&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;vi /etc/profile```&quot;&gt;&lt;br/&gt;添加内容如下:


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home&lt;br/&gt;CLASSPAHT=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar&lt;br/&gt;PATH=$JAVA_HOME/bin:$PATH:&lt;br/&gt;export JAVA_HOME&lt;br/&gt;export CLASSPATH&lt;br/&gt;export PATH&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 使其立即生效

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;source /etc/profile&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- test

&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#echo-java-home&quot; name=&quot;echo-java-home&quot;&gt;&lt;/a&gt;echo $JAVA_HOME&lt;/h1&gt;
&lt;p&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home&lt;br/&gt;```&lt;/p&gt;</description>
    </item>
    <item>
      <title>Mybatis Generator</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-05-29-Mybatis Generator.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#mybatis-generator&quot; name=&quot;mybatis-generator&quot;&gt;&lt;/a&gt;Mybatis Generator&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://arccode.net/2015/02/07/MyBatis-Generator%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/&quot;&gt;Use zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#code&quot; name=&quot;code&quot;&gt;&lt;/a&gt;Code&lt;/h1&gt;
&lt;p&gt;You need &lt;code&gt;mybatis-generator-core.jar&lt;/code&gt; and &lt;code&gt;mysql-connector-java.jar&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Then, use &lt;strong&gt;schema.sql&lt;/strong&gt; to create table in your mysql.&lt;/p&gt;
&lt;p&gt;use &lt;code&gt;mvn mybatis-generator:generate&lt;/code&gt; to run project.&lt;/p&gt;
&lt;p&gt;You may find directory not exists error, solve it.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;pom.xml&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
  xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&amp;quot;&amp;gt;
  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
  &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;mybaits&amp;lt;/artifactId&amp;gt;
  &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
  &amp;lt;name&amp;gt;mybaits Maven Webapp&amp;lt;/name&amp;gt;
  &amp;lt;url&amp;gt;http://maven.apache.org&amp;lt;/url&amp;gt;


  &amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;3.8.1&amp;lt;/version&amp;gt;
      &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.mybatis.generator&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;mybatis-generator-core&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;1.3.2&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;5.1.30&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

  &amp;lt;/dependencies&amp;gt;

  &amp;lt;build&amp;gt;
      &amp;lt;finalName&amp;gt;mybaits&amp;lt;/finalName&amp;gt;
      &amp;lt;plugins&amp;gt;
          &amp;lt;plugin&amp;gt;
              &amp;lt;groupId&amp;gt;org.mybatis.generator&amp;lt;/groupId&amp;gt;
              &amp;lt;artifactId&amp;gt;mybatis-generator-maven-plugin&amp;lt;/artifactId&amp;gt;
              &amp;lt;version&amp;gt;1.3.0&amp;lt;/version&amp;gt;

              &amp;lt;dependencies&amp;gt;
                  &amp;lt;dependency&amp;gt;
                      &amp;lt;groupId&amp;gt;org.mybatis.generator&amp;lt;/groupId&amp;gt;
                      &amp;lt;artifactId&amp;gt;mybatis-generator-core&amp;lt;/artifactId&amp;gt;
                      &amp;lt;version&amp;gt;1.3.2&amp;lt;/version&amp;gt;
                  &amp;lt;/dependency&amp;gt;

                  &amp;lt;dependency&amp;gt;
                      &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
                      &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
                      &amp;lt;version&amp;gt;5.1.30&amp;lt;/version&amp;gt;
                  &amp;lt;/dependency&amp;gt;
              &amp;lt;/dependencies&amp;gt;
          &amp;lt;/plugin&amp;gt;
      &amp;lt;/plugins&amp;gt;
  &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;schema.sql&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;CREATE TABLE `test`.`teacher` (
`id` bigint NOT NULL DEFAULT 0 COMMENT &amp;#39;主键id&amp;#39;,
`name` varchar(40) NOT NULL DEFAULT &amp;#39;&amp;#39; COMMENT &amp;#39;名称&amp;#39;,
`age` smallint NOT NULL DEFAULT 0 COMMENT &amp;#39;年龄&amp;#39;,
PRIMARY KEY (`id`)
) COMMENT=&amp;#39;教师表&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;generatorConfig.xml&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;!DOCTYPE generatorConfiguration
        PUBLIC &amp;quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&amp;quot;
        &amp;quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&amp;quot;&amp;gt;

&amp;lt;generatorConfiguration&amp;gt;
    &amp;lt;context id=&amp;quot;MySQLTables&amp;quot; targetRuntime=&amp;quot;MyBatis3&amp;quot;&amp;gt;
        &amp;lt;!--关闭注释 --&amp;gt;
        &amp;lt;commentGenerator&amp;gt;
            &amp;lt;property name=&amp;quot;suppressDate&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/commentGenerator&amp;gt;

        &amp;lt;!--数据库连接信息 --&amp;gt;
        &amp;lt;jdbcConnection driverClass=&amp;quot;com.mysql.jdbc.Driver&amp;quot; connectionURL=&amp;quot;jdbc:mysql://localhost:3306/test&amp;quot;
                        userId=&amp;quot;root&amp;quot;
                        password=&amp;quot;123456&amp;quot;&amp;gt;
        &amp;lt;/jdbcConnection&amp;gt;

        &amp;lt;!--生成的model 包路径 --&amp;gt;
        &amp;lt;javaModelGenerator targetPackage=&amp;quot;com.ryo.gen.model&amp;quot; targetProject=&amp;quot;src/main/java&amp;quot;&amp;gt;
            &amp;lt;property name=&amp;quot;enableSubPackages&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
            &amp;lt;property name=&amp;quot;trimStrings&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/javaModelGenerator&amp;gt;

        &amp;lt;!--生成xml mapper文件 路径 --&amp;gt;
        &amp;lt;sqlMapGenerator targetPackage=&amp;quot;com.ryo.gen.xml&amp;quot; targetProject=&amp;quot;src/main/java&amp;quot;&amp;gt;
            &amp;lt;property name=&amp;quot;enableSubPackages&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/sqlMapGenerator&amp;gt;

        &amp;lt;!-- 生成的Dao接口 的包路径 --&amp;gt;
        &amp;lt;javaClientGenerator type=&amp;quot;XMLMAPPER&amp;quot; targetPackage=&amp;quot;com.ryo.gen.dao&amp;quot; targetProject=&amp;quot;src/main/java&amp;quot;&amp;gt;
            &amp;lt;property name=&amp;quot;enableSubPackages&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/javaClientGenerator&amp;gt;

        &amp;lt;!--对应数据库表名 --&amp;gt;
        &amp;lt;table tableName=&amp;quot;teacher&amp;quot;&amp;gt;

        &amp;lt;/table&amp;gt;
    &amp;lt;/context&amp;gt;
&amp;lt;/generatorConfiguration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#bugs&quot; name=&quot;bugs&quot;&gt;&lt;/a&gt;Bugs&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;a href=&quot;http://mybatis-user.963551.n3.nabble.com/lt-properties-resource-quot-database-properties-quot-gt-is-not-working-for-me-td3230072.html&quot;&gt;properties bug&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;a href=&quot;http://openwares.net/database/mybatis_generator_properties_subelement.html&quot;&gt;properties bug&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When use the version of &lt;code&gt;mybatis-generator-maven-plugin&lt;/code&gt; is &lt;strong&gt;1.3.5&lt;/strong&gt;, meet this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Failed to execute goal org.mybatis.generator:mybatis-generator-maven-plugin:1.3.5:generate (default-cli) on project app-demo-dal: Execution default-cli of goal org.mybatis.generator:mybatis-generator-maven-plugin:1.3.5:generate failed: An API incompatibility was encountered while executing org.mybatis.generator:mybatis-generator-maven-plugin:1.3.5:generate: java.lang.AbstractMethodError: tk.mybatis.mapper.generator.MapperCommentGenerator.addModelClassComment(Lorg/mybatis/generator/api/dom/java/TopLevelClass;Lorg/mybatis/generator/api/IntrospectedTable;)V
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Change the version into &lt;strong&gt;1.3.2&lt;/strong&gt; will be okay.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Annotation</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-04-Annotation.md</link>
      <description>&lt;p&gt;Annotations, a form of metadata, provide data about a program that is not part of the program itself.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/annotations/index.html&quot;&gt;annotations doc&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#basics&quot; name=&quot;basics&quot;&gt;&lt;/a&gt;Basics&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;The Format of an Annotation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The at sign character @ indicates to the compiler that what follows is an annotation. like the &lt;code&gt;@override&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Where Annotations Can Be Used&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Annotations can be applied to declarations: declarations of classes, fields, methods, and other program elements.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#declaring-an-annotation-type&quot; name=&quot;declaring-an-annotation-type&quot;&gt;&lt;/a&gt;Declaring an Annotation Type&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;You can define the annotation type as following&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public @interface AuthorInfo {
    String author() default &amp;quot;houbb&amp;quot;;
    String date();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;And use it&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@AuthorInfo(date = &amp;quot;2016-06-04 22:58:46&amp;quot;)
public void testAuthorInfo() {

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To make the information in @AuthorInfo appear in Javadoc-generated documentation, you must annotate the @AuthorInfo&lt;br/&gt;definition with the &lt;strong&gt;@Documented&lt;/strong&gt; annotation.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#predefined-annotation-types&quot; name=&quot;predefined-annotation-types&quot;&gt;&lt;/a&gt;Predefined Annotation Types&lt;/h2&gt;
&lt;p&gt;Annotations that apply to other annotations are called meta-annotations. There are several meta-annotation types defined in java.lang.annotation.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#retention&quot; name=&quot;retention&quot;&gt;&lt;/a&gt;@Retention&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;@Retention annotation specifies how the marked annotation is stored:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;RetentionPolicy.SOURCE – The marked annotation is retained only in the source level and is ignored by the compiler.&lt;/li&gt;
  &lt;li&gt;RetentionPolicy.CLASS – The marked annotation is retained by the compiler at compile time, but is ignored by the Java Virtual Machine (JVM).&lt;/li&gt;
  &lt;li&gt;RetentionPolicy.RUNTIME – The marked annotation is retained by the JVM so it can be used by the runtime environment.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a href=&quot;#target&quot; name=&quot;target&quot;&gt;&lt;/a&gt;@Target&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;@Target annotation marks another annotation to restrict what kind of Java elements the annotation can be applied to.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;ElementType.ANNOTATION_TYPE can be applied to an annotation type.&lt;/li&gt;
  &lt;li&gt;ElementType.CONSTRUCTOR can be applied to a constructor.&lt;/li&gt;
  &lt;li&gt;ElementType.FIELD can be applied to a field or property.&lt;/li&gt;
  &lt;li&gt;ElementType.LOCAL_VARIABLE can be applied to a local variable.&lt;/li&gt;
  &lt;li&gt;ElementType.METHOD can be applied to a method-level annotation.&lt;/li&gt;
  &lt;li&gt;ElementType.PACKAGE can be applied to a package declaration.&lt;/li&gt;
  &lt;li&gt;ElementType.PARAMETER can be applied to the parameters of a method.&lt;/li&gt;
  &lt;li&gt;ElementType.TYPE can be applied to any element of a class.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#type-annotations-and-pluggable-type-systems&quot; name=&quot;type-annotations-and-pluggable-type-systems&quot;&gt;&lt;/a&gt;Type Annotations and Pluggable Type Systems&lt;/h2&gt;
&lt;p&gt;Type annotations were created to support improved analysis of Java programs way of ensuring stronger type checking.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://types.cs.washington.edu/checker-framework/&quot;&gt;checker-framework&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Spring Boot</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-19-springboot.md</link>
      <description>&lt;h2&gt;&lt;a href=&quot;#spring-boot&quot; name=&quot;spring-boot&quot;&gt;&lt;/a&gt;Spring Boot&lt;/h2&gt;
&lt;p&gt;Takes an opinionated view of building production-ready Spring applications.&lt;br/&gt;Spring Boot favors convention over configuration and is designed to get you up and running as quickly as possible.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://projects.spring.io/spring-boot/&quot;&gt;Spring Boot&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#you-need&quot; name=&quot;you-need&quot;&gt;&lt;/a&gt;You need&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;jdk1.8 or later;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Maven 3.0+&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;create&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;/src/main/java/com/ryo/controller/HelloWorld.java&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

/**
 * Created by houbinbin on 16/6/19.
 */
@RestController
@RequestMapping(&amp;quot;hello&amp;quot;)
public class HelloWorld {
    @RequestMapping(method = RequestMethod.GET)
    public String hello() {
        return &amp;quot;SUCCESS&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;/src/main/java/com/ryo/Application.java&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

/**
 * Created by houbinbin on 16/6/19.
 */
@SpringBootApplication
public class Application {
    public static void main(String args[]) {
        SpringApplication.run(Application.class, args);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;pom.xml&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;springboot&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0.0&amp;lt;/version&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;!--spring-boot--&amp;gt;
        &amp;lt;spring-boot.version&amp;gt;1.3.5.RELEASE&amp;lt;/spring-boot.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!--spring-boot--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;


    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;build &amp;amp; run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;$ mvn clean install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then, use&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;maven projects -&amp;gt; Plugins -&amp;gt; spring-boot -&amp;gt; spring-boot:run
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to start spring-boot.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;console run info&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;  .   ____          _            __ _ _
 /\\ / ___&amp;#39;_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | &amp;#39;_ | &amp;#39;_| | &amp;#39;_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  &amp;#39;  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v1.3.5.RELEASE)

2016-06-19 17:13:05.025  INFO 7555 --- [           main] com.ryo.Application                      : Starting Application on houbinbindeMacBook-Pro.local with PID 7555 (/Users/houbinbin/IT/code/springboot/target/classes started by houbinbin in /Users/houbinbin/IT/code/springboot)
2016-06-19 17:13:05.028  INFO 7555 --- [           main] com.ryo.Application                      : No active profile set, falling back to default profiles: default
2016-06-19 17:13:05.135  INFO 7555 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@29724e51: startup date [Sun Jun 19 17:13:05 CST 2016]; root of context hierarchy
2016-06-19 17:13:06.088  INFO 7555 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2016-06-19 17:13:06.098  INFO 7555 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2016-06-19 17:13:06.099  INFO 7555 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.33
2016-06-19 17:13:06.162  INFO 7555 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2016-06-19 17:13:06.163  INFO 7555 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1030 ms
2016-06-19 17:13:06.351  INFO 7555 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &amp;#39;dispatcherServlet&amp;#39; to [/]
2016-06-19 17:13:06.354  INFO 7555 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &amp;#39;characterEncodingFilter&amp;#39; to: [/*]
2016-06-19 17:13:06.354  INFO 7555 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &amp;#39;hiddenHttpMethodFilter&amp;#39; to: [/*]
2016-06-19 17:13:06.354  INFO 7555 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &amp;#39;httpPutFormContentFilter&amp;#39; to: [/*]
2016-06-19 17:13:06.354  INFO 7555 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &amp;#39;requestContextFilter&amp;#39; to: [/*]
2016-06-19 17:13:06.573  INFO 7555 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@29724e51: startup date [Sun Jun 19 17:13:05 CST 2016]; root of context hierarchy
2016-06-19 17:13:06.621  INFO 7555 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &amp;quot;{[/hello],methods=[GET]}&amp;quot; onto public java.lang.String com.ryo.controller.HelloWorld.hello()
2016-06-19 17:13:06.623  INFO 7555 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &amp;quot;{[/error]}&amp;quot; onto public org.springframework.http.ResponseEntity&amp;lt;java.util.Map&amp;lt;java.lang.String, java.lang.Object&amp;gt;&amp;gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2016-06-19 17:13:06.623  INFO 7555 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &amp;quot;{[/error],produces=[text/html]}&amp;quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-06-19 17:13:06.641  INFO 7555 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2016-06-19 17:13:06.641  INFO 7555 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2016-06-19 17:13:06.667  INFO 7555 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2016-06-19 17:13:06.736  INFO 7555 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2016-06-19 17:13:06.783  INFO 7555 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2016-06-19 17:13:06.786  INFO 7555 --- [           main] com.ryo.Application                      : Started Application in 1.953 seconds (JVM running for 3.939)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit in browser, input&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;http://localhost:8080/hello
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;SUCCESS
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Spring Web MVC</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-19-springmvc.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#web-mvc&quot; name=&quot;web-mvc&quot;&gt;&lt;/a&gt;Web MVC&lt;/h1&gt;
&lt;p&gt;The Spring Web model-view-controller (MVC) framework is designed around a &lt;code&gt;DispatcherServlet&lt;/code&gt; that dispatches requests to handlers,&lt;br/&gt;with configurable handler mappings, view resolution, locale, time zone and theme resolution as well as support for uploading files.&lt;br/&gt;The default handler is based on the &lt;code&gt;@Controller&lt;/code&gt; and &lt;code&gt;@RequestMapping&lt;/code&gt; annotations, offering a wide range of flexible handling methods.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc&quot;&gt;Web MVC&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-06-19-spring-mvc.png&quot; alt=&quot;mvc&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;p&gt;The src files tree.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;|____main
| |____java
| | |____com
| | | |____ryo
| | | | |____controller
| | | | | |____HelloController.java
| |____resources
| | |____app-mvc.xml
| | |____app.xml
| | |____log4j2.xml
| |____webapp
| | |____WEB-INF
| | | |____web.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;springmvc&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0.0&amp;lt;/version&amp;gt;
    &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
        &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;
        &amp;lt;maven-compiler-plugin.version&amp;gt;3.3&amp;lt;/maven-compiler-plugin.version&amp;gt;

        &amp;lt;!-- Spring --&amp;gt;
        &amp;lt;spring.version&amp;gt;4.2.6.RELEASE&amp;lt;/spring.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!--spring mvc--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.2.6.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-webmvc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.2.6.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

    &amp;lt;/dependencies&amp;gt;


    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;port&amp;gt;8080&amp;lt;/port&amp;gt;
                    &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                    &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                    &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-compiler-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;1.8&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;1.8&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;web.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;web-app xmlns=&amp;quot;http://java.sun.com/xml/ns/javaee&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;
            http://java.sun.com/xml/ns/javaee
            http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&amp;quot;
         version=&amp;quot;3.0&amp;quot;&amp;gt;

    &amp;lt;!--装入spring配置文件--&amp;gt;
    &amp;lt;context-param&amp;gt;
        &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
        &amp;lt;param-value&amp;gt;classpath:app.xml&amp;lt;/param-value&amp;gt;
    &amp;lt;/context-param&amp;gt;

    &amp;lt;!-- 以Listener方式启动spring --&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-class&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-class&amp;gt;
    &amp;lt;/listener&amp;gt;

    &amp;lt;!-- 前端控制器的配置 --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;springmvc&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;org.springframework.web.servlet.DispatcherServlet&amp;lt;/servlet-class&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;classpath:app-mvc.xml&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
    &amp;lt;/servlet&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;springmvc&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;
&amp;lt;/web-app&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;app.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;

    &amp;lt;import resource=&amp;quot;app-mvc.xml&amp;quot;/&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;app-mvc.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xmlns:mvc=&amp;quot;http://www.springframework.org/schema/mvc&amp;quot;
       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
       xsi:schemaLocation=&amp;quot;
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd&amp;quot;&amp;gt;

    &amp;lt;!--扫描@Controller注解--&amp;gt;
    &amp;lt;context:component-scan base-package=&amp;quot;com.ryo.controller&amp;quot;&amp;gt;
        &amp;lt;context:include-filter type=&amp;quot;annotation&amp;quot; expression=&amp;quot;org.springframework.stereotype.Controller&amp;quot;/&amp;gt;
        &amp;lt;context:include-filter type=&amp;quot;annotation&amp;quot; expression=&amp;quot;org.springframework.web.bind.annotation.ControllerAdvice&amp;quot;/&amp;gt;
    &amp;lt;/context:component-scan&amp;gt;

    &amp;lt;mvc:annotation-driven/&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;HelloController.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

/**
 * Created by houbinbin on 16/6/19.
 */
@Controller
@RequestMapping(&amp;quot;hello&amp;quot;)
public class HelloController {

    @RequestMapping(method = RequestMethod.GET)
    @ResponseBody
    public String hello() {
        return &amp;quot;hello world&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;http://localhost:8080/hello
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;hello world
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#controller-log&quot; name=&quot;controller-log&quot;&gt;&lt;/a&gt;Controller log&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/webapp.html&quot;&gt;web&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;!--log4j--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j-web&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define controller call interceptor.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.interceptor;

import com.alibaba.fastjson.JSON;
import com.ryo.constants.SessionKeys;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.*;
import org.springframework.stereotype.Component;
import org.springframework.web.context.request.RequestContextHolder;
import org.springframework.web.context.request.ServletRequestAttributes;

import javax.servlet.http.HttpServletRequest;
import java.util.HashMap;
import java.util.Map;

/**
 * Created by houbinbin on 16/6/30.
 * - Controller 访问日志
 */
@Component
@Aspect
public class ControllerLogInterceptor {
    static Logger logger = LogManager.getLogger();

    private String requestPath = null; // 请求地址
    private String userName = null; // 用户名
    private Map&amp;lt;?, ?&amp;gt; inputParamMap = null; // 传入参数
    private Map&amp;lt;String, Object&amp;gt; outputParamMap = null; // 存放输出结果


    @Pointcut(&amp;quot;execution(public * com.ryo.controller..*.*(..))&amp;quot;)
    public void myPointcut() {
    }

    @Before(&amp;quot;myPointcut()&amp;quot;)
    public void start() {
    }

    @After(&amp;quot;myPointcut()&amp;quot;)
    public void end() {
        printLog();
    }

    @Around(&amp;quot;myPointcut()&amp;quot;)
    public Object around(ProceedingJoinPoint point) throws Throwable {
        /**
         * 1.获取request信息
         * 2.根据request获取session
         * 3.从session中取出登录用户信息
         */
        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();

        // 从session中获取用户信息
        userName = (String) request.getSession().getAttribute(SessionKeys.SESSION_USERNAME);

        // 获取输入参数
        inputParamMap = request.getParameterMap();

        // 获取请求地址
        requestPath = request.getRequestURI();

        // 执行完方法的返回值：调用proceed()方法，就会触发切入点方法执行
        outputParamMap = new HashMap&amp;lt;String, Object&amp;gt;();
        Object result = point.proceed();    // result的值就是被拦截方法的返回值
        outputParamMap.put(&amp;quot;result&amp;quot;, result);

        return result;
    }

    private void printLog() {
        logger.info(&amp;quot;USER：&amp;quot; + userName
                + &amp;quot;  URL：&amp;quot; + requestPath + &amp;quot;\n&amp;quot;
                + &amp;quot;Param：&amp;quot; + JSON.toJSON(inputParamMap) + &amp;quot;\n&amp;quot; + &amp;quot;Result：&amp;quot; + JSON.toJSON(outputParamMap)+&amp;quot;\n&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Redis</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-22-redis.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#redis&quot; name=&quot;redis&quot;&gt;&lt;/a&gt;Redis&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://redis.io/&quot;&gt;Redis&lt;/a&gt; is an open source (BSD licensed), in-memory data structure store, used as database, cache and message broker.&lt;br/&gt;It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs&lt;br/&gt;and geospatial indexes with radius queries. &lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.redis.cn/&quot;&gt;zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;p&gt;1、Download and Install&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ wget http://download.redis.io/releases/redis-3.0.6.tar.gz
$ tar xzf redis-3.0.6.tar.gz
$ mv redis-3.0.6 redis
$ cd redis
$ make
$ make test
$ make install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Edit &lt;code&gt;redis.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Open the &lt;code&gt;redis.conf&lt;/code&gt; file, and find this line &lt;code&gt;dir ./&lt;/code&gt;, set it the path you want redis to save data. Here is my&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dir /Users/houbinbin/redis/redis_data

bind 127.0.0.1      //本地访问
requirepass 123456  //访问密码
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、 Start redis-server&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   src/redis-server redis.conf

$   src/redis-server redis.conf &amp;amp;   //后台-配置文件运行
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after start you can see&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:redis-3.2.3 houbinbin$ 17137:M 23 Oct 09:46:21.924 * Increased maximum number of open files to 10032 (it was originally set to 256).
                _._
           _.-``__ &amp;#39;&amp;#39;-._
      _.-``    `.  `_.  &amp;#39;&amp;#39;-._           Redis 3.2.3 (00000000/0) 64 bit
  .-`` .-```.  ```\/    _.,_ &amp;#39;&amp;#39;-._
 (    &amp;#39;      ,       .-`  | `,    )     Running in standalone mode
 |`-._`-...-` __...-.``-._|&amp;#39;` _.-&amp;#39;|     Port: 6379
 |    `-._   `._    /     _.-&amp;#39;    |     PID: 17137
  `-._    `-._  `-./  _.-&amp;#39;    _.-&amp;#39;
 |`-._`-._    `-.__.-&amp;#39;    _.-&amp;#39;_.-&amp;#39;|
 |    `-._`-._        _.-&amp;#39;_.-&amp;#39;    |           http://redis.io
  `-._    `-._`-.__.-&amp;#39;_.-&amp;#39;    _.-&amp;#39;
 |`-._`-._    `-.__.-&amp;#39;    _.-&amp;#39;_.-&amp;#39;|
 |    `-._`-._        _.-&amp;#39;_.-&amp;#39;    |
  `-._    `-._`-.__.-&amp;#39;_.-&amp;#39;    _.-&amp;#39;
      `-._    `-.__.-&amp;#39;    _.-&amp;#39;
          `-._        _.-&amp;#39;
              `-.__.-&amp;#39;

17137:M 23 Oct 09:46:21.929 # Server started, Redis version 3.2.3
17137:M 23 Oct 09:46:21.930 * The server is now ready to accept connections on port 6379
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;test is connect success&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   redis-cli -a 123456 ping

PONG
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;redis-cli&lt;/strong&gt; Could not connect to Redis at 127.0.0.1:6379: Connection refused&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   redis-server /Users/houbinbin/redis/redis-3.2.3/redis.conf
$   redis-cli
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、 Test connection&lt;/p&gt;
&lt;p&gt;Use redis-client to connect to redis-server.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   cd /Users/houbinbin/redis/redis-3.0.6
$   src/redis-cli -a 123456
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;127.0.0.1:6379&amp;gt; set houbinbin hi
OK
127.0.0.1:6379&amp;gt; get houbinbin
&amp;quot;hi&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5、 Shutdown redis-server&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.mamicode.com/info-detail-1610601.html&quot;&gt;(error) NOAUTH Authentication required.&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;无奈之下,杀进程。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;```

常规关闭方式:


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ 127.0.0.1:6379&amp;gt; shutdown&lt;br/&gt;not connected&amp;gt;&lt;/p&gt;
&lt;p&gt;$ redis-cli -a 123456 shutdown //关闭后台&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;6、 Set password

&amp;gt; [set](http://blog.csdn.net/zyz511919766/article/details/42268219)

find ```#requirepass foobared``` in file ```redis.conf```, change like this

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;requirepass redis&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;7、 Uninstall redis

- remove redis-* package under ```/usr/local/bin```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo rm -rf redis-*&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;# Install in windows

Redis is not supported on Windows by the official website. So, you can use **Cygwin**  to get that Linux feeling on Windows.

&amp;gt; [install](https://cygwin.com/install.html)

1、Download

Download the [setup-x86_64.exe](https://cygwin.com/setup-x86_64.exe) and run it. 

Next, Next ... [How zh_CN](http://www.cygwin.cn/site/install/)

Util you meet this.

![setting](http://houbb.github.io/static/app/img/2016-06-22-Cygwin.png)

We need **gcc** and **make** under the Devel, click the **Skip** and choose the right version to install.

- gcc

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ C complier upgrade helper &amp;ndash;not found&lt;/p&gt;
&lt;p&gt;$ gcc-core&lt;/p&gt;
&lt;p&gt;$ gcc-g++&lt;/p&gt;
&lt;p&gt;$ gdb: The GUN Debugger&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- make 

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ make: The GUN version of &amp;lsquo;make&amp;rsquo; utility&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;The process of install will cost a lot time. 

One hour later.

2、 Check

Let&amp;#39;s check the compile environment.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ gcc -v&lt;/p&gt;
&lt;p&gt;使用内建 specs。&lt;br/&gt;COLLECT_GCC=gcc&lt;br/&gt;COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-cygwin/5.4.0/lto-wrapper.exe&lt;br/&gt;目标：x86_64-pc-cygwin&lt;br/&gt;配置为：&amp;hellip;&lt;br/&gt;线程模型：posix&lt;br/&gt;gcc 版本 5.4.0 (GCC)&lt;/p&gt;
&lt;p&gt;$ make -v&lt;/p&gt;
&lt;p&gt;GNU Make 4.2.1&lt;br/&gt;为 x86_64-unknown-cygwin 编译&lt;br/&gt;Copyright (C) 1988-2016 Free Software Foundation, Inc.&lt;br/&gt;许可证：GPLv3+：GNU 通用公共许可证第 3 版或更新版本&lt;a href=&quot;http://gnu.org/licenses/gpl.html&quot;&gt;http://gnu.org/licenses/gpl.html&lt;/a&gt;。&lt;br/&gt;本软件是自由软件：您可以自由修改和重新发布它。&lt;br/&gt;在法律允许的范围内没有其他保证。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;3、 Edit File

- redis.h

Open the **redis.h** under the path of {YourRedisPath}/src.
 
add these code at the first line.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#ifndef SA_ONSTACK&lt;/p&gt;
&lt;p&gt;#define SA_ONSTACK 0&lt;/p&gt;
&lt;p&gt;#endif&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- object.c

Open the **object.c** under the path of {YourRedisPath}/src.
 
add these code at the first line.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#define strtold(a,b) ((long double)strtold((a), (b)))&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;But, the **redis-3.2.1** seems has no need to edit.
 
4、 Install

Open your redis source package.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cd redis&lt;/p&gt;
&lt;p&gt;$ ls&lt;br/&gt;00-RELEASENOTES COPYING Makefile redis.conf runtest-sentinel tests&lt;br/&gt;BUGS deps MANIFESTO runtest sentinel.conf utils&lt;br/&gt;CONTRIBUTING INSTALL README.md runtest-cluster src&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- compile the depends jar.
 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cd deps&lt;br/&gt;$ make lua hiredis linenoise&lt;/p&gt;
&lt;p&gt;(cd hiredis &amp;amp;&amp;amp; make clean) &amp;gt; /dev/null || true&lt;br/&gt;(cd linenoise &amp;amp;&amp;amp; make clean) &amp;gt; /dev/null || true&lt;br/&gt;(cd lua &amp;amp;&amp;amp; make clean) &amp;gt; /dev/null || true&lt;br/&gt;(cd geohash-int &amp;amp;&amp;amp; make clean) &amp;gt; /dev/null || true&lt;br/&gt;(cd jemalloc &amp;amp;&amp;amp; [ -f Makefile ] &amp;amp;&amp;amp; make distclean) &amp;gt; /dev/null || true&lt;br/&gt;(rm -f .make-*)&lt;br/&gt;(echo &amp;quot;&amp;ldquo; &amp;gt; .make-cflags)&lt;br/&gt;(echo &amp;rdquo;&amp;ldquo; &amp;gt; .make-ldflags)&lt;br/&gt;MAKE lua&lt;br/&gt;cd lua/src &amp;amp;&amp;amp; make all CFLAGS=&amp;rdquo;-O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; &amp;ldquo; MYLDFLAGS=&amp;rdquo;&amp;ldquo; AR=&amp;rdquo;ar rcu&amp;quot;&lt;br/&gt;make[1]: 进入目录“/cygdrive/d/redis/deps/lua/src”&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; -c -o lapi.o lapi.c&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; -c -o lcode.o lcode.c&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; -c -o ldebug.o ldebug.c&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;rsquo; -c -o ldo.o ldo.c&lt;br/&gt;ldo.c: 在函数‘f_parser’中:&lt;br/&gt;ldo.c:496:7: 警告：未使用的变量‘c’ [-Wunused-variable]&lt;br/&gt; int c = luaZ_lookahead(p-&amp;gt;z);&lt;br/&gt; ^&lt;br/&gt;&amp;hellip;&lt;/p&gt;
&lt;p&gt;ar rcu liblua.a lapi.o lcode.o ldebug.o ldo.o ldump.o lfunc.o lgc.o llex.o lmem.o lobject.o lopcodes.o lparser.o lstate.o lstring.o ltable.o ltm.o lundump.o lvm.o lzio.o strbuf.o fpconv.o lauxlib.o lbaselib.o ldblib.o liolib.o lmathlib.o loslib.o ltablib.o lstrlib.o loadlib.o linit.o lua_cjson.o lua_struct.o lua_cmsgpack.o lua_bit.o # DLL needs all object files&lt;br/&gt;ranlib liblua.a&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; -c -o lua.o lua.c&lt;br/&gt;cc -o lua lua.o liblua.a -lm&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;lsquo; -c -o luac.o luac.c&lt;br/&gt;cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&amp;rsquo;&amp;rsquo; -c -o print.o print.c&lt;br/&gt;cc -o luac luac.o print.o liblua.a -lm&lt;br/&gt;make[1]: 离开目录“/cygdrive/d/redis/deps/lua/src”&lt;br/&gt;make: *** 没有规则可制作目标“hierdis”。 停止。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- compile the source

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cd ..&lt;br/&gt;$ make &amp;amp;&amp;amp; make install&lt;/p&gt;
&lt;p&gt;cd src &amp;amp;&amp;amp; make all&lt;br/&gt;make[1]: 进入目录“/cygdrive/d/redis/src”&lt;br/&gt;rm -rf redis-server redis-sentinel redis-cli redis-benchmark redis-check-rdb redis-check-aof *.o *.gcda *.gcno *.gcov redis.info lcov-html&lt;br/&gt;&amp;hellip;&lt;/p&gt;
&lt;p&gt;MAKE hiredis&lt;br/&gt;cd hiredis &amp;amp;&amp;amp; make static&lt;br/&gt;make[3]: 进入目录“/cygdrive/d/redis/deps/hiredis”&lt;br/&gt;cc -std=c99 -pedantic -c -O3 -fPIC -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb net.c&lt;br/&gt;net.c:1:0: 警告：-fPIC 在目标机上被忽略 (所有代码都是与位置无关的)&lt;br/&gt; /* Extracted from anet.c to work properly with Hiredis error reporting.&lt;br/&gt; ^&lt;br/&gt;net.c: 在函数‘redisKeepAlive’中:&lt;br/&gt;net.c:143:37: 错误：‘TCP_KEEPIDLE’未声明(在此函数内第一次使用)&lt;br/&gt; if (setsockopt(fd, IPPROTO_TCP, TCP_KEEPIDLE, &amp;amp;val, sizeof(val)) &amp;lt; 0) {&lt;br/&gt; ^&lt;br/&gt;net.c:143:37: 附注：每个未声明的标识符在其出现的函数内只报告一次&lt;br/&gt;net.c:150:37: 错误：‘TCP_KEEPINTVL’未声明(在此函数内第一次使用)&lt;br/&gt; if (setsockopt(fd, IPPROTO_TCP, TCP_KEEPINTVL, &amp;amp;val, sizeof(val)) &amp;lt; 0) {&lt;br/&gt; ^&lt;br/&gt;net.c:156:37: 错误：‘TCP_KEEPCNT’未声明(在此函数内第一次使用)&lt;br/&gt; if (setsockopt(fd, IPPROTO_TCP, TCP_KEEPCNT, &amp;amp;val, sizeof(val)) &amp;lt; 0) {&lt;br/&gt; ^&lt;br/&gt;make[3]: *** [Makefile:118：net.o] 错误 1&lt;br/&gt;make[3]: 离开目录“/cygdrive/d/redis/deps/hiredis”&lt;br/&gt;make[2]: *** [Makefile:47：hiredis] 错误 2&lt;br/&gt;make[2]: 离开目录“/cygdrive/d/redis/deps”&lt;br/&gt;make[1]: [Makefile:156：persist-settings] 错误 2 (已忽略）&lt;br/&gt; CC adlist.o&lt;br/&gt; CC quicklist.o&lt;br/&gt; CC ae.o&lt;br/&gt;In file included from ae.c:58:0:&lt;br/&gt;&amp;hellip;&lt;br/&gt; ^&lt;br/&gt;make[1]: *** [Makefile:201：ae.o] 错误 1&lt;br/&gt;make[1]: 离开目录“/cygdrive/d/redis/src”&lt;br/&gt;make: *** [Makefile:6：all] 错误 2&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Jedis

- pom.xml

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&amp;lt;project xmlns=&amp;ldquo;&lt;a href=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;http://maven.apache.org/POM/4.0.0&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;http://maven.apache.org/POM/4.0.0&lt;/a&gt; &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/a&gt;&lt;br/&gt; 4.0.0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;redis&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

&amp;lt;properties&amp;gt;
    &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
    &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
    &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;
    &amp;lt;maven-compiler-plugin.version&amp;gt;3.3&amp;lt;/maven-compiler-plugin.version&amp;gt;
    &amp;lt;maven-compiler-plugin.jdk.version&amp;gt;1.8&amp;lt;/maven-compiler-plugin.jdk.version&amp;gt;

    &amp;lt;log4j.version&amp;gt;2.6&amp;lt;/log4j.version&amp;gt;
&amp;lt;/properties&amp;gt;

&amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;4.9&amp;lt;/version&amp;gt;
        &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;redis.clients&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;jedis&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.8.1&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;commons-pool&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;commons-pool&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;1.6&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;

&amp;lt;build&amp;gt;
    &amp;lt;plugins&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
            &amp;lt;configuration&amp;gt;
                &amp;lt;port&amp;gt;8080&amp;lt;/port&amp;gt;
                &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
            &amp;lt;/configuration&amp;gt;
        &amp;lt;/plugin&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;configuration&amp;gt;
                &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
            &amp;lt;/configuration&amp;gt;
        &amp;lt;/plugin&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${maven-compiler-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;configuration&amp;gt;
                &amp;lt;source&amp;gt;${maven-compiler-plugin.jdk.version}&amp;lt;/source&amp;gt;
                &amp;lt;target&amp;gt;${maven-compiler-plugin.jdk.version}&amp;lt;/target&amp;gt;
            &amp;lt;/configuration&amp;gt;
        &amp;lt;/plugin&amp;gt;
    &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- RedisTest.java

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;package com.ryo.redis;&lt;/p&gt;
&lt;p&gt;import junit.framework.TestCase;&lt;br/&gt;import org.junit.Before;&lt;br/&gt;import org.junit.Test;&lt;br/&gt;import redis.clients.jedis.Jedis;&lt;/p&gt;
&lt;p&gt;import java.util.HashMap;&lt;br/&gt;import java.util.Map;&lt;/p&gt;
&lt;p&gt;/**&lt;br/&gt; * Created by houbinbin on 16/7/3.&lt;br/&gt; */&lt;br/&gt;public class RedisTest extends TestCase {&lt;br/&gt; private Jedis jedis;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@Before
public void setUp() {
    jedis = new Jedis(&amp;quot;127.0.0.1&amp;quot;, 6379);
    jedis.auth(&amp;quot;redis&amp;quot;);
}

/**
 * save String
 */
@Test
public void testSaveString() {
    jedis.set(&amp;quot;name&amp;quot;, &amp;quot;ryo&amp;quot;);
    assertEquals(&amp;quot;ryo&amp;quot;, jedis.get(&amp;quot;name&amp;quot;));

    jedis.append(&amp;quot;name&amp;quot;, &amp;quot; is whose name?&amp;quot;);
    assertEquals(&amp;quot;ryo is whose name?&amp;quot;, jedis.get(&amp;quot;name&amp;quot;));

    jedis.del(&amp;quot;name&amp;quot;);
    assertEquals(null, jedis.get(&amp;quot;name&amp;quot;));

    jedis.mset(&amp;quot;name&amp;quot;, &amp;quot;ryo&amp;quot;, &amp;quot;age&amp;quot;, &amp;quot;22&amp;quot;);
    assertEquals(&amp;quot;ryo&amp;quot;, jedis.get(&amp;quot;name&amp;quot;));

    jedis.incr(&amp;quot;age&amp;quot;);
    assertEquals(&amp;quot;23&amp;quot;, jedis.get(&amp;quot;age&amp;quot;));
}

/**
 * Map
 */
@Test
public void testMap() {
    Map&amp;lt;String, String&amp;gt; map = new HashMap&amp;lt;&amp;gt;();
    map.put(&amp;quot;name&amp;quot;, &amp;quot;ryo&amp;quot;);
    map.put(&amp;quot;age&amp;quot;, &amp;quot;22&amp;quot;);

    jedis.hmset(&amp;quot;map&amp;quot;, map);
    assertEquals(&amp;quot;[ryo, 22]&amp;quot;, jedis.hmget(&amp;quot;map&amp;quot;, &amp;quot;name&amp;quot;, &amp;quot;age&amp;quot;).toString());
    assertEquals(&amp;quot;2&amp;quot;, jedis.hlen(&amp;quot;map&amp;quot;).toString());
    assertEquals(&amp;quot;true&amp;quot;, jedis.exists(&amp;quot;map&amp;quot;).toString());
    assertEquals(&amp;quot;[name, age]&amp;quot;, jedis.hkeys(&amp;quot;map&amp;quot;).toString());
    assertEquals(&amp;quot;[ryo, 22]&amp;quot;, jedis.hvals(&amp;quot;map&amp;quot;).toString());

    jedis.hdel(&amp;quot;map&amp;quot;, &amp;quot;name&amp;quot;);
    assertEquals(&amp;quot;1&amp;quot;, jedis.hlen(&amp;quot;map&amp;quot;).toString());
}

/**
 * List
 */
@Test
public void testList() {
    jedis.del(&amp;quot;list&amp;quot;);

    jedis.lpush(&amp;quot;list&amp;quot;, &amp;quot;apple&amp;quot;);
    jedis.lpush(&amp;quot;list&amp;quot;, &amp;quot;eat&amp;quot;);
    jedis.lpush(&amp;quot;list&amp;quot;, &amp;quot;ryo&amp;quot;);

    assertEquals(&amp;quot;apple&amp;quot;, jedis.lindex(&amp;quot;list&amp;quot;, 2));
    jedis.lset(&amp;quot;list&amp;quot;, 2, &amp;quot;orange&amp;quot;);

    assertEquals(&amp;quot;[ryo, eat, orange]&amp;quot;, jedis.lrange(&amp;quot;list&amp;quot;, 0, -1).toString());
}

/**
 * Set
 */
@Test
public void testSet() {
    jedis.del(&amp;quot;name&amp;quot;);

    jedis.sadd(&amp;quot;name&amp;quot;, &amp;quot;ryo&amp;quot;);
    jedis.sadd(&amp;quot;name&amp;quot;, &amp;quot;apple&amp;quot;);
    jedis.sadd(&amp;quot;name&amp;quot;, &amp;quot;orange&amp;quot;);

    assertEquals(&amp;quot;[orange, apple, ryo]&amp;quot;, jedis.smembers(&amp;quot;name&amp;quot;).toString());    //show all members.

    assertEquals(&amp;quot;3&amp;quot;, jedis.scard(&amp;quot;name&amp;quot;).toString()); //get number

    jedis.srem(&amp;quot;name&amp;quot;, &amp;quot;orange&amp;quot;);   //remove
    assertEquals(&amp;quot;[apple, ryo]&amp;quot;, jedis.smembers(&amp;quot;name&amp;quot;).toString());

    assertEquals(&amp;quot;false&amp;quot;, jedis.sismember(&amp;quot;name&amp;quot;, &amp;quot;banana&amp;quot;).toString());

    //get the random result, so assert may be false.
    assertEquals(&amp;quot;apple&amp;quot;, jedis.srandmember(&amp;quot;name&amp;quot;));
    assertEquals(&amp;quot;[ryo, apple]&amp;quot;, jedis.srandmember(&amp;quot;name&amp;quot;, 2).toString());
}

/**
 * sort
 */
@Test
public void testSort() {
    jedis.del(&amp;quot;sort&amp;quot;);

    jedis.lpush(&amp;quot;sort&amp;quot;, &amp;quot;3&amp;quot;);
    jedis.lpush(&amp;quot;sort&amp;quot;, &amp;quot;5&amp;quot;);
    jedis.lpush(&amp;quot;sort&amp;quot;, &amp;quot;2&amp;quot;);
    jedis.lpush(&amp;quot;sort&amp;quot;, &amp;quot;7&amp;quot;);

    assertEquals(&amp;quot;[7, 2, 5, 3]&amp;quot;, jedis.lrange(&amp;quot;sort&amp;quot;, 0, -1).toString());
    assertEquals(&amp;quot;[2, 3, 5, 7]&amp;quot;, jedis.sort(&amp;quot;sort&amp;quot;).toString());
    assertEquals(&amp;quot;[7, 2, 5, 3]&amp;quot;, jedis.lrange(&amp;quot;sort&amp;quot;, 0, -1).toString());
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;## Jedis pool

I try times, but always get an error.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;package com.ryo.util;&lt;/p&gt;
&lt;p&gt;import redis.clients.jedis.Jedis;&lt;br/&gt;import redis.clients.jedis.JedisPool;&lt;br/&gt;import redis.clients.jedis.JedisPoolConfig;&lt;/p&gt;
&lt;p&gt;/**&lt;br/&gt; * Created by houbinbin on 16/7/3.&lt;br/&gt; */&lt;br/&gt;public class RedisUtil {&lt;br/&gt; private RedisUtil() {&lt;br/&gt; }&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;private static final String ADDRESS = &amp;quot;127.0.0.1&amp;quot;;
private static final int PORT = 6397;
private static final String PASSWORD = &amp;quot;redis&amp;quot;;


//可用连接实例的最大数目，默认值为8；
//如果赋值为-1，则表示不限制；如果pool已经分配了maxActive个jedis实例，则此时pool的状态为exhausted(耗尽)。
private static final int MAX_TOTAL = 512;

//控制一个pool最多有多少个状态为idle(空闲的)的jedis实例，默认值也是8。
private static final int MAX_IDLE = 100;

//等待可用连接的最大时间，单位毫秒，默认值为-1，表示永不超时。如果超过等待时间，则直接抛出JedisConnectionException；
private static final int TIMEOUT = 10000;

//在borrow一个jedis实例时，是否提前进行validate操作；如果为true，则得到的jedis实例均是可用的；
private static final boolean TEST_ON_BORROW = true;

private static JedisPool jedisPool = null;

/**
 * 初始化Redis连接池
 */
static {
    try {
        if (jedisPool == null) {
            JedisPoolConfig config = new JedisPoolConfig();
            config.setMaxTotal(MAX_TOTAL);
            config.setMaxWaitMillis(TIMEOUT);
            config.setMaxIdle(MAX_IDLE);
            config.setTestOnBorrow(TEST_ON_BORROW);
            jedisPool = new JedisPool(config, ADDRESS, PORT, TIMEOUT, PASSWORD);
        }
    } catch (Exception e) {
        e.printStackTrace();
        System.out.println(&amp;quot;init redis pool failed!&amp;quot;);
    }
}

/**
 * 获取Jedis实例
 *
 * @return
 */
public synchronized static Jedis getJedis() {
    try {
        if (jedisPool != null) {
            Jedis resource = jedisPool.getResource();
            return resource;
        } else {
            return null;
        }
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    } finally {

    }
}

/**
 * 释放jedis资源
 *
 * @param jedis
 */
public static void returnResource(final Jedis jedis) {
    if (jedis != null) {
        jedisPool.returnResource(jedis);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Spring-Redis

&amp;gt; [基础知识](http://www.jianshu.com/p/f01ac0873c23)

No invasive spring and redis integration.

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;@CacheEvict``` triggers cache eviction&quot;&gt;&lt;br/&gt;```@CachePut``` updates the cache without interfering with the method execution

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;@CacheConfig``` shares some common cache-related settings at class-level&quot;&gt;&lt;br/&gt;&amp;gt; [spring cache](http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#cache-introduction)


简单说下```@Cacheable```和```@CachePut```区别:

(1) ```@Cacheable``` 如果缓存中有,直接去缓存,不执行方法。否则执行方法,并将结果放在缓存中。适用于如查询的情况。
(2) ```@CachePut``` 无论缓存有没有,方法会正常执行。并将返回的结果放在缓存之中。适用于更新情况,并将更新后的对象放在缓存中。

- File struct

You can get the project demo from [here](https://github.com/houbb/spring-redis) or ```git clone https://github.com/houbb/spring-redis```


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.&lt;br/&gt;|____main&lt;br/&gt;| |____java&lt;br/&gt;| | |____com&lt;br/&gt;| | | |____ryo&lt;br/&gt;| | | | |____cache&lt;br/&gt;| | | | | |____RedisCacheConfig.java&lt;br/&gt;| | | | |____domain&lt;br/&gt;| | | | | |____User.java&lt;br/&gt;| | | | |____service&lt;br/&gt;| | | | | |____impl&lt;br/&gt;| | | | | | |____UserServiceImpl.java&lt;br/&gt;| | | | | |____UserService.java&lt;br/&gt;| |____resources&lt;br/&gt;| | |____app.xml&lt;br/&gt;| | |____applicationContext.xml&lt;br/&gt;| | |____spring-redis.xml&lt;br/&gt;|____test&lt;br/&gt;| |____java&lt;br/&gt;| | |____com&lt;br/&gt;| | | |____ryo&lt;br/&gt;| | | | |____service&lt;br/&gt;| | | | | |____BaseTest.java&lt;br/&gt;| | | | | |____UserServiceTest.java&lt;br/&gt;|____pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```pom.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&amp;lt;project xmlns=&amp;ldquo;&lt;a href=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;http://maven.apache.org/POM/4.0.0&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;http://maven.apache.org/POM/4.0.0&lt;/a&gt; &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/a&gt;&lt;br/&gt; 4.0.0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;spring-redis&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

&amp;lt;description&amp;gt;spring integrate redis&amp;lt;/description&amp;gt;


&amp;lt;properties&amp;gt;
    &amp;lt;junit.version&amp;gt;4.9&amp;lt;/junit.version&amp;gt;
    &amp;lt;spring.version&amp;gt;4.2.6.RELEASE&amp;lt;/spring.version&amp;gt;
    &amp;lt;spring-data-redis.version&amp;gt;1.3.2.RELEASE&amp;lt;/spring-data-redis.version&amp;gt;
    &amp;lt;jedis.version&amp;gt;2.4.2&amp;lt;/jedis.version&amp;gt;
    &amp;lt;lombok.version&amp;gt;1.16.8&amp;lt;/lombok.version&amp;gt;
    &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;
&amp;lt;/properties&amp;gt;

&amp;lt;dependencies&amp;gt;
    &amp;lt;!--junit--&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${junit.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;!-- Spring --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-beans&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-context&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-context-support&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-aop&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-test&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;!-- redis --&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-data-redis&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${spring-data-redis.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;redis.clients&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;jedis&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${jedis.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;

    &amp;lt;!--lombok--&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.projectlombok&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;lombok&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${lombok.version}&amp;lt;/version&amp;gt;
        &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;

&amp;lt;build&amp;gt;
    &amp;lt;plugins&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;configuration&amp;gt;
                &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
            &amp;lt;/configuration&amp;gt;
        &amp;lt;/plugin&amp;gt;
    &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```User.java```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@Data&lt;br/&gt;public class User implements Serializable {&lt;br/&gt; private Long id;&lt;br/&gt; private String name;&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```UserServiceImpl.java```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@Service(&amp;ldquo;userService&amp;rdquo;)&lt;br/&gt;public class UserServiceImpl implements UserService {&lt;/p&gt;
&lt;p&gt;/**&lt;br/&gt; * @Cacheable triggers cache population&lt;br/&gt; */&lt;br/&gt; @Cacheable(value = &amp;ldquo;user&amp;rdquo;, key = &amp;ldquo;&amp;lsquo;user_id_&amp;rsquo; + #id&amp;rdquo;)&lt;br/&gt; public User getUser(Long id) {&lt;br/&gt; System.out.println(&amp;ldquo;get user&amp;rdquo;+id);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;User user = new User();
user.setId(id);
return user;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;@CacheEvict(value = &amp;ldquo;user&amp;rdquo;, key = &amp;ldquo;&amp;lsquo;user_id_&amp;rsquo;+#id&amp;rdquo;)&lt;br/&gt; public void deleteUser(Long id) {&lt;br/&gt; System.out.println(&amp;ldquo;delete user&amp;rdquo;+id);&lt;br/&gt; }&lt;/p&gt;
&lt;p&gt;/**&lt;br/&gt; * updated without interfering with the method execution&lt;br/&gt; * - 将返回的结果,放入缓存&lt;br/&gt; */&lt;br/&gt; @CachePut(value = &amp;ldquo;user&amp;rdquo;, key = &amp;ldquo;&amp;lsquo;user_id_&amp;rsquo;+#user.getId()&amp;rdquo;)&lt;br/&gt; public User updateUser(User user) {&lt;br/&gt; System.out.println(&amp;ldquo;update user&amp;rdquo;+user);&lt;br/&gt; user.setName(&amp;ldquo;cachePut update&amp;rdquo;);&lt;br/&gt; return user;&lt;br/&gt; }&lt;/p&gt;
&lt;p&gt;@CacheEvict(value = &amp;ldquo;user&amp;rdquo;, allEntries = true)&lt;br/&gt; public void clearCache() {&lt;br/&gt; System.out.println(&amp;ldquo;clear all user cache&amp;rdquo;);&lt;br/&gt; }&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```RedisCacheConfig.java```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@Configuration&lt;br/&gt;@EnableCaching&lt;br/&gt;public class RedisCacheConfig {&lt;/p&gt;
&lt;p&gt;private JedisConnectionFactory jedisConnectionFactory;&lt;/p&gt;
&lt;p&gt;private RedisTemplate redisTemplate;&lt;/p&gt;
&lt;p&gt;private RedisCacheManager redisCacheManager;&lt;/p&gt;
&lt;p&gt;public RedisCacheConfig(JedisConnectionFactory jedisConnectionFactory, RedisTemplate redisTemplate, RedisCacheManager redisCacheManager) {&lt;br/&gt; this.jedisConnectionFactory = jedisConnectionFactory;&lt;br/&gt; this.redisTemplate = redisTemplate;&lt;br/&gt; this.redisCacheManager = redisCacheManager;&lt;br/&gt; }&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```app.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&amp;lt;beans xmlns=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!--spring公共配置--&amp;gt;
&amp;lt;import resource=&amp;quot;applicationContext.xml&amp;quot;/&amp;gt;
&amp;lt;!--redis缓存配置--&amp;gt;
&amp;lt;import resource=&amp;quot;spring-redis.xml&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```applicationContext.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&amp;lt;beans xmlns=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:context=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/context&quot;&gt;http://www.springframework.org/schema/context&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://www.springframework.org/schema/context&quot;&gt;http://www.springframework.org/schema/context&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&quot;&gt;http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- Activates annotation-based bean configuration --&amp;gt;
&amp;lt;context:annotation-config/&amp;gt;

&amp;lt;!-- Scans for application @Components to deploy --&amp;gt;
&amp;lt;context:component-scan base-package=&amp;quot;com.ryo&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```spring-redis.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&amp;lt;beans xmlns=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:p=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/p&quot;&gt;http://www.springframework.org/schema/p&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;bean id=&amp;quot;poolConfig&amp;quot; class=&amp;quot;redis.clients.jedis.JedisPoolConfig&amp;quot;&amp;gt;
    &amp;lt;property name=&amp;quot;maxTotal&amp;quot; value=&amp;quot;1000&amp;quot;/&amp;gt;
    &amp;lt;property name=&amp;quot;minIdle&amp;quot; value=&amp;quot;50&amp;quot;/&amp;gt;
    &amp;lt;property name=&amp;quot;maxIdle&amp;quot; value=&amp;quot;100&amp;quot;/&amp;gt;
    &amp;lt;property name=&amp;quot;testOnBorrow&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
&amp;lt;/bean&amp;gt;

&amp;lt;bean id=&amp;quot;jedisConnectionFactory&amp;quot; class=&amp;quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&amp;quot;
      p:hostName=&amp;quot;127.0.0.1&amp;quot; p:port=&amp;quot;6379&amp;quot; p:password=&amp;quot;123456&amp;quot; p:poolConfig-ref=&amp;quot;poolConfig&amp;quot;/&amp;gt;

&amp;lt;bean id=&amp;quot;redisTemplate&amp;quot; class=&amp;quot;org.springframework.data.redis.core.RedisTemplate&amp;quot;&amp;gt;
    &amp;lt;property name=&amp;quot;connectionFactory&amp;quot; ref=&amp;quot;jedisConnectionFactory&amp;quot;/&amp;gt;
    &amp;lt;!-- 如果不配置Serializer，那么存储的时候智能使用String，如果用User类型存储，那么会提示错误User can&amp;#39;t cast to String！！！ --&amp;gt;
    &amp;lt;property name=&amp;quot;keySerializer&amp;quot;&amp;gt;
        &amp;lt;bean class=&amp;quot;org.springframework.data.redis.serializer.StringRedisSerializer&amp;quot; /&amp;gt;
    &amp;lt;/property&amp;gt;
    &amp;lt;property name=&amp;quot;valueSerializer&amp;quot;&amp;gt;
        &amp;lt;bean class=&amp;quot;org.springframework.data.redis.serializer.JdkSerializationRedisSerializer&amp;quot;/&amp;gt;
    &amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;

&amp;lt;bean id=&amp;quot;redisCacheManager&amp;quot; class=&amp;quot;org.springframework.data.redis.cache.RedisCacheManager&amp;quot;&amp;gt;
    &amp;lt;constructor-arg ref=&amp;quot;redisTemplate&amp;quot; /&amp;gt;
&amp;lt;/bean&amp;gt;

&amp;lt;!--自定义缓存配置--&amp;gt;
&amp;lt;bean id=&amp;quot;redisCacheConfig&amp;quot; class=&amp;quot;com.ryo.cache.RedisCacheConfig&amp;quot;&amp;gt;
    &amp;lt;constructor-arg ref=&amp;quot;jedisConnectionFactory&amp;quot; /&amp;gt;
    &amp;lt;constructor-arg ref=&amp;quot;redisTemplate&amp;quot; /&amp;gt;
    &amp;lt;constructor-arg ref=&amp;quot;redisCacheManager&amp;quot; /&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt;```&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#分布式&quot; name=&quot;分布式&quot;&gt;&lt;/a&gt;分布式&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;blog.csdn.net/a67474506/article/details/51418728&quot;&gt;blog&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Shiro</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-28-shiro.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#rbac&quot; name=&quot;rbac&quot;&gt;&lt;/a&gt;RBAC&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.katasoft.com/blog/2011/05/09/new-rbac-resource-based-access-control&quot;&gt;RBCA&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.thinksaas.cn/topics/0/150/150841.html&quot;&gt;RBCA zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#shiro&quot; name=&quot;shiro&quot;&gt;&lt;/a&gt;Shiro&lt;/h1&gt;
&lt;p&gt;Apache Shiro is a powerful and easy-to-use Java security framework that performs authentication, authorization, cryptography, and session management.&lt;br/&gt;With Shiro’s easy-to-understand API, you can quickly and easily secure any application,&lt;br/&gt;from the smallest mobile applications to the largest web and enterprise applications.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://shiro.apache.org/&quot;&gt;shiro&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://jinnianshilongnian.iteye.com/blog/2018398&quot;&gt;shiro zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Shiro provides the application security API to perform the following aspects:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Authentication - proving user identity, often called user ‘login’&lt;/li&gt;
  &lt;li&gt;Authorization - access control&lt;/li&gt;
  &lt;li&gt;Cryptography - protecting or hiding data from prying eyes&lt;/li&gt;
  &lt;li&gt;Session Management - per-user time-sensitive state&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br/&gt; Subject-&amp;gt;SecurityManager:&lt;br/&gt; SecurityManager-&amp;gt;Realms:&lt;br/&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello world&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;4.9&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;commons-logging&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;commons-logging&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;1.1.3&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.shiro&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;shiro-core&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;1.2.2&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;shiro.ini&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;create this file under the classpath.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;[users]
ryo=123
wang=123
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ShiroTest.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testHelloworld() {
    Factory&amp;lt;SecurityManager&amp;gt; factory =
            new IniSecurityManagerFactory(&amp;quot;classpath:shiro.ini&amp;quot;);

    org.apache.shiro.mgt.SecurityManager securityManager = factory.getInstance();
    SecurityUtils.setSecurityManager(securityManager);
    Subject subject = SecurityUtils.getSubject();
    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;ryo&amp;quot;, &amp;quot;123&amp;quot;);

    try {
        subject.login(token);
    } catch (AuthenticationException e) {
        //login falied
    }

   assertEquals(true, subject.isAuthenticated());   //assert user has logined.

   //logout
   subject.logout();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#realms&quot; name=&quot;realms&quot;&gt;&lt;/a&gt;Realms&lt;/h1&gt;
&lt;p&gt;Realms act as the ‘bridge’ or ‘connector’ between Shiro and your application’s security data.&lt;br/&gt;When it comes time to actually interact with security-related data like user accounts to perform authentication (login)&lt;br/&gt;and authorization (access control), Shiro looks up many of these things from one or more Realms configured for an application.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Realm.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Realm {
    String getName();   //返回一个唯一的Realm名字

    boolean supports(AuthenticationToken var1); //判断此Realm是否支持此Token

    AuthenticationInfo getAuthenticationInfo(AuthenticationToken var1) throws AuthenticationException;  //根据Token获取认证信息
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;MyRealm.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class MyRealm implements Realm {
    @Override
    public String getName() {
        return &amp;quot;firstRealm&amp;quot;;
    }

    @Override
    public boolean supports(AuthenticationToken authenticationToken) {
        //仅支持UsernamePasswordToken类型的Token
        return authenticationToken instanceof UsernamePasswordToken;
    }

    @Override
    public AuthenticationInfo getAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {
        String username = (String) authenticationToken.getPrincipal();      //get username
        String password = new String((char[]) authenticationToken.getCredentials());    //get password
        if (!&amp;quot;ryo&amp;quot;.equals(username)) {
            throw new UnknownAccountException();
        }
        if (!&amp;quot;123&amp;quot;.equals(password)) {
            throw new IncorrectCredentialsException();
        }

        //如果身份认证验证成功，返回一个AuthenticationInfo实现；
        return new SimpleAuthenticationInfo(username, password, getName());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;shiro-realm.ini&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;create this file under the classpath.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#declear realm
firstRealm=com.ryo.shiro.MyRealm
#point the realms impls of securityManager
securityManager.realms=$firstRealm
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test()&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testRealm() {
    Factory&amp;lt;SecurityManager&amp;gt; factory =
            new IniSecurityManagerFactory(&amp;quot;classpath:shiro-realm.ini&amp;quot;);
    org.apache.shiro.mgt.SecurityManager securityManager = factory.getInstance();
    SecurityUtils.setSecurityManager(securityManager);
    Subject subject = SecurityUtils.getSubject();
    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;ryo&amp;quot;, &amp;quot;123&amp;quot;);

    try {
        subject.login(token);
    } catch (AuthenticationException e) {
    }

    assertEquals(true, subject.isAuthenticated());

    subject.logout();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#multi-realm&quot; name=&quot;multi-realm&quot;&gt;&lt;/a&gt;multi-realm&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;define another realm SecondRealm.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class SecondRealm implements Realm {
    public String getName() {
        return &amp;quot;secondRealm&amp;quot;;
    }

    public boolean supports(AuthenticationToken authenticationToken) {
        return authenticationToken instanceof UsernamePasswordToken;
    }

    public AuthenticationInfo getAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {
        String username = (String) authenticationToken.getPrincipal();
        String password = new String((char[]) authenticationToken.getCredentials());
        if (!&amp;quot;wang&amp;quot;.equals(username)) {
            throw new UnknownAccountException();
        }
        if (!&amp;quot;123&amp;quot;.equals(password)) {
            throw new IncorrectCredentialsException();
        }
        return new SimpleAuthenticationInfo(username, password, getName());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define shiro-multi-realm.ini&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[main]
#define
firstRealm=com.ryo.shiro.FirstRealm
secondRealm=com.ryo.shiro.SecondRealm
#use
securityManager.realms=$firstRealm,$secondRealm
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test()&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testMultiRealm() {
    Factory&amp;lt;SecurityManager&amp;gt; factory =
            new IniSecurityManagerFactory(&amp;quot;classpath:shiro-multi-realm.ini&amp;quot;);

    org.apache.shiro.mgt.SecurityManager securityManager = factory.getInstance();
    SecurityUtils.setSecurityManager(securityManager);

    Subject subject = SecurityUtils.getSubject();
    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;wang&amp;quot;, &amp;quot;123&amp;quot;);

    try {
        subject.login(token);
    } catch (AuthenticationException e) {
        e.printStackTrace();
    }

    Assert.assertEquals(true, subject.isAuthenticated());

    subject.logout();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The realm worked only after you used it.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#jdbc-realm&quot; name=&quot;jdbc-realm&quot;&gt;&lt;/a&gt;JDBC Realm&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Add jars info your pom.xml, here I user &lt;code&gt;MySQL&lt;/code&gt; and &lt;code&gt;druid&lt;/code&gt; datasource for test.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;5.1.25&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.alibaba&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;druid&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;0.2.23&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Here are some sql to init database.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;DROP DATABASE IF EXISTS shiro;
CREATE DATABASE shiro;
USE shiro;

CREATE TABLE users (
  id            BIGINT AUTO_INCREMENT,
  username      VARCHAR(100),
  password      VARCHAR(100),
  password_salt VARCHAR(100),
  CONSTRAINT pk_users PRIMARY KEY (id)
)
  CHARSET = utf8
  ENGINE = InnoDB;
CREATE UNIQUE INDEX idx_users_username ON users (username);

CREATE TABLE user_roles (
  id        BIGINT AUTO_INCREMENT,
  username  VARCHAR(100),
  role_name VARCHAR(100),
  CONSTRAINT pk_user_roles PRIMARY KEY (id)
)
  CHARSET = utf8
  ENGINE = InnoDB;
CREATE UNIQUE INDEX idx_user_roles ON user_roles (username, role_name);

CREATE TABLE roles_permissions (
  id         BIGINT AUTO_INCREMENT,
  role_name  VARCHAR(100),
  permission VARCHAR(100),
  CONSTRAINT pk_roles_permissions PRIMARY KEY (id)
)
  CHARSET = utf8
  ENGINE = InnoDB;
CREATE UNIQUE INDEX idx_roles_permissions ON roles_permissions (role_name, permission);

INSERT INTO users (username, password) VALUES (&amp;#39;wang&amp;#39;, &amp;#39;123&amp;#39;);
INSERT INTO users (username, password) VALUES (&amp;#39;ryo&amp;#39;, &amp;#39;123&amp;#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;shiro-jdbc-realm.ini&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[main]
jdbcRealm=org.apache.shiro.realm.jdbc.JdbcRealm
dataSource=com.alibaba.druid.pool.DruidDataSource
dataSource.driverClassName=com.mysql.jdbc.Driver
dataSource.url=jdbc:mysql://localhost:3307/shiro
dataSource.username=root
dataSource.password=${youOwnSQLPassword}
jdbcRealm.dataSource=$dataSource
securityManager.realms=$jdbcRealm


;1、varName=className    auto create an instance of class.
;2、varName.property=val         auto call the set()
;3、$varname             reference an object define before;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test()&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;@Test
public void testJDBCRealm() {
    Factory&amp;lt;org.apache.shiro.mgt.SecurityManager&amp;gt; factory =
            new IniSecurityManagerFactory(&amp;quot;classpath:shiro-jdbc-realm.ini&amp;quot;);

    org.apache.shiro.mgt.SecurityManager securityManager = factory.getInstance();
    SecurityUtils.setSecurityManager(securityManager);

    Subject subject = SecurityUtils.getSubject();
    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;ryo&amp;quot;, &amp;quot;123&amp;quot;);

    try {
        subject.login(token);
    } catch (AuthenticationException e) {
        e.printStackTrace();
    }

    Assert.assertEquals(true, subject.isAuthenticated());

    subject.logout();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#authenticator&quot; name=&quot;authenticator&quot;&gt;&lt;/a&gt;Authenticator&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;In a single-realm application, the &lt;code&gt;ModularRealmAuthenticator&lt;/code&gt; will invoke the single Realm directly.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;If you wish to configure the SecurityManager with a custom &lt;code&gt;Authenticator&lt;/code&gt; implementation, you can do so in &lt;em&gt;shiro.ini&lt;/em&gt; for example:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[main]
authenticator = com.foo.bar.CustomAuthenticator

securityManager.authenticator = $authenticator
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;SecurityManager.java&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface SecurityManager extends Authenticator, Authorizer, SessionManager {
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Authenticator.java&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Authenticator {
    AuthenticationInfo authenticate(AuthenticationToken var1) throws AuthenticationException;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#authenticationstrategy&quot; name=&quot;authenticationstrategy&quot;&gt;&lt;/a&gt;AuthenticationStrategy&lt;/h1&gt;
&lt;p&gt;When two or more realms are configured for an application, the &lt;code&gt;ModularRealmAuthenticator&lt;/code&gt; relies on an internal &lt;code&gt;AuthenticationStrategy&lt;/code&gt; component to&lt;br/&gt;determine the conditions for which an authentication attempt succeeds or fails.&lt;/p&gt;
&lt;p&gt;1、Here I define three realm for test;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;FirstRealm ryo/123 success, return ryo/123&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;SecondRealm wang/123 success, return wang/123 &lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;ThirdRealm ryo/123 success, return &lt;a href=&quot;mailto:&amp;#114;y&amp;#111;&amp;#x40;&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#105;&amp;#x6c;&amp;#x2e;c&amp;#111;&amp;#x6d;&amp;#47;1&amp;#50;&amp;#51;&quot;&gt;&amp;#114;y&amp;#111;&amp;#x40;&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#105;&amp;#x6c;&amp;#x2e;c&amp;#111;&amp;#x6d;&amp;#47;1&amp;#50;&amp;#51;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2、shiro-authenticator-all-success.ini&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;ModularRealmAuthenticator&lt;/code&gt; defaults to the &lt;code&gt;AtLeastOneSuccessfulStrategy&lt;/code&gt; implementation, as this is the most commonly desired strategy.&lt;br/&gt;However, you could configure a different strategy if you wanted.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[main]
#point out securityManager&amp;#39;s authenticator  
authenticator=org.apache.shiro.authc.pam.ModularRealmAuthenticator  
securityManager.authenticator=$authenticator  
  
#Point out securityManager.authenticator&amp;#39;s authenticationStrategy  
allSuccessfulStrategy=org.apache.shiro.authc.pam.AllSuccessfulStrategy  
securityManager.authenticator.authenticationStrategy=$allSuccessfulStrategy  

#Define and use realms
firstRealm=com.ryo.shiro.FirstRealm
secondRealm=com.ryo.shiro.SecondRealm
thirdRealm=com.ryo.shiro.ThirdRealm
securityManager.realms=$firstRealm,$thirdRealm
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、AuthenticatorTest.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testAllSuccessfulStrategyWithSuccess() {
    Subject subject = getSubjectByPath(&amp;quot;classpath:shiro-authenticator-all-success.ini&amp;quot;);

    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;ryo&amp;quot;, &amp;quot;123&amp;quot;);
    subject.login(token);

    PrincipalCollection principalCollection = subject.getPrincipals();
    assertEquals(&amp;quot;ryo,ryo@gmail.com&amp;quot;, principalCollection.toString());
}

private Subject getSubjectByPath(String configFilePath) {
    Factory&amp;lt;SecurityManager&amp;gt; factory = new IniSecurityManagerFactory(configFilePath);

    SecurityManager securityManager = factory.getInstance();
    SecurityUtils.setSecurityManager(securityManager);
    return SecurityUtils.getSubject();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you wanted to create your own AuthenticationStrategy implementation yourself, you could use the &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;org.apache.shiro.authc.pam.AbstractAuthenticationStrategy``` as a starting point.&quot;&gt;&lt;br/&gt;- OnlyOneAuthenticatorStrategy.java

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;public class OnlyOneAuthenticatorStrategy extends AbstractAuthenticationStrategy {&lt;br/&gt; //Simply returns the aggregate argument without modification.&lt;br/&gt; @Override&lt;br/&gt; public AuthenticationInfo beforeAllAttempts(Collection&amp;lt;? extends Realm&amp;gt; realms, AuthenticationToken token) throws AuthenticationException {&lt;br/&gt; return super.beforeAllAttempts(realms, token);&lt;br/&gt; }&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//Simply returns the aggregate method argument, without modification.
@Override
public AuthenticationInfo beforeAttempt(Realm realm, AuthenticationToken token, AuthenticationInfo aggregate) throws AuthenticationException {
    return super.beforeAttempt(realm, token, aggregate);
}

/**
 * Base implementation that will aggregate the specified singleRealmInfo into the aggregateInfo and then returns the aggregate.
 * @param realm the realm that was just consulted for AuthenticationInfo for the given token.
 * @param token the AuthenticationToken submitted for the subject attempting system log-in.
 * @param singleRealmInfo the info returned from a single realm.    单个realm信息
 * @param aggregateInfo the aggregate info representing all realms in a multi-realm environment.    总信息
 * @param t the Throwable thrown by the Realm during the attempt, or null if the method returned normally.
 * @return
 * @throws AuthenticationException
 */
@Override
public AuthenticationInfo afterAttempt(Realm realm, AuthenticationToken token, AuthenticationInfo singleRealmInfo, AuthenticationInfo aggregateInfo, Throwable t) throws AuthenticationException {
    AuthenticationInfo info;

    if(singleRealmInfo == null) {
        info = aggregateInfo;
    } else if(aggregateInfo == null) {
        info = singleRealmInfo;
    } else {
        info = merge(singleRealmInfo, aggregateInfo);

        if(info.getPrincipals().getRealmNames().size() &amp;gt; 1) {
            throw new AuthenticationException(&amp;quot;Authentication token of type [&amp;quot; + token.getClass() + &amp;quot;] &amp;quot; +
                    &amp;quot;could not be authenticated by any configured realms.  Please ensure that only one realm can &amp;quot; +
                    &amp;quot;authenticate these tokens.&amp;quot;);
        }
    }

    return info;
}

//Merges the specified info argument into the aggregate argument and then returns an aggregate for continued use throughout the login process.
@Override
protected AuthenticationInfo merge(AuthenticationInfo info, AuthenticationInfo aggregate) {
    return super.merge(info, aggregate);
}

//Base implementation that will aggregate the specified singleRealmInfo into the aggregateInfo and then returns the aggregate.
@Override
public AuthenticationInfo afterAllAttempts(AuthenticationToken token, AuthenticationInfo aggregate) throws AuthenticationException {
    return super.afterAllAttempts(token, aggregate);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- shiro-authenticator-onlyone-success.ini

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[main]&lt;br/&gt;authenticator=org.apache.shiro.authc.pam.ModularRealmAuthenticator&lt;br/&gt;securityManager.authenticator=$authenticator&lt;/p&gt;
&lt;p&gt;onlyOneAuthenticatorStrategy=com.ryo.shiro.authenticator.strategy.OnlyOneAuthenticatorStrategy&lt;br/&gt;securityManager.authenticator.authenticationStrategy=$onlyOneAuthenticatorStrategy&lt;/p&gt;
&lt;p&gt;#define and uer realms.&lt;br/&gt;firstRealm=com.ryo.shiro.FirstRealm&lt;br/&gt;secondRealm=com.ryo.shiro.SecondRealm&lt;br/&gt;securityManager.realms=$firstRealm,$secondRealm&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- test()

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@Test&lt;br/&gt; public void testOnlyOneAuthenticatorStrategy() {&lt;br/&gt; Subject subject = getSubjectByPath(&amp;ldquo;classpath:shiro-authenticator-onlyone-success.ini&amp;rdquo;);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    UsernamePasswordToken token = new UsernamePasswordToken(&amp;quot;ryo&amp;quot;, &amp;quot;123&amp;quot;);
    subject.login(token);

    PrincipalCollection principalCollection = subject.getPrincipals();
    assertEquals(&amp;quot;ryo&amp;quot;, principalCollection.toString());
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- if you change the *shiro-authenticator-onlyone-success.ini* into

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#define and uer realms.&lt;br/&gt;firstRealm=com.ryo.shiro.FirstRealm&lt;br/&gt;thirdRealm=com.ryo.shiro.ThirdRealm&lt;br/&gt;securityManager.realms=$firstRealm,$thirdRealm&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;You will get an error as following.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;org.apache.shiro.authc.AuthenticationException: Authentication token of type [class org.apache.shiro.authc.UsernamePasswordToken]&lt;br/&gt;could not be authenticated by any configured realms. Please ensure that only one realm can authenticate these tokens.&lt;br/&gt;```&lt;/p&gt;</description>
    </item>
    <item>
      <title>LESS</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-06-29-less.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#less-&quot; name=&quot;less-&quot;&gt;&lt;/a&gt;{LESS}&lt;/h1&gt;
&lt;p&gt;Less is a CSS pre-processor, meaning that it extends the CSS language, adding features that allow variables, mixins,&lt;br/&gt;functions and many other techniques that allow you to make CSS that is more maintainable, themable and extendable.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://lesscss.org/&quot;&gt;less&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://less.bootcss.com/&quot;&gt;less zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;p&gt;Javascript can&amp;rsquo;t visit local &lt;strong&gt;.less&lt;/strong&gt; file, so you may need a &lt;strong&gt;http server&lt;/strong&gt;, like tomcat, jetty etc. Here I use tomcat.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;file list under &lt;em&gt;webapp&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;│  index.html                                                                                                                                                                                                       
│                                                                                                                                                                                                                   
├─static                                                                                                                                                                                                           
│  ├─app                                                                                                                                                                                                          
│  │  └─less                                                                                                                                                                                                     
│  │          style.less                                                                                                                                                                                           
│  │                                                                                                                                                                                                               
│  └─lib                                                                                                                                                                                                          
│      └─less                                                                                                                                                                                                     
│              less.min.js                                                                                                                                                                                          
│                                                                                                                                                                                                                   
└─WEB-INF                                                                                                                                                                                                          
        web.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;web.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;web-app version=&amp;quot;2.4&amp;quot;
         xmlns=&amp;quot;http://java.sun.com/xml/ns/j2ee&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&amp;quot;&amp;gt;

    &amp;lt;welcome-file-list&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.html&amp;lt;/welcome-file&amp;gt;
    &amp;lt;/welcome-file-list&amp;gt;
&amp;lt;/web-app&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;index.html&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;zh-CN&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;content-type&amp;quot; content=&amp;quot;text/html; charset=utf-8&amp;quot;&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;x-ua-compatible&amp;quot; content=&amp;quot;IE=edge&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;renderer&amp;quot; content=&amp;quot;webkit&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&amp;quot;&amp;gt;

    &amp;lt;!--less--&amp;gt;
    &amp;lt;link rel=&amp;quot;stylesheet/less&amp;quot; type=&amp;quot;text/css&amp;quot; href=&amp;quot;/static/app/less/style.less&amp;quot;&amp;gt;
&amp;lt;/head&amp;gt;


&amp;lt;body&amp;gt;

&amp;lt;div class=&amp;quot;content&amp;quot;&amp;gt;content&amp;lt;/div&amp;gt;

&amp;lt;/body&amp;gt;
&amp;lt;!-- JavaScript --&amp;gt;
&amp;lt;script src=&amp;quot;/static/lib/less/less.min.js&amp;quot; type=&amp;quot;text/javascript&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;style.less&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;@blue: #0099FF;

.content {
	background: @blue;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;less.min.js&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/less/less.js&quot;&gt;Download&lt;/a&gt; from the less web site.&lt;/p&gt;
&lt;p&gt;Your .less files must import &lt;strong&gt;before&lt;/strong&gt; the less.min.js.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#language-features&quot; name=&quot;language-features&quot;&gt;&lt;/a&gt;Language Features&lt;/h1&gt;
&lt;p&gt;As an extension to CSS, Less is not only backwards compatible with CSS, but the extra features it adds use existing CSS syntax.&lt;br/&gt;This makes learning Less a breeze, and if in doubt, lets you fall back to vanilla CSS.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#variables&quot; name=&quot;variables&quot;&gt;&lt;/a&gt;Variables&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Control commonly used values in a single location.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You may use like these in before&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;a, .link {
  color: #428bca;
}
.widget {
  color: #fff;
  background: #428bca;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Variables make your code easier to maintain, like this&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Variables
@link-color:        #428bca; // sea blue

// Usage
a, .link {
  color: @link-color;
}
.widget {
  color: #fff;
  background: @link-color;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The variables also can use in following places.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Selector&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;//selector
@header: header;

.@{header} {
	background: pink;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;is the same as&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.header {
	background: pink;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;URLs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;//URLs
@img-url: &amp;quot;/static/app/img&amp;quot;;
.content {
	background: url(&amp;quot;@{img-url}/001.jpeg&amp;quot;);;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Import statement&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If I define all colors in one less file, I want to import it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@less-url: &amp;quot;/static/app/less&amp;quot;;

@import &amp;quot;@{less-url}/color-constant.less&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Properties&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m tired of input background, so&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//properties
@bg: background;

.header {
  @{bg}: #0099FF;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Variable Names&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;@fnord:  &amp;quot;I am fnord.&amp;quot;;
@var:    &amp;quot;fnord&amp;quot;;
content: @@var;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;complies to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;content: &amp;quot;I am fnord.&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Lazy Loading&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Variables are lazy loaded and do not have to be declared before being used.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.header {
  background: @bg-color;
}
@bg-color: red;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When defining a variable twice, the last definition of the variable is used, searching from the current scope upwards.&lt;br/&gt;This is similar to css itself where the last property inside a definition is used to determine the value.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Default Variables&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I define blue-color in color-constant.less.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@blue-color: #0099FF;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I can easily override it like this.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@import &amp;quot;color-constant.less&amp;quot;;

.header {
  background: @blue-color;
}

//if no this, color will be #0099ff
@blue-color: blue;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#extend&quot; name=&quot;extend&quot;&gt;&lt;/a&gt;Extend&lt;/h2&gt;
&lt;p&gt;Extend is a Less Pseudo-Class which merges the selector it is put on with ones that match what it references.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.base-color {
  background: #0099FF;
  color: #ffffff;
}

.header {
  &amp;amp;:extend(.base-color);
  font-size: 22px;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;means .header extends all properties from .base-color.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Extend syntax&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;.a:extend(.b) {}

// the above block does the same thing as the below block
.a {
  &amp;amp;:extend(.b);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;.c:extend(.d all) {
  // extends all instances of &amp;quot;.d&amp;quot; e.g. &amp;quot;.x.d&amp;quot; or &amp;quot;.d.x&amp;quot;
}
.c:extend(.d) {
  // extends only instances where the selector will be output as just &amp;quot;.d&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;.e:extend(.f) {}
.e:extend(.g) {}

// the above an the below do the same thing
.e:extend(.f, .g) {}
Extend attached
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Extend attached to selector&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extend attached to a selector looks like an ordinary pseudoclass with selector as a parameter. A selector can contain multiple extend clauses, but all extends must be &lt;strong&gt;at the end&lt;/strong&gt; of the selector.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Extend after the selector: &lt;code&gt;pre:hover:extend(div pre).&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Space between selector and extend is allowed: `&lt;code&gt;pre:hover :extend(div pre)&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Multiple extends are allowed: &lt;code&gt;pre:hover:extend(div pre):extend(.bucket tr)&lt;/code&gt; is the same as &lt;code&gt;pre:hover:extend(div pre, .bucket tr)&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Extend inside ruleset&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extend can be placed into a ruleset&amp;rsquo;s body using &lt;code&gt;&amp;amp;:extend(selector)&lt;/code&gt; syntax. Placing extend into a body is a shortcut for placing it into every single selector of that ruleset.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pre:hover,
.some-class {
  &amp;amp;:extend(div pre);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;same as &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pre:hover:extend(div pre),
.some-class:extend(div pre) {}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Extending Nested Selectors&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;.bucket {
  tr { // nested ruleset with target selector
    color: blue;
  }
}
.some-class:extend(.bucket tr) {} // nested ruleset is recognized
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.bucket tr,
.some-class {
  color: blue;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Exact Matching with Extend&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extend by default looks for exact match between selectors. It does matter whether selector uses leading star or not.&lt;br/&gt;It does not matter that two nth-expressions have the same meaning, they need to have to &lt;strong&gt;same form in order&lt;/strong&gt; to be matched.&lt;br/&gt;The only exception are &lt;em&gt;quotes in attribute selector&lt;/em&gt;, less knows they have the same meaning and matches them.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.a.class,
.class.a,
.class &amp;gt; .a {
  color: blue;
}
.test:extend(.class) {} // this will NOT match the any selectors above
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;*.class {
  color: blue;
}
.noStar:extend(.class) {} // this will NOT match the *.class selector
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;link:hover:visited {
  color: blue;
}
.selector:extend(link:visited:hover) {}  // this will NOT match the link:hover:visited selector
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;nth Expression&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;:nth-child(1n+3) {
  color: blue;
}
.child:extend(:nth-child(n+3)) {}       //NOT match
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Quote type in attribute selector does not matter. All of the following are equivalent.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[title=identifier] {
  color: blue;
}
[title=&amp;#39;identifier&amp;#39;] {
  color: blue;
}
[title=&amp;quot;identifier&amp;quot;] {
  color: blue;
}

.noQuote:extend([title=identifier]) {}
.singleQuote:extend([title=&amp;#39;identifier&amp;#39;]) {}
.doubleQuote:extend([title=&amp;quot;identifier&amp;quot;]) {}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[title=identifier],
.noQuote,
.singleQuote,
.doubleQuote {
  color: blue;
}

[title=&amp;#39;identifier&amp;#39;],
.noQuote,
.singleQuote,
.doubleQuote {
  color: blue;
}

[title=&amp;quot;identifier&amp;quot;],
.noQuote,
.singleQuote,
.doubleQuote {
  color: blue;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Extend &amp;ldquo;all&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When you specify the all keyword last in an extend argument it tells Less to match that selector as part of another selector.&lt;br/&gt;The selector will be copied and the matched part of the selector only will then be replaced with the extend, making a new selector.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.a.b.test,
.test.c {
  color: orange;
}
.test {
  &amp;amp;:hover {
    color: green;
  }
}

.replacement:extend(.test all) {}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.a.b.test,
.test.c,
.a.b.replacement,
.replacement.c {
  color: orange;
}
.test:hover,
.replacement:hover {
  color: green;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Selector Interpolation with Extend&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extend is NOT able to match selectors with variables. If selector &lt;em&gt;contains variable&lt;/em&gt;, extend will &lt;strong&gt;ignore&lt;/strong&gt; it.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Selector with variable will not be matched&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;@variable: .bucket;
@{variable} { // interpolated selector
  color: blue;
}
.some-class:extend(.bucket) {} // does nothing, no match is found
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;extend with variable in target selector matches nothing:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.bucket {
  color: blue;
}
.some-class:extend(@{variable}) {} // interpolated selector matches nothing
@variable: .bucket;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;However, :extend attached to an interpolated selector works:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.bucket {
  color: blue;
}
@{variable}:extend(.bucket) {}
@variable: .selector;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.bucket, .selector {
  color: blue;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Scoping / Extend Inside @media&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extend written inside a media declaration should match only selectors inside the &lt;strong&gt;same media&lt;/strong&gt; declaration:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@media print {
  .screenClass:extend(.selector) {} // extend inside media
  .selector { // this will be matched - it is in the same media
    color: black;
  }
}
.selector { // ruleset on top of style sheet - extend ignores it
  color: red;
}
@media screen {
  .selector {  // ruleset inside another media - extend ignores it
    color: blue;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Extend written inside a media declaration does NOT match selectors inside nested declaration:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@media screen {
  .screenClass:extend(.selector) {} // extend inside media
  @media (min-width: 1023px) {
    .selector {  // ruleset inside nested media - extend ignores it
      color: blue;
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Top level extend matches &lt;strong&gt;everything&lt;/strong&gt; including selectors inside nested media:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@media screen {
  .selector {  /* ruleset inside nested media - top level extend works */
    color: blue;
  }
  @media (min-width: 1023px) {
    .selector {  /* ruleset inside nested media - top level extend works */
      color: blue;
    }
  }
}

.topLevel:extend(.selector) {} /* top level extend matches everything */
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;complies to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@media screen {
  .selector,
  .topLevel { /* ruleset inside media was extended */
    color: blue;
  }
}
@media screen and (min-width: 1023px) {
  .selector,
  .topLevel { /* ruleset inside nested media was extended */
    color: blue;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Reducing CSS Size&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Mixins copy all of the properties into a selector, which can lead to unnecessary duplication.&lt;br/&gt;Therefore you can use &lt;strong&gt;extends&lt;/strong&gt; instead of &lt;strong&gt;mixins&lt;/strong&gt; to move the selector up to the properties you wish to use.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;with mixin&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.my-inline-block() {
    display: inline-block;
  font-size: 0;
}
.thing1 {
  .my-inline-block;
}
.thing2 {
  .my-inline-block;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.thing1 {
  display: inline-block;
  font-size: 0;
}
.thing2 {
  display: inline-block;
  font-size: 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;with extends&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.my-inline-block {
  display: inline-block;
  font-size: 0;
}
.thing1 {
  &amp;amp;:extend(.my-inline-block);
}
.thing2 {
  &amp;amp;:extend(.my-inline-block);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.my-inline-block,
.thing1,
.thing2 {
  display: inline-block;
  font-size: 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#mixins&quot; name=&quot;mixins&quot;&gt;&lt;/a&gt;Mixins&lt;/h1&gt;
&lt;p&gt;You can mix-in class selectors and id selectors, e.g.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.base-color {
  background: #0099FF;
}
#big-font {
  font-size: 36px;
}

.header {
  .base-color;
  #big-font;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.base-color {
  background: #0099FF;
}
#big-font {
  font-size: 36px;
}

.header {
  background: #0099FF;
  font-size: 36px;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The () if optional, that&amp;rsquo;s means &lt;code&gt;.base-color&lt;/code&gt; the same as &lt;code&gt;.base-color()&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Not Outputting the Mixin&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you want to create a mixin but you do not want that mixin to be output, you can put () after it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.base-color() {
  background: #0099FF;
}

.header {
  .base-color;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.header {
  background: #0099FF;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Selectors in Mixins&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;.my-hover-mixin() {
  &amp;amp;:hover {
    border: 1px solid red;
  }
}
button {
  .my-hover-mixin();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;button:hover {
  border: 1px solid red;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Namespaces&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;#outer {
  .inner {
    color: red;
  }
}

.c {
  #outer &amp;gt; .inner;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Both &lt;code&gt;&amp;gt;&lt;/code&gt; and whitespace are optional.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Guarded Namespaces&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If namespace have a guard, mixins defined by it are used only if guard condition returns true.&lt;/p&gt;
&lt;p&gt;the next two mixins work the same way&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#namespace when (@mode=huge) {
  .mixin() { /* */ }
}

#namespace {
  .mixin() when (@mode=huge) { /* */ }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;The &lt;strong&gt;!important&lt;/strong&gt; keyword&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use the &lt;code&gt;!important&lt;/code&gt; keyword after mixin call to mark all properties inherited by it as &lt;code&gt;!important&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.foo (@bg: #f5f5f5, @color: #900) {
  background: @bg;
  color: @color;
}
.normal {
  .foo();
}
.important {
  .foo() !important;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.normal {
  background: #f5f5f5;
  color: #900;
}
.important {
  background: #f5f5f5 !important;
  color: #900 !important;
}
````

## Parametric Mixins

Mixins can also take arguments, which are variables passed to the block of selectors when it is mixed in.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.border-radius(@radius: 5px) {&lt;br/&gt; -webkit-border-radius: @radius;&lt;br/&gt; -moz-border-radius: @radius;&lt;br/&gt; border-radius: @radius;&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Mixins with Multiple Parameters

- It is legal to define multiple mixins with the same name and number of parameters.

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.mixin(@color) {&lt;br/&gt; color-1: @color;&lt;br/&gt;}&lt;br/&gt;.mixin(@color; @padding: 2) {&lt;br/&gt; color-2: @color;&lt;br/&gt; padding-2: @padding;&lt;br/&gt;}&lt;br/&gt;.mixin(@color; @padding; @margin: 2) {&lt;br/&gt; color-3: @color;&lt;br/&gt; padding-3: @padding;&lt;br/&gt; margin: @margin @margin @margin @margin;&lt;br/&gt;}&lt;br/&gt;.some .selector div {&lt;br/&gt; .mixin(#008000);&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;output

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.some .selector div {&lt;br/&gt; color-1: #008000;&lt;br/&gt; color-2: #008000;&lt;br/&gt; padding-2: 2;&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Named Parameters

A mixin reference can supply parameters values by their names instead of just positions. Any parameter can be referenced by its name and they do not have to be in any special order:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.mixin(@color: black; @margin: 10px; @padding: 20px) {&lt;br/&gt; color: @color;&lt;br/&gt; margin: @margin;&lt;br/&gt; padding: @padding;&lt;br/&gt;}&lt;br/&gt;.class1 {&lt;br/&gt; .mixin(@margin: 20px; @color: #33acfe);&lt;br/&gt;}&lt;br/&gt;.class2 {&lt;br/&gt; .mixin(#efca44; @padding: 40px);&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;output

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.class1 {&lt;br/&gt; color: #33acfe;&lt;br/&gt; margin: 20px;&lt;br/&gt; padding: 20px;&lt;br/&gt;}&lt;br/&gt;.class2 {&lt;br/&gt; color: #efca44;&lt;br/&gt; margin: 10px;&lt;br/&gt; padding: 40px;&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; The ```@arguments``` Variable

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;.box-shadow(@x: 0; @y: 0; @blur: 1px; @color: #000) {
  -webkit-box-shadow: @arguments;
     -moz-box-shadow: @arguments;
          box-shadow: @arguments;
}
.big-block {
  .box-shadow(2px; 5px);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.big-block {
  -webkit-box-shadow: 2px 5px 1px #000;
     -moz-box-shadow: 2px 5px 1px #000;
          box-shadow: 2px 5px 1px #000;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Advanced Arguments and the @rest Variable&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;.mixin(...) {        // matches 0-N arguments
.mixin() {           // matches exactly 0 arguments
.mixin(@a: 1) {      // matches 0-1 arguments
.mixin(@a: 1; ...) { // matches 0-N arguments
.mixin(@a; ...) {    // matches 1-N arguments
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;.mixin(@a; @rest...) {
   // @rest is bound to arguments after @a
   // @arguments is bound to all arguments
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Pattern-matching&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;define&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.mixin(dark; @color) {
  color: darken(@color, 10%);
}
.mixin(light; @color) {
  color: lighten(@color, 10%);
}
.mixin(@_; @color) {
  display: block;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;@switch: light;

.class {
  .mixin(@switch; #888);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;.class {
  color: #a2a2a2;
  display: block;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#mixins-as-functions&quot; name=&quot;mixins-as-functions&quot;&gt;&lt;/a&gt;Mixins as Functions&lt;/h2&gt;
&lt;p&gt;Variables and mixins defined in a mixin are visible and can be used in caller&amp;rsquo;s scope. &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.mixin() {
  @width:  100%;
  @height: 200px;
}

.caller {
  .mixin();
  width:  @width;
  height: @height;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.caller {
  width:  100%;
  height: 200px;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Thus variables defined in a mixin can act as its return values. This allows us to create a mixin that can be used almost like a function.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.average(@x, @y) {
  @average: ((@x + @y) / 2);
}

div {
  .average(16px, 50px); // &amp;quot;call&amp;quot; the mixin
  padding: @average;    // use its &amp;quot;return&amp;quot; value
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;div {
  padding: 33px;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Variables defined directly in callers scope cannot be overridden. However, variables defined in callers parent scope is not protected and will be overridden:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.mixin() {
  @size: in-mixin;
  @definedOnlyInMixin: in-mixin;
}

.class {
  margin: @size @definedOnlyInMixin;
  .mixin();
}

@size: globaly-defined-value; // callers parent scope - no protection
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.class {
  margin: in-mixin in-mixin;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, mixin defined in mixin acts as return value too:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.unlock(@value) { // outer mixin
  .doSomething() { // nested mixin
    declaration: @value;
  }
}

#namespace {
  .unlock(5); // unlock doSomething mixin
  .doSomething(); //nested mixin was copied here and is usable
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#namespace {
  declaration: 5;
}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>JFinal</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-07-14-JFinal.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#jfinal&quot; name=&quot;jfinal&quot;&gt;&lt;/a&gt;JFinal&lt;/h1&gt;
&lt;p&gt;JFinal 是基于 Java 语言的极速 WEB + ORM 开发框架，其核心设计目标是开发迅速、代码量少、学习简单、功能强大、轻量级、易扩展、Restful。&lt;/p&gt;
&lt;p&gt;自动扫描映射设计的若干缺点：引入新概念(如注解)增加学习成本、性能低、jar 包扫描可靠性与安全性低&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.jfinal.com/&quot;&gt;JFinal&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;JFinal&amp;lt;/artifactId&amp;gt;
    &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;name&amp;gt;JFinal Maven Webapp&amp;lt;/name&amp;gt;
    &amp;lt;url&amp;gt;http://maven.apache.org&amp;lt;/url&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
        &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;
        &amp;lt;maven-compiler-plugin.version&amp;gt;3.3&amp;lt;/maven-compiler-plugin.version&amp;gt;
    &amp;lt;/properties&amp;gt;


    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.jfinal&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jfinal&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;


    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;port&amp;gt;8080&amp;lt;/port&amp;gt;
                    &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                    &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                    &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-compiler-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;1.8&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;1.8&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;HelloController.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.controller;

import com.jfinal.core.Controller;

/**
 * Created by 侯彬彬 on 2016/6/20.
 */
public class HelloController extends Controller {
    public void index() {
        renderText(&amp;quot;Hello World!&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ApplicationConfig.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.controller;

import com.jfinal.config.*;
import com.jfinal.core.JFinal;

/**
 * Created by 侯彬彬 on 2016/6/20.
 */
public class ApplicationConfig extends JFinalConfig {
    public void configConstant(Constants constants) {
        constants.setDevMode(true);
    }

    public void configRoute(Routes routes) {
        routes.add(&amp;quot;/hello&amp;quot;, HelloController.class);
    }

    public void configPlugin(Plugins plugins) {

    }

    public void configInterceptor(Interceptors interceptors) {

    }

    public void configHandler(Handlers handlers) {

    }

    public static void main(String[] args) {
        JFinal.start(&amp;quot;src/main/webapp&amp;quot;, 80, &amp;quot;/&amp;quot;, 5);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;web.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;!DOCTYPE web-app PUBLIC
 &amp;quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&amp;quot;
 &amp;quot;http://java.sun.com/dtd/web-app_2_3.dtd&amp;quot; &amp;gt;

&amp;lt;web-app&amp;gt;
  &amp;lt;display-name&amp;gt;Archetype Created Web Application&amp;lt;/display-name&amp;gt;

  &amp;lt;filter&amp;gt;
    &amp;lt;filter-name&amp;gt;jfinal&amp;lt;/filter-name&amp;gt;
    &amp;lt;filter-class&amp;gt;com.jfinal.core.JFinalFilter&amp;lt;/filter-class&amp;gt;
    &amp;lt;init-param&amp;gt;
      &amp;lt;param-name&amp;gt;configClass&amp;lt;/param-name&amp;gt;
      &amp;lt;param-value&amp;gt;com.ryo.controller.ApplicationConfig&amp;lt;/param-value&amp;gt;
    &amp;lt;/init-param&amp;gt;
  &amp;lt;/filter&amp;gt;

  &amp;lt;filter-mapping&amp;gt;
    &amp;lt;filter-name&amp;gt;jfinal&amp;lt;/filter-name&amp;gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
  &amp;lt;/filter-mapping&amp;gt;
&amp;lt;/web-app&amp;gt;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Design Pattern</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-07-15-DesignPattern.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#design-pattern&quot; name=&quot;design-pattern&quot;&gt;&lt;/a&gt;Design Pattern&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&amp;ldquo;Each pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution&lt;br/&gt;to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice&amp;rdquo; [AIS+77].&lt;br/&gt; —— Christopher Alexander&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In general, a pattern has four essential elements:&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;pattern name&lt;/strong&gt; is a handle we can use to describe a design problem, its solutions, and consequences in a word or two.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;problem&lt;/strong&gt; describes when to apply the pattern.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;solution&lt;/strong&gt; describes the elements that make up the design, their relationships, responsibilities, and collaborations.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;consequences&lt;/strong&gt; are the results and trade-offs of applying the pattern.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#singleton&quot; name=&quot;singleton&quot;&gt;&lt;/a&gt;Singleton&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Intent&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ensure a class only has &lt;strong&gt;one instance&lt;/strong&gt;, and provide a global point of &lt;em&gt;access to it&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Motivation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How do we ensure that a class has only one instance and that the instance is easily accessible?&lt;/p&gt;
&lt;p&gt;A better solution is to make the class itself responsible for keeping track of its sole instance.&lt;br/&gt;The class can ensure that no other instance can be created (by intercepting requests to create new objects),&lt;br/&gt;and it can provide a way to access the instance. This is the Singleton pattern.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Applicability&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;there must be exactly one instance of a class, and it must be accessible to clients from a well-known access point.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;when the sole instance should be extensible by subclassing, and clients should be able to use an extended instance without modifying their code.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Structure&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-07-15-singleton.png&quot; alt=&quot;singleton&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Consequences&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Singleton pattern has several benefits:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Controlled access to sole instance.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Reduced name space.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Permits refinement of operations and representation.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Permits a variable number of instances.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;More flexible than class operations.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Implementation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://cantellow.iteye.com/blog/838473&quot;&gt;singleton zh_CN&lt;/a&gt;&lt;br/&gt;&lt;a href=&quot;http://blog.csdn.net/jason0539/article/details/23297037/&quot;&gt;singleton2 zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#lazy-loading&quot; name=&quot;lazy-loading&quot;&gt;&lt;/a&gt;lazy loading&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;thread not safe&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.singleton;

/**
 * Created by 侯彬彬 on 2016/7/15.
 */
public class Lazy {
    private Lazy(){}

    private static Lazy lazy = null;

    public static Lazy instance() {
        if(lazy == null) {
            lazy = new Lazy();
        }

        return lazy;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;thread safe&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It&amp;rsquo;s pity this way is inefficiency.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class LazyThreadSafe {
    private LazyThreadSafe(){}

    private static LazyThreadSafe lazy = null;

    public static synchronized LazyThreadSafe instance() {
        if(lazy == null) {
            lazy = new LazyThreadSafe();
        }

        return lazy;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Best practice: a good way to solve it. (Lazy loading and thread safe)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.singleton;

public class Singleton {
    private Singleton(){}

    private static class SingletonHolder {
        private static final Singleton INSTANCE = new Singleton();
    }

    public static  Singleton instance() {
       return SingletonHolder.INSTANCE;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#starve&quot; name=&quot;starve&quot;&gt;&lt;/a&gt;starve&lt;/h2&gt;
&lt;p&gt;Thread safe, not lazy loading. Usually, we can use this&amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.singleton;

public class Starve {
    private Starve(){}
    private static Starve starve = new Starve();

    public static Starve instance() {
        return starve;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#enum&quot; name=&quot;enum&quot;&gt;&lt;/a&gt;enum&lt;/h2&gt;
&lt;p&gt;The best way to realize singleton is to use &lt;strong&gt;enum&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://837062099.iteye.com/blog/1454934&quot;&gt;enum&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#prototype&quot; name=&quot;prototype&quot;&gt;&lt;/a&gt;Prototype&lt;/h1&gt;
&lt;p&gt;Specify the kinds of objects to create using a prototypical instance, and create new objects by &lt;strong&gt;copying this prototype&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.52ij.com/jishu/104.html&quot;&gt;zh_CN prototype&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Applicability&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use the Prototype pattern when a system should be &lt;em&gt;independent of&lt;/em&gt; how its products are created, composed, and represented; and&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;when the classes to instantiate are specified at run-time, for example, by dynamic loading&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;to avoid building a class hierarchy of factories that parallels the class hierarchy of products&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;when instances of a class can have one of only a few different combinations of state.&lt;br/&gt;It may be more convenient to install a corresponding number of prototypes and clone them rather than instantiating the class manually, each time with the appropriate state.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Consequences&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It hides the concrete product classes from the client, thereby reducing the number of names clients know about.&lt;br/&gt;Moreover, these patterns let a client work with application-specific classes without modification.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Implementation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Prototype.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.prototype;

/**
 * Created by 侯彬彬 on 2016/7/15.
 */
public class Prototype implements Cloneable {
    private String name;

    public Prototype(String name) {
        this.name = name;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone();
    }

    @Override
    public String toString() {
        return &amp;quot;Prototype{&amp;quot; +
                &amp;quot;name=&amp;#39;&amp;quot; + name + &amp;#39;\&amp;#39;&amp;#39; +
                &amp;#39;}&amp;#39;;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;PrototypeTest.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class PrototypeTest extends TestCase {
    @Test
    public void testClone() throws Exception {
        Prototype prototype = new Prototype(&amp;quot;ryo&amp;quot;);
        final String json = &amp;quot;Prototype{name=&amp;#39;ryo&amp;#39;}&amp;quot;;

        assertEquals(json, prototype.toString());

        Prototype clone = (Prototype) prototype.clone();
        assertEquals(json, clone.toString());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#shallow-copy&quot; name=&quot;shallow-copy&quot;&gt;&lt;/a&gt;shallow copy&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-15-shallowCopy.png&quot; alt=&quot;shallowCopy&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Java object&amp;rsquo;s &lt;code&gt;clone()&lt;/code&gt; is shallow copy. See the flowing demo.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Person.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return &amp;quot;Person{&amp;quot; +
                &amp;quot;name=&amp;#39;&amp;quot; + name + &amp;#39;\&amp;#39;&amp;#39; +
                &amp;quot;, age=&amp;quot; + age +
                &amp;#39;}&amp;#39;;
    }

    public void setName(String name) {
        this.name = name;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Prototype.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Prototype implements Cloneable {
    private Person person;

    public Prototype(Person person) {
        this.person = person;
    }

    public Person getPerson() {
        return person;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone();
    }

    @Override
    public String toString() {
        return &amp;quot;Prototype{&amp;quot; +
                &amp;quot;person=&amp;quot; + person +
                &amp;#39;}&amp;#39;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class PrototypeTest extends TestCase {
    @Test
    public void testClone() throws Exception {
        Person person = new Person(&amp;quot;ryo&amp;quot;, 23);
        Prototype prototype = new Prototype(person);

        Prototype clone = (Prototype) prototype.clone();
        Person person1 = clone.getPerson();
        person1.setName(&amp;quot;jack&amp;quot;);

        assertEquals(&amp;quot;Prototype{person=Person{name=&amp;#39;jack&amp;#39;, age=23}}&amp;quot;, prototype.toString());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#deep-copy&quot; name=&quot;deep-copy&quot;&gt;&lt;/a&gt;deep copy&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-15-deepCopy.png&quot; alt=&quot;shallowCopy&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;add &lt;code&gt;Serializable&lt;/code&gt; for Person&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Person implements Serializable {
    //...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;DeepCopy.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.prototype;

import java.io.*;

/**
 * Created by 侯彬彬 on 2016/7/15.
 */
public class DeepCopy implements Cloneable, Serializable {
    private Person person;

    public DeepCopy(Person person) {
        this.person = person;
    }

    public Person getPerson() {
        return person;
    }

    @Override
    public String toString() {
        return &amp;quot;DeepCopy{&amp;quot; +
                &amp;quot;person=&amp;quot; + person +
                &amp;#39;}&amp;#39;;
    }

    public Object deepClone() {
        ByteArrayOutputStream bo = new ByteArrayOutputStream();
        Object object = null;
        try {
            ObjectOutputStream oo = new ObjectOutputStream(bo);
            oo.writeObject(this);
            ByteArrayInputStream bi = new ByteArrayInputStream(bo.toByteArray());
            ObjectInputStream oi = new ObjectInputStream(bi);
            object = oi.readObject();
        } catch (ClassNotFoundException | IOException e) {
            e.printStackTrace();
        }

        return object;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;DeepCopyTest.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class DeepCopyTest extends TestCase {

    @Test
    public void testDeepClone() throws Exception {
        Person person = new Person(&amp;quot;ryo&amp;quot;, 23);
        DeepCopy deepCopy = new DeepCopy(person);

        DeepCopy clone = (DeepCopy) deepCopy.deepClone();
        Person person1 = clone.getPerson();
        person1.setName(&amp;quot;jack&amp;quot;);

        assertEquals(&amp;quot;DeepCopy{person=Person{name=&amp;#39;jack&amp;#39;, age=23}}&amp;quot;, clone.toString());
        assertEquals(&amp;quot;DeepCopy{person=Person{name=&amp;#39;ryo&amp;#39;, age=23}}&amp;quot;, deepCopy.toString());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#factory&quot; name=&quot;factory&quot;&gt;&lt;/a&gt;Factory&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#simple-factory&quot; name=&quot;simple-factory&quot;&gt;&lt;/a&gt;simple factory&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-15-simple-factory.png&quot; alt=&quot;simpleFactory&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;interface&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Car {
    String info();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class1&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class BaomaCar implements Car {
    public static final String BAO_MA = &amp;quot;Baoma&amp;quot;;

    @Override
    public String info() {
        return BAO_MA;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class2&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class AodiCar implements Car {
    public static final String AO_DI = &amp;quot;Ao di&amp;quot;;

    @Override
    public String info() {
        return AO_DI;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;factory&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class SimpleFactory {
    private SimpleFactory(){}

    public static Car factory(String type) {
        Car car = null;

        if (type.equals(BaomaCar.BAO_MA)) {
            car = new BaomaCar();
        } else if (type.equals(AodiCar.AO_DI)) {
            car = new AodiCar();
        }

        return car;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Test
public void testFactory() {
    Car car = SimpleFactory.factory(BaomaCar.BAO_MA);
    assertEquals(BaomaCar.BAO_MA, car.info());

    Car car1 = SimpleFactory.factory(AodiCar.AO_DI);
    assertEquals(AodiCar.AO_DI, car1.info());
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#factory-method&quot; name=&quot;factory-method&quot;&gt;&lt;/a&gt;factory method&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-15-factory-method.png&quot; alt=&quot;simpleFactory&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Interface&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Movable {
    void run();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class1&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class AirMovable implements Movable {
    @Override
    public void run() {
        System.out.println(&amp;quot;air running...&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class2&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class SeaMovable implements Movable {
    @Override
    public void run() {
        System.out.println(&amp;quot;Sea running...&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;InterfaceFactory&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public abstract class AbstractMoveFactory {
    abstract Movable getInstance();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class1Factory&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class SeaMoveFactory extends AbstractMoveFactory {
    @Override
    Movable getInstance() {
        return new SeaMovable();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;class2Factory&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class AirMoveFactory extends AbstractMoveFactory {
    @Override
    Movable getInstance() {
        return new AirMovable();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class FactoryMethodTest extends TestCase {
    @Test
    public void testGetInstance() {
        AbstractMoveFactory abstractMoveFactory = new AirMoveFactory();
        Movable movable = abstractMoveFactory.getInstance();
        movable.run();
    }

    @Test
    public void testGetInstance2() {
        AbstractMoveFactory abstractMoveFactory = new SeaMoveFactory();
        Movable movable = abstractMoveFactory.getInstance();
        movable.run();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Sea running...
air running...

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#abstract-factory&quot; name=&quot;abstract-factory&quot;&gt;&lt;/a&gt;abstract factory&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Intent&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Provide an interface for creating families of related or dependent objects without specifying their concrete classes.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Applicability&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;a system should be independent of how its products are created, composed, and represented.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;a system should be configured with one of multiple families of products.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;a family of related product objects is designed to be used together, and you need to enforce this constraint.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;you want to provide a class library of products, and you want to reveal just their interfaces, not their implementations.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Structure&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-16-abstract-factory.png&quot; alt=&quot;abstractFactory&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Consequences&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;It isolates concrete classes.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;It makes exchanging product families easy.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;It promotes consistency among products.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;strong&gt;Supporting new kinds of products is difficult&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Implementation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;AbstractFactory.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public abstract class AbstractFactory {
    public abstract Vehicle createVehicle();
    public abstract Fruit createFruit();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;DefaultFactory.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class DefaultFactory extends AbstractFactory {
    @Override
    public Vehicle createVehicle() {
        return new Boat();
    }

    @Override
    public Fruit createFruit() {
        return new Apple();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Vehicle and Boat&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Vehicle {
    void info();
}

public class Boat implements Vehicle {
    @Override
    public void info() {
        System.out.println(&amp;quot;Vehicle boat...&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Fruit &amp;amp; Apple&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Fruit {
    void info();
}

public class Apple implements Fruit {
    @Override
    public void info() {
        System.out.println(&amp;quot;Fruit Apple...&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class AbstractFactoryTest extends TestCase {
    @Test
    public void testCreateVehicle() throws Exception {
        DefaultFactory defaultFactory = new DefaultFactory();
        Vehicle vehicle = defaultFactory.createVehicle();
        vehicle.info();
    }


    @Test
    public void testCreateFruit() throws Exception {
        DefaultFactory defaultFactory = new DefaultFactory();
        Fruit fruit = defaultFactory.createFruit();
        fruit.info();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;Fruit Apple...
Vehicle boat...

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Design Pattern2</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-07-18-DesignPattern2.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#proxy&quot; name=&quot;proxy&quot;&gt;&lt;/a&gt;Proxy&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Intent&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Provide a surrogate or placeholder for another object to control access to it.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Applicability&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;A &lt;strong&gt;remote proxy&lt;/strong&gt; provides a local representative for an object in a different address space.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;A &lt;strong&gt;virtual proxy&lt;/strong&gt; creates expensive objects on demand.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;A &lt;strong&gt;protection proxy&lt;/strong&gt; controls access to the original object.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;A &lt;strong&gt;smart reference&lt;/strong&gt; is a replacement for a bare pointer that performs additional actions when an object is accessed.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Consequences&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;A remote proxy can hide the fact that an object resides in a different address space.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;A virtual proxy can perform optimizations such as creating an object on demand.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Both protection proxies and smart references allow additional housekeeping tasks when an object is accessed.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#static-proxy&quot; name=&quot;static-proxy&quot;&gt;&lt;/a&gt;static proxy&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;struct&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-18-static-proxy.png&quot; alt=&quot;static proxy&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;demo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Suppose we want to add some methods before || after the RealSubject.operation(), how to do ?&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Subject.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Subject {
    void operation();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;RealSubject.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class RealSubject implements Subject {
    @Override
    public void operation() {
        System.out.println(&amp;quot;Real do sth.&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ProxySubject.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class ProxySubject implements Subject {
    private Subject subject;

    public ProxySubject(Subject subject) {
        this.subject = subject;
    }

    @Override
    public void operation() {
        System.out.println(&amp;quot;before...&amp;quot;);
        subject.operation();
        System.out.println(&amp;quot;after...&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class ProxySubjectTest extends TestCase {
    @Test
    public void testProxy() {
        Subject subject = new ProxySubject(new RealSubject());
        subject.operation();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;before...
Real do sth.
after...

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#dynamic-proxy&quot; name=&quot;dynamic-proxy&quot;&gt;&lt;/a&gt;dynamic proxy&lt;/h2&gt;
&lt;p&gt;Why we use dynamic proxy ? If there are many methods, it&amp;rsquo;s hard to use static proxy to solve it.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;struct&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-18-dynamic-proxy.png&quot; alt=&quot;static proxy&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Request.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface Request {
    void request();

    void response();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;RealRequest.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class RealRequest implements Request {
    @Override
    public void request() {
        System.out.println(&amp;quot;Real request&amp;quot;);
    }

    @Override
    public void response() {
        System.out.println(&amp;quot;Real response&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ProxyHandler.java&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We use reflect to dynamic create class file, then the target object is flexible.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.dynamicProxy;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

/**
 * Created by 侯彬彬 on 2016/7/18.
 */
public class ProxyHandler implements InvocationHandler {
    private Object target;

    public Object bind(Object target) {
        this.target = target;

        return Proxy.newProxyInstance(target.getClass().getClassLoader(),
                target.getClass().getInterfaces(),
                this);
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(&amp;quot;dynamic before...&amp;quot;);
        Object result = method.invoke(target, args);
        System.out.println(&amp;quot;dynamic after...\n&amp;quot;);

        return result;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class DynamicProxyTest extends TestCase {
    @Test
    public void testProxy() {
        ProxyHandler proxyHandler = new ProxyHandler();
        Request request = (Request) proxyHandler.bind(new RealRequest());
        request.request();

        request.response();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;dynamic before...
Real request
dynamic after...

dynamic before...
Real response
dynamic after...


Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tips: As you can see, the dynamic proxy of java is depends on &lt;code&gt;interface&lt;/code&gt;, if there is no interface, we can use &lt;a href=&quot;http://www.eclipse.org/aspectj/&quot;&gt;aspectj&lt;/a&gt; to solve it.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#strategy&quot; name=&quot;strategy&quot;&gt;&lt;/a&gt;Strategy&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Intent&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Define a family of algorithms, encapsulate each one, and make them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Applicability&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;many related classes differ only in their behavior. Strategy is provide a way to configure a class with one of many behaviors.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;you need different variants of an algorithm. For example, you might define algorithms reflecting different space/time trade-offs.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Strategies can be used when these variants are implemented as a classhierarchy of algorithms [HO87].&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;an algorithm uses data that clients shouldn&amp;rsquo;t know about. Use the Strategy pattern to avoid exposing complex, algorithm-specific data structures.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;a class defines many behaviors, and these appear as multiple conditional statements in its operations.&lt;br/&gt;Instead of many conditionals, move related conditional branches into their own Strategy class.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Struct&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-19-strategy.png&quot; alt=&quot;Strategy&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Consequences&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Inheritance can help &lt;strong&gt;factor out common functionality&lt;/strong&gt; of the algorithms.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Encapsulating the algorithm in separate Strategy classes lets you vary the algorithm independently of its context, making it easier to switch, understand, and extend.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Strategies eliminate conditional statements.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Strategies can provide different implementations of the same behavior. The client can choose among strategies with different time and space trade-offs.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;shortcoming&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Clients must be aware of different Strategies.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Communication overhead between Strategy and Context.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Increased number of objects.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;Implementation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Suppose we has different count for different level customers.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;common member: no count&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;advanced member: 0.9&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;VIP: 0.7&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here is the code:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;PriceStrategy.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface PriceStrategy {
    double calcPrice(double price);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;CommonMemberStrategy.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class CommonMemberStrategy implements PriceStrategy {
    @Override
    public double calcPrice(double price) {
        System.out.println(&amp;quot;Common member has no count...&amp;quot;);

        return price;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;AdvancedMemberStrategy.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class AdvancedMemberStrategy implements PriceStrategy {
    private static final double COUNT = 0.9;

    @Override
    public double calcPrice(double price) {
        System.out.println(&amp;quot;Advanced member has the count of &amp;quot; + COUNT);

        return price * COUNT;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;VIPStrategy.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class VIPStrategy implements PriceStrategy {
    private static final double COUNT = 0.7;

    @Override
    public double calcPrice(double price) {
        System.out.println(&amp;quot;VIP has the count of &amp;quot; + COUNT);

        return price * COUNT;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Price.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Price {
    private PriceStrategy priceStrategy;

    public Price(PriceStrategy priceStrategy) {
        this.priceStrategy = priceStrategy;
    }

    public double getPrice(double price) {
        return priceStrategy.calcPrice(price);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class PriceTest extends TestCase {
    public void testGetPrice() {
        final double PRICE  = 10.0;

        Price price = new Price(new CommonMemberStrategy());
        price.getPrice(PRICE);

        Price price1 = new Price(new AdvancedMemberStrategy());
        price1.getPrice(PRICE);

        Price price2 = new Price(new VIPStrategy());
        price2.getPrice(PRICE);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Common member has no count...
Advanced member has the count of 0.9
VIP has the count of 0.7

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>POI</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-07-19-poi.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#poi&quot; name=&quot;poi&quot;&gt;&lt;/a&gt;POI&lt;/h1&gt;
&lt;p&gt;Apache POI - the Java API for Microsoft Documents&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://poi.apache.org/&quot;&gt;poi&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://poi.apache.org/spreadsheet/quick-guide.html&quot;&gt;quick-start&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;jar&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.poi&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;poi&amp;lt;/artifactId&amp;gt;
    &amp;lt;verison&amp;gt;${poi.version}&amp;lt;/verison&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.poi&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;poi-ooxml&amp;lt;/artifactId&amp;gt;
    &amp;lt;verison&amp;gt;${poi-ooxml.version}&amp;lt;/verison&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;get first sheet&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;/**
* 获取Excel第一个Sheet
* @param file excel文件
* @param fileSuffix  excel类型 xls/xlsx
*/
public static Sheet getFirstSheet(File file, String fileSuffix) throws IOException {
    InputStream stream = new FileInputStream(file);
    Workbook wb = null;
    if (fileSuffix.equals(&amp;quot;xls&amp;quot;)) {
      wb = new HSSFWorkbook(stream);
    } else if (fileSuffix.equals(&amp;quot;xlsx&amp;quot;)) {
      wb = new XSSFWorkbook(stream);
    }
    return wb.getSheetAt(0);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;get cell value&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;/**
* 根据列类型，获得对应的String类型
* @return 不存在/不支持的类型，则返回&amp;quot;&amp;quot;
*/
public static String getCellValueStr(Cell cell, String dateFormatStr) {
    String cellValueStr = &amp;quot;&amp;quot;;
    if (null != cell) {
      Object cellValue = null;
      switch (cell.getCellType()) {
        case Cell.CELL_TYPE_STRING:
          cellValueStr = cell.getRichStringCellValue().getString();
          break;
        case Cell.CELL_TYPE_NUMERIC:
          if (DateUtil.isCellDateFormatted(cell)) {
            cellValue= cell.getDateCellValue();
            SimpleDateFormat formatter = new SimpleDateFormat(dateFormatStr);
            cellValueStr = formatter.format(cellValue);
          } else {
            cellValue=cell.getNumericCellValue();
            cellValueStr = String.valueOf(cellValue);
          }
          break;
        case Cell.CELL_TYPE_BOOLEAN:
          cellValue = cell.getBooleanCellValue();
          cellValueStr = String.valueOf(cellValue);
          break;
        case Cell.CELL_TYPE_FORMULA:
          cellValue = cell.getCellFormula();
          cellValueStr = String.valueOf(cellValue);
          break;
        default:
          System.out.println(&amp;quot;不支持的excel单元格类型&amp;quot;);
      }
    }
    return cellValueStr;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;get excel content &amp;ndash;&amp;gt; CSV&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;/**
* 获取Excel工作区的文件内容 - 字符串形式
* - 需要置换excel每列的数据（除了每行的结束）以外所有换行符 &amp;quot;\n&amp;quot;
* - 所有CEll都视为String类型
*/
public static String getSheetContent(Sheet sheet, String charset) throws UnsupportedEncodingException {
    StringBuffer stringBuffer = new StringBuffer();
    String dateTimeFormatStr = &amp;quot;yyyy-MM-dd HH:mm:ss&amp;quot;;
    String lineSeparator = System.getProperty(&amp;quot;line.separator&amp;quot;, &amp;quot;\n&amp;quot;);  //换行符

    for(Row row : sheet) {
      for(Cell cell : row) {
        cell.setCellType(Cell.CELL_TYPE_STRING);  //全部以String类型读取
        String cellStr = new String(getCellValueStr(cell, dateTimeFormatStr).getBytes(), charset);
        String trimCellStr = cellStr.replaceAll(lineSeparator, StringUtils.EMPTY);
        stringBuffer.append(trimCellStr).append(&amp;quot;,&amp;quot;);
      }

      //此行有内容
      if(row.getFirstCellNum() != CommonConstant.INVALID_NUMBER) {
        stringBuffer.deleteCharAt(stringBuffer.lastIndexOf(&amp;quot;,&amp;quot;));  //最后一个“,”
        stringBuffer.append(lineSeparator);
      }
    }

    return stringBuffer.toString();
}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Mybatis</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-07-27-mybatis.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#mybatis&quot; name=&quot;mybatis&quot;&gt;&lt;/a&gt;MyBatis&lt;/h1&gt;
&lt;p&gt;MyBatis is a first class persistence framework with support for custom SQL, stored procedures and advanced mappings.&lt;br/&gt;MyBatis eliminates almost all of the JDBC code and manual setting of parameters and retrieval of results.&lt;br/&gt;MyBatis can use simple XML or Annotations for configuration and map primitives, Map interfaces and Java POJOs (Plain Old Java Objects) to database records.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.mybatis.org/&quot;&gt;mybatis&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.mybatis.org/mybatis-3/&quot;&gt;mybatis doc&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://mybatis.tk/&quot;&gt;tools&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;mybatis.jar &amp;amp; mysql-connector-java.jar&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.mybatis&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;mybatis&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${mybatis.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${mysql.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;MyBatisUtil.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class MyBatisUtil {
    private MyBatisUtil(){}
    private static SqlSessionFactory sqlSessionFactory = null;

    static {
        try {
            sqlSessionFactory = new SqlSessionFactoryBuilder().build(
                    Resources.getResourceAsStream(&amp;quot;mybatis-config.xml&amp;quot;));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static SqlSessionFactory getSqlSessionFactory() {
        return sqlSessionFactory;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;mybatis-config.xml &amp;amp; jdbc.properties&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE configuration
        PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;
        &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;
&amp;lt;configuration&amp;gt;
    &amp;lt;!-- 引入配置信息文件 --&amp;gt;
    &amp;lt;properties resource=&amp;quot;jdbc.properties&amp;quot; /&amp;gt;

    &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;
        &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;
            &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;
            &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;
                &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;${driver}&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;${url}&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;${user}&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;${password}&amp;quot;/&amp;gt;
            &amp;lt;/dataSource&amp;gt;
        &amp;lt;/environment&amp;gt;
    &amp;lt;/environments&amp;gt;

    &amp;lt;mappers&amp;gt;
        &amp;lt;mapper resource=&amp;quot;com/ryo/mapper/UserMapper.xml&amp;quot;/&amp;gt;
    &amp;lt;/mappers&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;properties&quot;&gt;driver=com.mysql.jdbc.Driver
url=jdbc:mysql://127.0.0.1:3306/mybatis?useUnicode=true&amp;amp;characterEncoding=utf8
user=root
password=
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;UserMapper.java &amp;amp; UserMapper.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface UserMapper {
    User selectUser(Long id);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
        PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
        &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;

&amp;lt;mapper namespace=&amp;quot;com.ryo.mapper.UserMapper&amp;quot;&amp;gt;

    &amp;lt;!--定义所有列,方便使用,一般应该避免使用*--&amp;gt;
    &amp;lt;sql id=&amp;quot;columns&amp;quot;&amp;gt; id,username,password,createdOn&amp;lt;/sql&amp;gt;

    &amp;lt;!--id 对应方法名称--&amp;gt;
    &amp;lt;select id=&amp;quot;selectUser&amp;quot; parameterType=&amp;quot;java.lang.Long&amp;quot; resultType=&amp;quot;com.ryo.domain.User&amp;quot;&amp;gt;
        SELECT
        &amp;lt;include refid=&amp;quot;columns&amp;quot;/&amp;gt;
        FROM User WHERE id = #{id}
    &amp;lt;/select&amp;gt;
&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;sql &amp;amp; domain&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;CREATE TABLE user (
  id        BIGINT(20) PRIMARY KEY AUTO_INCREMENT NOT NULL
  COMMENT &amp;#39;主键, 自增&amp;#39;,
  username  VARCHAR(64)                           NOT NULL
  COMMENT &amp;#39;用户名&amp;#39;,
  password  VARCHAR(128)                          NOT NULL
  COMMENT &amp;#39;密码&amp;#39;,
  createdOn DATETIME                              NOT NULL
  COMMENT &amp;#39;创建时间&amp;#39;,

  UNIQUE INDEX `username_UNIQUE` (`username`)
)
  COMMENT &amp;#39;用户表&amp;#39;;

INSERT INTO `user` (username, password, createdOn) VALUES (
  &amp;#39;ryo&amp;#39;, &amp;#39;123456&amp;#39;, &amp;#39;2016-07-28 14:32:30&amp;#39;
);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class User implements Serializable {
    @Id
    @GeneratedValue(strategy=GenerationType.IDENTITY)
    private Long id;
    private String username;
    private String password;
    private Date createdOn;

    //getter &amp;amp; setter

    //toString()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;UserMapperTest.java &amp;amp; result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class UserMapperTest {
    private SqlSessionFactory sqlSessionFactory = MyBatisUtil.getSqlSessionFactory();

    @Test
    public void testSelectUser() throws IOException {
        UserMapper userMapper = sqlSessionFactory.openSession().getMapper(UserMapper.class);
        System.out.println(userMapper.selectUser(1L));
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;User{id=1, username=&amp;#39;ryo&amp;#39;, password=&amp;#39;123456&amp;#39;, createdOn=Thu Jul 28 14:32:30 CST 2016}

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;File strut&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-07-31-mybatis.png&quot; alt=&quot;files&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#tips&quot; name=&quot;tips&quot;&gt;&lt;/a&gt;Tips&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#key-has-list&quot; name=&quot;key-has-list&quot;&gt;&lt;/a&gt;key has list&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;*key.java
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Key {

  private String username;

  private List&amp;lt;Integer&amp;gt; ids;

  //getter &amp;amp; setter
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;*mapper.xml
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;SELECT * FROM tableName
WHERE username = #{username}
&amp;lt;if test=&amp;quot;orderStatusList != null and orderStatusList.size &amp;gt; 0&amp;quot;&amp;gt;
  AND id in
  &amp;lt;foreach item=&amp;quot;item&amp;quot; index=&amp;quot;index&amp;quot; collection=&amp;quot;ids&amp;quot; open=&amp;quot;(&amp;quot; separator=&amp;quot;,&amp;quot; close=&amp;quot;)&amp;quot;&amp;gt;
	#{item}
  &amp;lt;/foreach&amp;gt;
&amp;lt;/if&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Tips&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If we have this case:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;StudentDto.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;public class StudentDto {
    private Long id;
    private String name;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We want to query student that matches (id=1 and name=&amp;ldquo;001&amp;rdquo;) OR (id=2 and name=&amp;ldquo;002&amp;rdquo;)&amp;hellip;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;*Key.java
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;public class Key {
    private int age;
    private List&amp;lt;StudentDto&amp;gt; studentDtoList;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;*Mapper.xml
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;select id=&amp;quot;query&amp;quot; parameterType=&amp;quot;Key&amp;quot; resultMap=&amp;quot;BaseResultMap&amp;quot;&amp;gt;
    SELECT * FROM table 
    WHERE age=#{age}
    &amp;lt;if test=&amp;quot;studentDtoList != null and studentDtoList.size &amp;gt; 0&amp;quot;&amp;gt;
        AND
        &amp;lt;foreach item=&amp;quot;item&amp;quot; index=&amp;quot;index&amp;quot; collection=&amp;quot;studentDtoList&amp;quot; open=&amp;quot;(&amp;quot; separator=&amp;quot; OR &amp;quot; close=&amp;quot;)&amp;quot;&amp;gt;
          (
          id=#{item.id,jdbcType=INTEGER} and
          name=#{item.name,jdbcType=CHAR}
          )
        &amp;lt;/foreach&amp;gt;
    &amp;lt;/if&amp;gt;
    
    
&amp;lt;/select&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#result-has-list-&quot; name=&quot;result-has-list-&quot;&gt;&lt;/a&gt;result has list;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;We have a &lt;code&gt;classroom&lt;/code&gt; &amp;amp; &lt;code&gt;student&lt;/code&gt; table simple like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;classroom(
id, name
);

student(
id, classroom_id, name
);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;the model of student is:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Student {
    private Long id;
    private Long classroomId;
    private String name;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;the result we want may like this:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Result {
    private Long id;  //classroom id;
    private String name; //classroom name
    private List&amp;lt;Student&amp;gt; studentList;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;the resultMap should be:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;&amp;lt;resultMap id=&amp;quot;Result&amp;quot; type=&amp;quot;Result&amp;quot;&amp;gt;
	&amp;lt;id column=&amp;quot;id&amp;quot; property=&amp;quot;id&amp;quot; jdbcType=&amp;quot;BIGINT&amp;quot;/&amp;gt;
	&amp;lt;result column=&amp;quot;name&amp;quot; property=&amp;quot;name&amp;quot; jdbcType=&amp;quot;CHAR&amp;quot;/&amp;gt;

	&amp;lt;collection property=&amp;quot;studentList&amp;quot; ofType=&amp;quot;Student&amp;quot;&amp;gt;
		&amp;lt;id column=&amp;quot;student_id&amp;quot; property=&amp;quot;id&amp;quot; jdbcType=&amp;quot;BIGINT&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;classroom_id&amp;quot; property=&amp;quot;classroomId&amp;quot; jdbcType=&amp;quot;BIGINT&amp;quot;/&amp;gt;
		&amp;lt;result column=&amp;quot;student_name&amp;quot; property=&amp;quot;name&amp;quot; jdbcType=&amp;quot;INTEGER&amp;quot;/&amp;gt;
	&amp;lt;/collection&amp;gt;
&amp;lt;/resultMap&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;the query sql:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;SELECT c.id, c.name,
	s.id AS  student_id,
	s.classroom_id AS classroom_id,
	s.name AS student_name
FROM classroom AS c
LEFT JOIN student ON c.id = s.classroom_id
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;return null from a method with a primitive return type&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You have two ways to solve this:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Change the result type from primitive to object;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Use &lt;code&gt;IFNULL&lt;/code&gt; of MySQL, like &lt;a href=&quot;http://houseyoung.cn/?p=73&quot;&gt;this&lt;/a&gt;:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;mysql&quot;&gt;SELECT IFNULL(MAX(name),0) AS name FROM user WHERE id = #{id}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;diff between &lt;code&gt;#{field}&lt;/code&gt; and &lt;code&gt;${field}&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You use &lt;code&gt;order by #{field}/${field}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;#{field}&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If set field=&amp;ldquo;create_time DESC&amp;rdquo;, the result is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;order by create_time DESC ASC
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;${field}&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If set field=&amp;ldquo;create_time DESC&amp;rdquo;, the result is:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;order by create_time ASC
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#error&quot; name=&quot;error&quot;&gt;&lt;/a&gt;Error&lt;/h1&gt;
&lt;p&gt;java.lang.NoClassDefFoundError: org/apache/ibatis/cursor/Cursor&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;why&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;jar 包版本冲突&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;solve&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注意 &lt;code&gt;mybatis-spring.jar&lt;/code&gt; 对应的 &lt;code&gt;mybatis.jar&lt;/code&gt; 和 &lt;code&gt;spring-*.jar&lt;/code&gt; 版本。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Rocketmq</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-03-rocketmq.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#message-queue&quot; name=&quot;message-queue&quot;&gt;&lt;/a&gt;Message Queue&lt;/h1&gt;
&lt;p&gt;消息队列（Message Queue，简称 MQ）是阿里巴巴集团中间件技术部自主研发的专业消息中间件。产品基于高可用分布式集群技术，&lt;br/&gt;提供消息发布订阅、消息轨迹查询、定时（延时）消息、资源统计、监控报警等一系列消息云服务，是企业级互联网架构的核心产品。&lt;br/&gt;为分布式应用系统提供异步解耦、削峰填谷的能力，同时具备海量消息堆积、高吞吐、可靠重试等互联网应用所需的特性。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://help.aliyun.com/document_detail/29532.html?spm=5176.doc35370.6.89.HWqJPD&quot;&gt;mq&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; Active MQ Service-&amp;gt;Request MQ Resource:&lt;br/&gt; Request MQ Resource-&amp;gt;Send Msg By SDK:&lt;br/&gt; Send Msg By SDK-&amp;gt;Consumer Msg:&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.aliyun.com/price/product?spm=5176.7946988.209956.6.BrHbDM#/ons/detail&quot;&gt;Active Service&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、 开通服务&lt;/p&gt;
&lt;p&gt;阿里云主页-》产品-》互联网中间件-》RocketMQ-》开通&lt;/p&gt;
&lt;p&gt;2、 下载demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:lollipopjin/Aliware-MQ-demo.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、IDEA 导入项目并添加 maven 支持。&lt;/p&gt;
&lt;p&gt;4、管理平台&lt;/p&gt;
&lt;p&gt;(1) TOPIC管理-》发布Topic&lt;/p&gt;
&lt;p&gt;定义一个topic: MQ_TEST_DEMO_TOPIC 备注: MQ_TEST&lt;/p&gt;
&lt;p&gt;(2) TOPIC管理-》发布Topic-》申请发布&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Producer ID: PID_RYO_MQ_TEST
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(3) TOPIC管理-》发布Topic-》申请订阅&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Consumer ID: CID_RYO_MQ_TEST
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#mqconfig&quot; name=&quot;mqconfig&quot;&gt;&lt;/a&gt;MQConfig&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;创建Access Key&lt;/strong&gt;-》&lt;/p&gt;
&lt;p&gt;(1) AccessKey&lt;br/&gt;(2) SecretKey&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#run-demo&quot; name=&quot;run-demo&quot;&gt;&lt;/a&gt;Run demo&lt;/h2&gt;
&lt;p&gt;将&lt;code&gt;MqConfig.java&lt;/code&gt;中数据修改为设置的值。直接运行 main 方法。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#quick-start&quot; name=&quot;quick-start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/alibaba/RocketMQ/wiki/quick-start&quot;&gt;quick start&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;需要&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;64bit OS, best to have Linux/Unix/Mac;
64bit JDK 1.6+;
Maven 3.x
Git
Screen
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;JDK&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:aliyun-ons-client-java houbinbin$ java -version
java version &amp;quot;1.8.0_91&amp;quot;
Java(TM) SE Runtime Environment (build 1.8.0_91-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Download and install&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Download rocketmq&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;download from this &lt;code&gt;https://github.com/alibaba/RocketMQ/releases&lt;/code&gt;, now tag is &lt;code&gt;3.5.8&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ls
RocketMQ-3.5.8		RocketMQ-3.5.8.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ pwd
/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.5.8

$ bash instal.sh
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then we get&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; To refactor, move this assembly into a child project and use the flag &amp;lt;useAllReactorProjects&amp;gt;true&amp;lt;/useAllReactorProjects&amp;gt; in each moduleSet.
[INFO] Building tar: /Users/houbinbin/IT/tools/rocketMQ/RocketMQ-3.5.8/target/alibaba-rocketmq-broker.tar.gz
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] rocketmq-all 3.5.8 ................................. SUCCESS [ 48.565 s]
[INFO] rocketmq-remoting 3.5.8 ............................ SUCCESS [  1.772 s]
[INFO] rocketmq-common 3.5.8 .............................. SUCCESS [  1.348 s]
[INFO] rocketmq-client 3.5.8 .............................. SUCCESS [  1.522 s]
[INFO] rocketmq-store 3.5.8 ............................... SUCCESS [  0.815 s]
[INFO] rocketmq-srvutil 3.5.8 ............................. SUCCESS [  0.139 s]
[INFO] rocketmq-broker 3.5.8 .............................. SUCCESS [  0.951 s]
[INFO] rocketmq-tools 3.5.8 ............................... SUCCESS [  0.889 s]
[INFO] rocketmq-namesrv 3.5.8 ............................. SUCCESS [  0.373 s]
[INFO] rocketmq-example 3.5.8 ............................. SUCCESS [  0.392 s]
[INFO] rocketmq-filtersrv 3.5.8 ........................... SUCCESS [  0.337 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 59.323 s
[INFO] Finished at: 2017-01-02T18:21:01+08:00
[INFO] Final Memory: 52M/1042M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;环境配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Make sure the following environment variable is properly setup: &lt;code&gt;JAVA_HOME&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now setup ROCKETMQ_HOME environment variable:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd devenv

echo &amp;quot;ROCKETMQ_HOME=`pwd`&amp;quot; &amp;gt;&amp;gt; ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;make it work at once:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;source ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Launch RocketMQ Name Server and Broker&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;确保在&lt;code&gt;devenv&lt;/code&gt;目录下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd bin
$ pwd
/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.5.8/devenv/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Start Name Server&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;screen bash mqnamesrv
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现实是可能会遇到这个:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ screen bash mqnamesrv
[screen is terminating]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://superuser.com/questions/781591/screen-is-terminating-for-non-root&quot;&gt;screen is terminating&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;执行以下命令(暂时提权):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;su
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用 &lt;code&gt;screen&lt;/code&gt; 命令进入, 运行:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   bash mqnamesrv
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sh-3.2# bash mqnamesrv
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=320m; support was removed in 8.0
Java HotSpot(TM) 64-Bit Server VM warning: UseCMSCompactAtFullCollection is deprecated and will likely be removed in a future release.
The Name Server boot success. serializeType=JSON
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you see &amp;ldquo;The Name Server boot success. serializeType=JSON&amp;rdquo;, this means name server starts successfully.&lt;/p&gt;
&lt;p&gt;Press &lt;code&gt;Ctrl + A&lt;/code&gt;, then &lt;code&gt;D&lt;/code&gt; to detach the session.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sh-3.2# screen
[detached]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Start Broker&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sh-3.2# screen
sh-3.2# pwd
/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.5.8/devenv/bin
sh-3.2# bash mqbroker -n localhost:9876
cp: /var/root/rmq_bk_gc.log: No such file or directory
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=320m; support was removed in 8.0
Java HotSpot(TM) 64-Bit Server VM warning: UseCMSCompactAtFullCollection is deprecated and will likely be removed in a future release.
Java HotSpot(TM) 64-Bit Server VM warning: Cannot open file /var/root/tmpfs/logs/gc.log due to No such file or directory

The broker[houbinbindeMacBook-Pro.local, 192.168.2.102:10911] boot success. serializeType=JSON and name server is localhost:9876
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you see output like the following:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;The broker[lizhanhui-Lenovo, 172.30.30.233:10911] boot success. serializeType=JSON and name server is localhost:9876``` your broker then runs successfully.&quot;&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; Send &amp;amp; Receive MSG

Before sending/receiving messages, we need to tell clients where name servers are located. RocketMQ provides multiple ways to achieve this.
For simplicity, we use environment variable ```NAMESRV_ADDR```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ export NAMESRV_ADDR=localhost:9876&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Test In Mac


&amp;gt; [3.4.6 demo zh_CN](http://blog.csdn.net/crazyxq/article/details/52870502)

&amp;gt; [blog zh_CN](http://blog.csdn.net/crazyxq/article/details/52870502)

&amp;gt; [rocketmq console zh_CN](http://blog.csdn.net/pandajava/article/details/50833878)

&amp;gt; [分布式](http://blog.csdn.net/qq_19244267/article/details/52411883)

- Download

download from this ```https://github.com/alibaba/RocketMQ/archive/v3.4.6.tar.gz```, now tag is ```3.4.6```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ&lt;br/&gt;$ ls&lt;br/&gt;RocketMQ-3.4.6 RocketMQ-3.4.6.tar.gz&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- Install

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.4.6&lt;br/&gt;$ bash install.sh&lt;/p&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 添加可执行权限

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.4.6/bin&lt;br/&gt;$ chmod +x mqadmin mqbroker mqfiltersrv mqshutdown mqnamesrv&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;- NameServer

默认端口为```9876```, 进入 ```devenv/bin``` 目录

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ/RocketMQ-3.4.6/devenv/bin&lt;/p&gt;
&lt;p&gt;$ sudo nohup sh mqnamesrv &amp;gt; ~/logs/ons.log &amp;amp;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;log将打印在```~/logs/ons.log```

不出意外的话,应该会报错如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ERROR: Please set the JAVA_HOME variable in your environment, We need java(x64)! !!&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; [mac error](http://blog.csdn.net/mingtian625/article/details/49307189)

这个是阿里内部直接定义的,可以将 ```runserver.sh``` 中的以下内容注释掉(前提是确实正确的配置了JDK),并将**JAVA**直接写死为当前JAVA_HOME

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:bin houbinbin$ which java&lt;br/&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin/java&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```runserver.sh```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/sh&lt;/p&gt;
&lt;p&gt;#===========================================================================================&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#java-environment-setting&quot; name=&quot;java-environment-setting&quot;&gt;&lt;/a&gt;Java Environment Setting&lt;/h1&gt;
&lt;p&gt;#===========================================================================================&lt;br/&gt;error_exit ()&lt;br/&gt;{&lt;br/&gt; echo &amp;ldquo;ERROR: $1 !!&amp;rdquo;&lt;br/&gt; exit 1&lt;br/&gt;}&lt;/p&gt;
&lt;p&gt;#[ ! -e &amp;ldquo;$JAVA_HOME/bin/java&amp;rdquo; ] &amp;amp;&amp;amp; JAVA_HOME=$HOME/jdk/java&lt;/p&gt;
&lt;p&gt;#[ ! -e &amp;ldquo;$JAVA_HOME/bin/java&amp;rdquo; ] &amp;amp;&amp;amp; JAVA_HOME=/opt/taobao/java&lt;/p&gt;
&lt;p&gt;#[ ! -e &amp;ldquo;$JAVA_HOME/bin/java&amp;rdquo; ] &amp;amp;&amp;amp; error_exit &amp;ldquo;Please set the JAVA_HOME variable in your environment, We need java(x64)!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;#export JAVA_HOME&lt;br/&gt;export JAVA=&amp;ldquo;/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin/java&amp;rdquo;&lt;br/&gt;export BASE_DIR=$(dirname $0)/..&lt;br/&gt;export CLASSPATH=.:${BASE_DIR}/conf:${CLASSPATH}&lt;/p&gt;
&lt;p&gt;#===========================================================================================&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#jvm-configuration&quot; name=&quot;jvm-configuration&quot;&gt;&lt;/a&gt;JVM Configuration&lt;/h1&gt;
&lt;p&gt;#===========================================================================================&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -server -Xms4g -Xmx4g -Xmn2g -XX:PermSize=128m -XX:MaxPermSize=320m&amp;rdquo;&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -XX:+UseConcMarkSweepGC -XX:+UseCMSCompactAtFullCollection -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled -XX:SoftRefLRUPolicyMSPerMB=0 -XX:+CMSClassUnloadingEnabled -XX:SurvivorRatio=8 -XX:+DisableExplicitGC&amp;rdquo;&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -verbose:gc -Xloggc:${HOME}/rmq_srv_gc.log -XX:+PrintGCDetails&amp;rdquo;&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -XX:-OmitStackTraceInFastThrow&amp;rdquo;&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -Djava.ext.dirs=${BASE_DIR}/lib&amp;rdquo;&lt;/p&gt;
&lt;p&gt;#JAVA_OPT=&amp;ldquo;${JAVA_OPT} -Xdebug -Xrunjdwp:transport=dt_socket,address=9555,server=y,suspend=n&amp;rdquo;&lt;br/&gt;JAVA_OPT=&amp;ldquo;${JAVA_OPT} -cp ${CLASSPATH}&amp;rdquo;&lt;/p&gt;
&lt;p&gt;$JAVA ${JAVA_OPT} $@&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;重新执行:

log如下,则证明启动成功。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0&lt;br/&gt;Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=320m; support was removed in 8.0&lt;br/&gt;Java HotSpot(TM) 64-Bit Server VM warning: UseCMSCompactAtFullCollection is deprecated and will likely be removed in a future release.&lt;br/&gt;The Name Server boot success. serializeType=JSON&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- shutdown

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mqshutdown namesrv&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; mq broker

启动这个之前,需要制定出 NameServer地址:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ export NAMESRV_ADDR=127.0.0.1:9876&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- start

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ nohup sh mqbroker &amp;gt; ~/logs/ons.log &amp;amp;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;log 如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0&lt;br/&gt;Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=320m; support was removed in 8.0&lt;br/&gt;Java HotSpot(TM) 64-Bit Server VM warning: UseCMSCompactAtFullCollection is deprecated and will likely be removed in a future release.&lt;br/&gt;The broker[houbinbindeMacBook-Pro.local, 192.168.2.102:10911] boot success. serializeType=JSON and name server is 127.0.0.1:9876&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- shutdown

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sudo bash mqshutdown broker&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;启动后简单查看端口占用信息如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:bin houbinbin$ sudo lsof -i:9876&lt;br/&gt;COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME&lt;br/&gt;java 1556 root 56u IPv6 0xba83a0ce19f11035 0t0 TCP *:sd (LISTEN)&lt;br/&gt;houbinbindeMacBook-Pro:bin houbinbin$ sudo lsof -i:10911&lt;br/&gt;COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME&lt;br/&gt;java 1591 houbinbin 88u IPv6 0xba83a0ce19f0ea95 0t0 TCP *:10911 (LISTEN)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Maven Project


You can get the whole project from [here](https://github.com/houbb/rocketmq-demo).

The project struct may like this:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;|____src&lt;br/&gt;| |____main&lt;br/&gt;| | |____java&lt;br/&gt;| | | |____com&lt;br/&gt;| | | | |____ryo&lt;br/&gt;| | | | | |____rocket&lt;br/&gt;| | | | | | |____demo&lt;br/&gt;| | | | | | | |____common&lt;br/&gt;| | | | | | | | |____consumer&lt;br/&gt;| | | | | | | | | |____Consumer.java&lt;br/&gt;| | | | | | | | |____productor&lt;br/&gt;| | | | | | | | | |____Productor.java&lt;br/&gt;| | |____resources&lt;br/&gt;| | | |____log4j.properties&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- pom.xml

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!--rocketmq--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.alibaba.rocketmq&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;rocketmq-client&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${rocketmq.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.alibaba.rocketmq&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;rocketmq-common&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${rocketmq.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.alibaba.rocketmq&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;rocketmq-remoting&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${rocketmq.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;


&amp;lt;!--log--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jcl-over-slf4j&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.7.7&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.7.7&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.2.17&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- log4j.properties

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;log4j.rootLogger=warn, stdout&lt;br/&gt;log4j.appender.stdout=org.apache.log4j.ConsoleAppender&lt;br/&gt;log4j.appender.stdout.layout=org.apache.log4j.PatternLayout&lt;br/&gt;log4j.appender.stdout.layout.ConversionPattern=[%t] %d{MM-dd HH:mm:ss,SSS} - %m%n&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- Consumer.java

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;/**&lt;br/&gt; * @author houbinbin&lt;br/&gt; * @on 17/1/2&lt;br/&gt; */&lt;br/&gt;public class Productor {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public static void main(String[] args) {

    DefaultMQProducer producer = new DefaultMQProducer(&amp;quot;Producer&amp;quot;);
    producer.setNamesrvAddr(&amp;quot;127.0.0.1:9876&amp;quot;);

    try {

        producer.start();

        Message message = new Message(&amp;quot;PushTopic&amp;quot;, &amp;quot;push&amp;quot;, &amp;quot;1&amp;quot;, &amp;quot;Just fot test.&amp;quot;.getBytes());
        SendResult result = producer.send(message);
        System.out.println(&amp;quot;id:&amp;quot; + result.getMsgId() + &amp;quot; result:&amp;quot; + result.getSendStatus());

        message = new Message(&amp;quot;PushTopic&amp;quot;, &amp;quot;push&amp;quot;, &amp;quot;3&amp;quot;, &amp;quot;Just fot test.&amp;quot;.getBytes());

        result = producer.send(message);
        System.out.println(&amp;quot;id:&amp;quot; + result.getMsgId() + &amp;quot; result:&amp;quot; + result.getSendStatus());
    } catch (Exception e) {
        e.printStackTrace();
    } finally {
        producer.shutdown();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;运行LOG如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;id:C0A8026600002A9F000000000000011A result:SEND_OK&lt;br/&gt;id:C0A8026600002A9F00000000000001A7 result:SEND_OK&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- Consumer.java

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;/**&lt;br/&gt; * @author houbinbin&lt;br/&gt; * @on 17/1/4&lt;br/&gt; */&lt;br/&gt;public class Consumer {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public static void main(String[] args) {
    DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(&amp;quot;PushConsumer&amp;quot;);
    consumer.setNamesrvAddr(&amp;quot;127.0.0.1:9876&amp;quot;);

    try {
        // 订阅PushTopic下的Tag未push的消息
        consumer.subscribe(&amp;quot;PushTopic&amp;quot;, &amp;quot;push&amp;quot;);
        // 程序第一次启动从消息队列头取数据
        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);
        consumer.registerMessageListener(new MessageListenerConcurrently() {
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List&amp;lt;MessageExt&amp;gt; msgs, ConsumeConcurrentlyContext context) {
                Message message = msgs.get(0);
                System.err.println(message.toString());
                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
            }
        });
        consumer.start();
    } catch (Exception e) {
        e.printStackTrace();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;运行LOG如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MessageExt [queueId=1, storeSize=141, queueOffset=1, sysFlag=0, bornTimestamp=1483460812589, bornHost=/192.168.2.102:54835, storeTimestamp=1483460812590, storeHost=/192.168.2.102:10911, msgId=C0A8026600002A9F00000000000001A7, commitLogOffset=423, bodyCRC=1329428386, reconsumeTimes=0, preparedTransactionOffset=0, toString()=Message [topic=PushTopic, flag=0, properties={MIN_OFFSET=0, MAX_OFFSET=2, KEYS=3, WAIT=true, TAGS=push}, body=14]]&lt;br/&gt;MessageExt [queueId=0, storeSize=141, queueOffset=1, sysFlag=0, bornTimestamp=1483460812558, bornHost=/192.168.2.102:54835, storeTimestamp=1483460812575, storeHost=/192.168.2.102:10911, msgId=C0A8026600002A9F000000000000011A, commitLogOffset=282, bodyCRC=1329428386, reconsumeTimes=0, preparedTransactionOffset=0, toString()=Message [topic=PushTopic, flag=0, properties={MIN_OFFSET=0, MAX_OFFSET=2, KEYS=1, WAIT=true, TAGS=push}, body=14]]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; RocketMQ Console

[Download](https://github.com/rocketmq/rocketmq-console) it, or use

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ git clone &lt;a href=&quot;https://github.com/rocketmq/rocketmq-console&quot;&gt;https://github.com/rocketmq/rocketmq-console&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;This fork is compatible with RocketMQ ```3.2.6```


- install

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ/rocketmq-console&lt;br/&gt;$ mvn clean install&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- get war in **target** package

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/Users/houbinbin/it/tools/rocketMQ/rocketmq-console/target&lt;br/&gt;$ ls&lt;br/&gt;classes generated-sources maven-archiver rocketmq-console-SNAPSHOT-1.0 rocketmq-console-SNAPSHOT-1.0.war&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- mv into tomcat and renamed into ```ROOT.war```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cp rocketmq-console-SNAPSHOT-1.0.war ~/it/tools/tomcat/tomcat8/webapps/ROOT.war&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- start tomcat

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cd ~/it/tool/tomcat/tomcat8/bin&lt;br/&gt;$ ./startup.sh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- visit in the browser

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;localhost:8888&lt;br/&gt;```&lt;/p&gt;
&lt;p&gt;you may see&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/rocketmq/2017-01-04-rocketmq-console-index.png&quot; alt=&quot;index&quot; /&gt;&lt;/p&gt;
&lt;p&gt;(1) 你是幸运的,顺利走到这一步。&lt;br/&gt;(2) 你是不幸的,console目前进度较慢。使用时需要自己改造此项目。干巴爹!&lt;/p&gt;</description>
    </item>
    <item>
      <title>Maven</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-06-maven.md</link>
      <description>&lt;h2&gt;&lt;a href=&quot;#maven&quot; name=&quot;maven&quot;&gt;&lt;/a&gt;Maven&lt;/h2&gt;
&lt;p&gt;Apache Maven is a software project management and comprehension tool. Based on the concept of a project object model (POM),&lt;br/&gt;Maven can manage a project&amp;rsquo;s build, reporting and documentation from a central piece of information.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://maven.apache.org/&quot;&gt;maven&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;download-&amp;gt;install:&lt;br/&gt;install-&amp;gt;run:&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://maven.apache.org/download.cgi&quot;&gt;Download&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;{{site.url}}/static/download/pdf/maven/Maven权威指南zh_CN.pdf&quot;&gt;Maven权威指南zh_CN.pdf&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Requirements:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;JDK: Maven 3.3 requires &lt;strong&gt;JDK 1.7&lt;/strong&gt; or above to execute - it still allows you to build against 1.3 and other JDK versions by Using Toolchains&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Disk: Approximately 10MB is required for the Maven installation itself. In addition to that, additional disk space will be used for your local Maven repository.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The size of your local repository will vary depending on usage but expect at least &lt;strong&gt;500MB&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://maven.apache.org/install.html&quot;&gt;Install&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/xxb2008/article/details/8772634&quot;&gt;doc zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;environment variable&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;MAVEN_HOME: D:\Maven\apache-maven-3.3.9
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;path&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;%MAVEN_HOME%/bin;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Mvn -v
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:4
7+08:00)
Maven home: D:\Maven\apache-maven-3.3.9\bin\..
Java version: 1.7.0_79, vendor: Oracle Corporation
Java home: D:\Program Files\Java\jdk1.7.0_79\jre
Default locale: zh_CN, platform encoding: GBK
OS name: &amp;quot;windows 7&amp;quot;, version: &amp;quot;6.1&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;windows&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Download the maven &lt;code&gt;apache-maven-3.3.9-bin.tar.gz&lt;/code&gt;, unzip and rename the file to &lt;strong&gt;maven3.3.9&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;use mac terminal , enter&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;$ pwd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to get current path. enter&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd /

$ cd /usr/local

$ ls
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;can get the dirs under the local package. Then create file &lt;strong&gt;maven&lt;/strong&gt; if not exists.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo mkdir maven
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;copy the maven3.3.9 into this path.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo cp -R /Users/houbinbin/IT/learn/maven/maven3.3.9 /usr/local/maven

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3.set the path&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ vi ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is vi editor. First in, you are in command mode, enter&lt;br/&gt;i, change to Insert mode to input words.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;M3_HOME=/usr/local/maven/maven3.3.9

PATH=$M3_HOME/bin:$PATH



export M3_HOME

export PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, press Esc change to command mode, enter&lt;br/&gt;:wq to save and quit.&lt;/p&gt;
&lt;p&gt;exit the mac terminal, and restart the terminal.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo $M3_HOME
echo $PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;can see what you set, and&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mvn -version
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;like this&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ mvn -version
Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)
Maven home: /usr/local/maven/maven3.3.9
Java version: 1.8.0_91, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre
Default locale: zh_CN, platform encoding: UTF-8
OS name: &amp;quot;mac os x&amp;quot;, version: &amp;quot;10.11.3&amp;quot;, arch: &amp;quot;x86_64&amp;quot;, family: &amp;quot;mac&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;settings.xml&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;open the settings.xml in &lt;strong&gt;%MAVEN_HOME%\conf\settings.xml&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;you will find code like this&amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;&amp;lt;!-- localRepository
   | The path to the local repository maven will use to store artifacts.
   |
   | Default: ${user.home}/.m2/repository

  &amp;lt;localRepository&amp;gt;/path/to/local/repo&amp;lt;/localRepository&amp;gt;
--&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can change the path any you want;&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#create-maven&quot; name=&quot;create-maven&quot;&gt;&lt;/a&gt;Create maven&lt;/h3&gt;
&lt;p&gt;you can create maven project in idea like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;File-&amp;gt; new Module -&amp;gt; Maven
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;STEP 1: select one from archetype&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-05-07-maven-create.jpg&quot; alt=&quot;maven&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;STEP 2: add GroupId,ArtifactId,Version&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-05-07-maven-groupId.jpg&quot; alt=&quot;GroupId&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;STEP 3: set Properties&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-05-07-maven-properties.jpg&quot; alt=&quot;Properties&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;you can add code as following if maven build is very slow.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;archetypeCatalog=internal
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a href=&quot;#run-project&quot; name=&quot;run-project&quot;&gt;&lt;/a&gt;Run project&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;elegant way in cmd&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mvn clean install

mvn tomcat7:run
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;common way&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/jifeng/p/4658765.html&quot;&gt;tomcat zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Tips&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can config the maven setting use&lt;/p&gt;
&lt;p&gt;crtl+alt+s&lt;/p&gt;
&lt;p&gt;then search &lt;strong&gt;maven&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-05-07-maven-setting.jpg&quot; alt=&quot;maven setting&quot; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-Dmaven.multiModuleProjectDirectory system propery is not set
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;you can use &lt;strong&gt;Low version&lt;/strong&gt; maven to fit your idea.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;or solve it like this.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;-Dmaven.multiModuleProjectDirectory=$M2_HOME

M2_HOME D:\Maven\apache-maven-3.3.9
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-05-07-maven-error.jpg&quot; alt=&quot;M2_HOME&quot; /&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#pom-xml&quot; name=&quot;pom-xml&quot;&gt;&lt;/a&gt;pom.xml&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;the default content of pox.xml may like this:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;...&amp;lt;/dependency&amp;gt;
        ...
    &amp;lt;/dependencies&amp;gt;

    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;...&amp;lt;/plugin&amp;gt;
            ...
        &amp;lt;/plugins&amp;gt;

        &amp;lt;!--maven only compile resources files under package ```resources```, you can solve it.--&amp;gt;

        &amp;lt;resources&amp;gt;
            &amp;lt;resource&amp;gt;
                &amp;lt;directory&amp;gt;src/main/java&amp;lt;/directory&amp;gt;
                &amp;lt;includes&amp;gt;
                    &amp;lt;include&amp;gt;**/*.xml&amp;lt;/include&amp;gt;
                &amp;lt;/includes&amp;gt;
            &amp;lt;/resource&amp;gt;
            &amp;lt;resource&amp;gt;
                &amp;lt;directory&amp;gt;src/main/resources&amp;lt;/directory&amp;gt;
                &amp;lt;filtering&amp;gt;true&amp;lt;/filtering&amp;gt;
                &amp;lt;includes&amp;gt;
                    &amp;lt;include&amp;gt;**/*.xml&amp;lt;/include&amp;gt;
                    &amp;lt;include&amp;gt;**/*.properties&amp;lt;/include&amp;gt;
                &amp;lt;/includes&amp;gt;
            &amp;lt;/resource&amp;gt;
        &amp;lt;/resources&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define the method of package.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define the sourceEncoding&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define the maven-compiler-plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;3.3&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;source&amp;gt;1.7&amp;lt;/source&amp;gt;
        &amp;lt;target&amp;gt;1.7&amp;lt;/target&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;define the tomcat7 plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;port&amp;gt;8080&amp;lt;/port&amp;gt;
        &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
        &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;If you want to skip tests by default but want the ability to re-enable tests from the command line,&lt;br/&gt;you need to go via a properties section in the pom:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.19.1&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
      &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;you can use &lt;strong&gt;maven shade plugin&lt;/strong&gt; make class into jar.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a href=&quot;#scope&quot; name=&quot;scope&quot;&gt;&lt;/a&gt;scope&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;compile，缺省值，适用于所有阶段，会随着项目一起发布。&lt;/li&gt;
  &lt;li&gt;provided，类似compile，期望JDK、容器或使用者会提供这个依赖。如servlet.jar。&lt;/li&gt;
  &lt;li&gt;runtime，只在运行时使用，如JDBC驱动，适用运行和测试阶段。&lt;/li&gt;
  &lt;li&gt;test，只在测试时使用，用于编译和运行测试代码。不会随项目发布。&lt;/li&gt;
  &lt;li&gt;system，类似provided，需要显式提供包含依赖的jar，Maven不会在Repository中查找它。&lt;/li&gt;
  &lt;li&gt;import 它只使用在&lt;code&gt;&amp;lt;dependencyManagement&amp;gt;&lt;/code&gt;中，表示从其它的pom中导入dependency的配置&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#maven-archetype&quot; name=&quot;maven-archetype&quot;&gt;&lt;/a&gt;Maven Archetype&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://maven.apache.org/archetype/index.html&quot;&gt;archetype&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;what is ?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In short, Archetype is a Maven project templating toolkit. An archetype is defined as an original pattern or model&lt;br/&gt;from which all other things of the same kind are made.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;using&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To create a new project based on an Archetype, you need to call &lt;code&gt;mvn archetype:generate&lt;/code&gt; goal.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;title: Your own archetype&lt;br/&gt;create-&amp;gt;add: Define project template&lt;br/&gt;add-&amp;gt;remove: Remove if not need&lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#create-archetype&quot; name=&quot;create-archetype&quot;&gt;&lt;/a&gt;Create archetype&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://maven.apache.org/components/archetype/maven-archetype-plugin/advanced-usage.html&quot;&gt;define archetype&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;create&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ mvn archetype:create-from-project
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:archetype houbinbin$ mvn archetype:create-from-project
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building archetype 1.0.0
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] &amp;gt;&amp;gt;&amp;gt; maven-archetype-plugin:2.4:create-from-project (default-cli) &amp;gt; generate-sources @ archetype &amp;gt;&amp;gt;&amp;gt;
[INFO]
[INFO] &amp;lt;&amp;lt;&amp;lt; maven-archetype-plugin:2.4:create-from-project (default-cli) &amp;lt; generate-sources @ archetype &amp;lt;&amp;lt;&amp;lt;
[INFO]
[INFO] --- maven-archetype-plugin:2.4:create-from-project (default-cli) @ archetype ---
[INFO] Setting default groupId: com.ryo
[INFO] Setting default artifactId: archetype
[INFO] Setting default version: 1.0.0
[INFO] Setting default package: com.ryo
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building archetype-archetype 1.0.0
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-resources-plugin:3.0.1:resources (default-resources) @ archetype-archetype ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 10 resources
[INFO]
[INFO] --- maven-resources-plugin:3.0.1:testResources (default-testResources) @ archetype-archetype ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-archetype-plugin:2.4:jar (default-jar) @ archetype-archetype ---
[INFO] Building archetype jar: /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/target/archetype-archetype-1.0.0
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.835 s
[INFO] Finished at: 2016-06-11T21:57:36+08:00
[INFO] Final Memory: 14M/309M
[INFO] ------------------------------------------------------------------------
[INFO] Archetype project created in /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2.955 s
[INFO] Finished at: 2016-06-11T21:57:36+08:00
[INFO] Final Memory: 14M/245M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;$ cd target/generated-sources/archetype/
$ mvn install
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building archetype-archetype 1.0.0
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-resources-plugin:3.0.1:resources (default-resources) @ archetype-archetype ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 10 resources
[INFO]
[INFO] --- maven-resources-plugin:3.0.1:testResources (default-testResources) @ archetype-archetype ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-archetype-plugin:2.4:jar (default-jar) @ archetype-archetype ---
[INFO] Building archetype jar: /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/target/archetype-archetype-1.0.0
[INFO]
[INFO] --- maven-archetype-plugin:2.4:integration-test (default-integration-test) @ archetype-archetype ---
[INFO] Processing Archetype IT project: basic
[INFO] ----------------------------------------------------------------------------
[INFO] Using following parameters for creating project from Archetype: archetype-archetype:1.0.0
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: groupId, Value: archetype.it
[INFO] Parameter: artifactId, Value: basic
[INFO] Parameter: version, Value: 0.1-SNAPSHOT
[INFO] Parameter: package, Value: it.pkg
[INFO] Parameter: packageInPathFormat, Value: it/pkg
[INFO] Parameter: version, Value: 0.1-SNAPSHOT
[INFO] Parameter: package, Value: it.pkg
[INFO] Parameter: groupId, Value: archetype.it
[INFO] Parameter: artifactId, Value: basic
[WARNING] Don&amp;#39;t override file /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/target/test-classes/projects/basic/project/basic/.idea/copyright/profiles_settings.xml
[INFO] project created from Archetype in dir: /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/target/test-classes/projects/basic/project/basic
[INFO]
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ archetype-archetype ---
[INFO] Installing /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/target/archetype-archetype-1.0.0.jar to /Users/houbinbin/.m2/repository/com/ryo/archetype-archetype/1.0.0/archetype-archetype-1.0.0.jar
[INFO] Installing /Users/houbinbin/IT/code/branches/archetype/target/generated-sources/archetype/pom.xml to /Users/houbinbin/.m2/repository/com/ryo/archetype-archetype/1.0.0/archetype-archetype-1.0.0.pom
[INFO]
[INFO] --- maven-archetype-plugin:2.4:update-local-catalog (default-update-local-catalog) @ archetype-archetype ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.885 s
[INFO] Finished at: 2016-06-11T22:00:07+08:00
[INFO] Final Memory: 15M/309M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;add these in the &lt;code&gt;pom.xml&lt;/code&gt; of archetype&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;distributionManagement&amp;gt;
    &amp;lt;repository&amp;gt;
        &amp;lt;id&amp;gt;releases&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;Nexus Releases Repository&amp;lt;/name&amp;gt;
        &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/repositories/releases/&amp;lt;/url&amp;gt;
    &amp;lt;/repository&amp;gt;
    &amp;lt;snapshotRepository&amp;gt;
        &amp;lt;id&amp;gt;snapshots&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;Nexus Snapshots Repository&amp;lt;/name&amp;gt;
        &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/repositories/snapshots/&amp;lt;/url&amp;gt;
    &amp;lt;/snapshotRepository&amp;gt;
&amp;lt;/distributionManagement&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mvn deploy
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;use&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;$ mkdir /tmp/archetype
$ cd /tmp/archetype
$ mvn archetype:generate -DarchetypeCatalog=local
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] &amp;gt;&amp;gt;&amp;gt; maven-archetype-plugin:2.4:generate (default-cli) &amp;gt; generate-sources @ standalone-pom &amp;gt;&amp;gt;&amp;gt;
[INFO]
[INFO] &amp;lt;&amp;lt;&amp;lt; maven-archetype-plugin:2.4:generate (default-cli) &amp;lt; generate-sources @ standalone-pom &amp;lt;&amp;lt;&amp;lt;
[INFO]
[INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom ---
[INFO] Generating project in Interactive mode
[INFO] No archetype defined. Using maven-archetype-quickstart (org.apache.maven.archetypes:maven-archetype-quickstart:1.0)
Choose archetype:
1: local -&amp;gt; com.ryo:archetype-archetype (archetype-archetype)
Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): :
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): : 1
Define value for property &amp;#39;groupId&amp;#39;: : com.ryo
Define value for property &amp;#39;artifactId&amp;#39;: : test
Define value for property &amp;#39;version&amp;#39;:  1.0-SNAPSHOT: : 1.0.0
Define value for property &amp;#39;package&amp;#39;:  com.ryo: : com.ryo
Confirm properties configuration:
groupId: com.ryo
artifactId: test
version: 1.0.0
package: com.ryo
 Y: : y
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[INFO] ----------------------------------------------------------------------------
[INFO] Using following parameters for creating project from Archetype: archetype-archetype:1.0.0
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: groupId, Value: com.ryo
[INFO] Parameter: artifactId, Value: test
[INFO] Parameter: version, Value: 1.0.0
[INFO] Parameter: package, Value: com.ryo
[INFO] Parameter: packageInPathFormat, Value: com/ryo
[INFO] Parameter: package, Value: com.ryo
[INFO] Parameter: version, Value: 1.0.0
[INFO] Parameter: groupId, Value: com.ryo
[INFO] Parameter: artifactId, Value: test
[WARNING] Don&amp;#39;t override file /Users/houbinbin/IT/code/branches/test/test/.idea/copyright/profiles_settings.xml
[INFO] project created from Archetype in dir: /Users/houbinbin/IT/code/branches/test/test
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:34 min
[INFO] Finished at: 2016-06-11T22:11:32+08:00
[INFO] Final Memory: 14M/309M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a href=&quot;#add-archetype&quot; name=&quot;add-archetype&quot;&gt;&lt;/a&gt;Add archetype&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/2016-06-11-maven-archetype-add.png&quot; alt=&quot;add archetype&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Input the location of your archetype project, then you can use it just like other maven archetype.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#remove-archetype&quot; name=&quot;remove-archetype&quot;&gt;&lt;/a&gt;Remove archetype&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;~/Library/Caches/IntelliJIdea&amp;lt;version&amp;gt;/Maven/Indices/UserArchetypes.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Open and edit this file, then restart IntelliJIdea.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://singleant.iteye.com/blog/1470663&quot;&gt;项目原型简介&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;生成项目架构&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:archetype-resources houbinbin$ ls
README.md                       __rootArtifactId__-dal          __rootArtifactId__-surface      __rootArtifactId__-util         app-demo.iml
__rootArtifactId__-biz          __rootArtifactId__-service      __rootArtifactId__-test         __rootArtifactId__-web          pom.xml
houbinbindeMacBook-Pro:archetype-resources houbinbin$ pwd
/Users/houbinbin/IT/code/app-demo/target/generated-sources/archetype/target/classes/archetype-resources
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;元数据指定&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;archetype-metadata.xml```&quot;&gt;&lt;br/&gt;```
houbinbindeMacBook-Pro:maven houbinbin$ ls
archetype-metadata.xml
houbinbindeMacBook-Pro:maven houbinbin$ pwd
/Users/houbinbin/IT/code/app-demo/target/generated-sources/archetype/target/classes/META-INF/maven
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#multi-module&quot; name=&quot;multi-module&quot;&gt;&lt;/a&gt;Multi-module&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#create&quot; name=&quot;create&quot;&gt;&lt;/a&gt;Create&lt;/h2&gt;
&lt;p&gt;Create an empty maven project, it&amp;rsquo;s &lt;code&gt;pom.xml&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;multiModule&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create child module &lt;em&gt;util&lt;/em&gt; for multiModule like this, also we create another module &lt;em&gt;dao&lt;/em&gt; in this way:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-08-01-maven-module.png&quot; alt=&quot;child-module&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The &lt;code&gt;pom.xml&lt;/code&gt; of &lt;em&gt;multiModule&lt;/em&gt; will be:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;multiModule&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt;

    &amp;lt;modules&amp;gt;
        &amp;lt;module&amp;gt;util&amp;lt;/module&amp;gt;
    &amp;lt;/modules&amp;gt;

&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;The &lt;code&gt;pom.xml&lt;/code&gt; of &lt;em&gt;util&lt;/em&gt; like this:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;parent&amp;gt;
        &amp;lt;artifactId&amp;gt;multiModule&amp;lt;/artifactId&amp;gt;
        &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;/parent&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;artifactId&amp;gt;util&amp;lt;/artifactId&amp;gt;

&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;StringUtil.java in &lt;em&gt;util&lt;/em&gt; module&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class StringUtil {
    private static final String EMPTY_STRING = &amp;quot;&amp;quot;;

    private StringUtil(){}

    public static boolean isEmpty(String string) {
        return string == null || string.trim().equals(EMPTY_STRING);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#use&quot; name=&quot;use&quot;&gt;&lt;/a&gt;Use&lt;/h2&gt;
&lt;p&gt;If we want to use &lt;strong&gt;StringUtil.java&lt;/strong&gt; of &lt;em&gt;util&lt;/em&gt; in &lt;em&gt;dao&lt;/em&gt; module, we should do it like this:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;install&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Install the module you want to use in module &lt;em&gt;util&lt;/em&gt; or &lt;em&gt;multiModule&lt;/em&gt;(root module).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016-08-01-maven-multi.png&quot; alt=&quot;multi-module&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;define&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Define the dependency of &lt;em&gt;util&lt;/em&gt; in &lt;em&gt;dao&lt;/em&gt; module&amp;rsquo;s &lt;code&gt;pom.xml&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;parent&amp;gt;
        &amp;lt;artifactId&amp;gt;multiModule&amp;lt;/artifactId&amp;gt;
        &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;/parent&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;artifactId&amp;gt;dao&amp;lt;/artifactId&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;util&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;use&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class UserDao {
    public boolean login(String username, String password) {
        return StringUtil.isEmpty(username) || StringUtil.isEmpty(password);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Tips&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you define the dependency of [one module] in &lt;em&gt;root module&lt;/em&gt;, all children of it can use the [one module].&lt;br/&gt;But, usually we use it may like this:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;pom.xml&lt;/code&gt; of root module, &lt;strong&gt;declare&lt;/strong&gt; the use.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependencyManagement&amp;gt;
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;util&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/dependencyManagement&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;pom.xml&lt;/code&gt; of &lt;em&gt;dao&lt;/em&gt; module, &lt;strong&gt;define&lt;/strong&gt; the use.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;util&amp;lt;/artifactId&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#tips&quot; name=&quot;tips&quot;&gt;&lt;/a&gt;Tips&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Get snapshot jar immediately&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When you use &lt;strong&gt;Idea&lt;/strong&gt; to get the &lt;strong&gt;snapshot&lt;/strong&gt; jar, you may not get it immediately. Here is the solve way:&lt;/p&gt;
&lt;p&gt;⌘+, to open the &lt;em&gt;Preference&lt;/em&gt;, search for &lt;strong&gt;maven&lt;/strong&gt;, and choose the &lt;code&gt;Always update snapshots&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;messy code(乱码)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://my.oschina.net/mifans/blog/781734&quot;&gt;mvn run messy code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;add this under &lt;strong&gt;properties&lt;/strong&gt; in &lt;code&gt;pom.xml&lt;/code&gt; &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;properties&amp;gt;
    &amp;lt;argLine&amp;gt;-Dfile.encoding=UTF-8&amp;lt;/argLine&amp;gt;
&amp;lt;/properties&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;下载很慢的情况&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/a992036795/article/details/53161344&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;~/.m2/setting.xml&lt;/code&gt; 中添加:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;mirrors&amp;gt;
       &amp;lt;!-- 阿里云仓库 --&amp;gt;
      &amp;lt;mirror&amp;gt;
           &amp;lt;id&amp;gt;alimaven&amp;lt;/id&amp;gt;
           &amp;lt;mirrorOf&amp;gt;central&amp;lt;/mirrorOf&amp;gt;
           &amp;lt;name&amp;gt;aliyun maven&amp;lt;/name&amp;gt;
            &amp;lt;url&amp;gt;http://maven.aliyun.com/nexus/content/repositories/central/&amp;lt;/url&amp;gt;
       &amp;lt;/mirror&amp;gt;
&amp;lt;/mirrors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#项目依赖&quot; name=&quot;项目依赖&quot;&gt;&lt;/a&gt;项目依赖&lt;/h1&gt;
&lt;p&gt;有时候依赖其他的三方jar包较多，有些jar被重复引入且版本不一致。(比如&lt;code&gt;slf4j-api.jar&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;可以在某一个项目下使用 &lt;code&gt;mvn dependency:tree&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\CODE\other\framework\framework-cache&amp;gt;mvn dependency:tree
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building framework :: Module :: Cache 1.0.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ framework-cache ---
[INFO] com.framework:framework-cache:jar:1.0.2-SNAPSHOT
[INFO] +- com.framework:framework-tool:jar:1.0.2-SNAPSHOT:compile
[INFO] |  +- com.framework:framework-common:jar:1.0.2-SNAPSHOT:compile
[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.3.2:compile
[INFO] |  |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  |  +- commons-codec:commons-codec:jar:1.10:compile
[INFO] |  |  \- org.projectlombok:lombok:jar:1.16.8:compile
[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.5:compile
[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.5:compile
[INFO] |  +- com.alibaba:fastjson:jar:1.2.8:compile
[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.0:compile
[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.0:compile
[INFO] |  |  \- com.fasterxml.jackson.core:jackson-core:jar:2.4.0:compile
[INFO] |  +- org.reflections:reflections:jar:0.9.10:compile
[INFO] |  |  +- com.google.guava:guava:jar:15.0:compile
[INFO] |  |  +- org.javassist:javassist:jar:3.20.0-GA:compile
[INFO] |  |  \- com.google.code.findbugs:annotations:jar:2.0.1:compile
[INFO] |  \- junit:junit:jar:4.12:compile
[INFO] |     \- org.hamcrest:hamcrest-core:jar:1.3:compile
[INFO] +- org.springframework:spring-context:jar:4.2.3.RELEASE:compile
[INFO] |  +- org.springframework:spring-aop:jar:4.2.3.RELEASE:compile
[INFO] |  +- org.springframework:spring-beans:jar:4.2.3.RELEASE:compile
[INFO] |  +- org.springframework:spring-core:jar:4.2.3.RELEASE:compile
[INFO] |  |  \- commons-logging:commons-logging:jar:1.2:compile
[INFO] |  \- org.springframework:spring-expression:jar:4.2.3.RELEASE:compile
[INFO] +- org.springframework.data:spring-data-redis:jar:1.3.2.RELEASE:compile
[INFO] |  +- org.springframework:spring-context-support:jar:4.2.3.RELEASE:compile
[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.5:compile
[INFO] |  \- org.springframework:spring-tx:jar:4.2.3.RELEASE:compile
[INFO] +- redis.clients:jedis:jar:2.4.2:compile
[INFO] |  \- org.apache.commons:commons-pool2:jar:2.0:compile
[INFO] +- aopalliance:aopalliance:jar:1.0:compile
[INFO] +- org.aspectj:aspectjweaver:jar:1.8.5:compile
[INFO] +- org.aspectj:aspectjrt:jar:1.8.5:compile
[INFO] \- commons-net:commons-net:jar:3.5:compile
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.927 s
[INFO] Finished at: 2017-01-24T10:57:41+08:00
[INFO] Final Memory: 15M/304M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;排除依赖&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/rocklee/article/details/51692054&quot;&gt;exclusion&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Nexus</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-06-Nexus.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#nexus&quot; name=&quot;nexus&quot;&gt;&lt;/a&gt;Nexus&lt;/h1&gt;
&lt;p&gt;The world&amp;rsquo;s best way to organize, store, and distribute software components.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.sonatype.com/nexus-repository-sonatype&quot;&gt;Nexus&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; download-&amp;gt;install:&lt;br/&gt; install-&amp;gt;start:&lt;br/&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#download&quot; name=&quot;download&quot;&gt;&lt;/a&gt;download&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.sonatype.com/download-oss-sonatype&quot;&gt;download&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Install methods:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;A bundle with Jetty, only need &lt;em&gt;JRE&lt;/em&gt;. I choose this way &lt;code&gt;nexus-2.13.0-01-bundle.tar.gz&lt;/code&gt;;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;War, deploy on web is okay.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#install&quot; name=&quot;install&quot;&gt;&lt;/a&gt;install&lt;/h2&gt;
&lt;p&gt;Unzip the file at where you want. There are two folder:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;strong&gt;nexus-2.13.0-01&lt;/strong&gt; contains what Nexus run needed.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;strong&gt;sonatype-work&lt;/strong&gt; contains the config, repository, log files.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#start&quot; name=&quot;start&quot;&gt;&lt;/a&gt;start&lt;/h2&gt;
&lt;p&gt;Enter the &lt;em&gt;bin&lt;/em&gt; folder, in &lt;code&gt;~/nexus-2.13.0-01/bin&lt;/code&gt;, run the &lt;strong&gt;nexus&lt;/strong&gt; you may get:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ /Users/houbinbin/IT/learn/nexus/nexus-2.13.0-01-bundle/nexus-2.13.0-01/bin/nexus ; exit;
Usage: /Users/houbinbin/IT/learn/nexus/nexus-2.13.0-01-bundle/nexus-2.13.0-01/bin/nexus { console | start | stop | restart | status | dump }
logout
Saving session...
...copying shared history...
...saving history...truncating history files...
...completed.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;so, just run following command to start the nexus serve.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/IT/learn/nexus/nexus-2.13.0-01-bundle/nexus-2.13.0-01/bin/nexus start
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can edit the &lt;strong&gt;port&lt;/strong&gt; in file &lt;code&gt;nexus.properties&lt;/code&gt; in the path of:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;~/nexus/nexus-2.13.0-01-bundle/nexus-2.13.0-01/conf
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;visit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Input the url in your browser, then you can visit the dashboard of nexus.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://127.0.0.1:8081/nexus
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016/2016-08-06-maven-nexus.png&quot; alt=&quot;nexus dashboard&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;login&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can login the nexus on the right top place, the default admin is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;usr:    admin
pwd:    admin123
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#config&quot; name=&quot;config&quot;&gt;&lt;/a&gt;Config&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/luotaoyeah/p/3791966.html&quot;&gt;intro zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/quanyongan/archive/2013/04/24/3037589.html&quot;&gt;3rd zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://my.oschina.net/u/873661/blog/195373&quot;&gt;setting zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、Set all remote repository use internal repository in &lt;code&gt;setting.xml&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;!--setting maven only use internal repository--&amp;gt;
&amp;lt;mirrors&amp;gt;
    &amp;lt;mirror&amp;gt;
        &amp;lt;id&amp;gt;central&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;central-mirror&amp;lt;/name&amp;gt;
        &amp;lt;mirrorOf&amp;gt;*&amp;lt;/mirrorOf&amp;gt;
        &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/groups/public/&amp;lt;/url&amp;gt;
    &amp;lt;/mirror&amp;gt;
&amp;lt;/mirrors&amp;gt;

&amp;lt;profiles&amp;gt;
    &amp;lt;profile&amp;gt;
        &amp;lt;!--this profile will allow snapshots to be searched when activated--&amp;gt;
        &amp;lt;id&amp;gt;public-snapshots&amp;lt;/id&amp;gt;
        &amp;lt;repositories&amp;gt;
            &amp;lt;repository&amp;gt;
                &amp;lt;id&amp;gt;public-snapshots&amp;lt;/id&amp;gt;
                &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/groups/public&amp;lt;/url&amp;gt;
                &amp;lt;releases&amp;gt;&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;&amp;lt;/releases&amp;gt;
                &amp;lt;snapshots&amp;gt;&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;&amp;lt;/snapshots&amp;gt;
            &amp;lt;/repository&amp;gt;
        &amp;lt;/repositories&amp;gt;
        &amp;lt;pluginRepositories&amp;gt;
            &amp;lt;pluginRepository&amp;gt;
                &amp;lt;id&amp;gt;public-snapshots&amp;lt;/id&amp;gt;
                &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/groups/public&amp;lt;/url&amp;gt;
                &amp;lt;releases&amp;gt;&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;&amp;lt;/releases&amp;gt;
                &amp;lt;snapshots&amp;gt;&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;&amp;lt;/snapshots&amp;gt;
            &amp;lt;/pluginRepository&amp;gt;
        &amp;lt;/pluginRepositories&amp;gt;
    &amp;lt;/profile&amp;gt;
&amp;lt;/profiles&amp;gt;

&amp;lt;activeProfiles&amp;gt;
    &amp;lt;activeProfile&amp;gt;public-snapshots&amp;lt;/activeProfile&amp;gt;
&amp;lt;/activeProfiles&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#repository&quot; name=&quot;repository&quot;&gt;&lt;/a&gt;Repository&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/2016/2016-08-06-maven-repository.png&quot; alt=&quot;nexus dashboard&quot; /&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#remote-repository&quot; name=&quot;remote-repository&quot;&gt;&lt;/a&gt;Remote Repository&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;set in &lt;em&gt;pom.xml&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;repositories&amp;gt;
    &amp;lt;repository&amp;gt;
        &amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;Team Nexus Repository&amp;lt;/name&amp;gt;
        &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/groups/public&amp;lt;/url&amp;gt;
        &amp;lt;releases&amp;gt;&amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;&amp;lt;/releases&amp;gt;
        &amp;lt;snapshots&amp;gt;
            &amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;
            &amp;lt;checksumPolicy&amp;gt;ignore&amp;lt;/checksumPolicy&amp;gt;
            &amp;lt;updatePolicy&amp;gt;daily&amp;lt;/updatePolicy&amp;gt;
        &amp;lt;/snapshots&amp;gt;
    &amp;lt;/repository&amp;gt;
&amp;lt;/repositories&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;authentication in maven &lt;em&gt;setting.xml&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;settings&amp;gt;
    &amp;lt;!--...--&amp;gt;
    &amp;lt;servers&amp;gt;
        &amp;lt;server&amp;gt;
            &amp;lt;id&amp;gt;my-auth&amp;lt;/id&amp;gt;
            &amp;lt;username&amp;gt;usr&amp;lt;/username&amp;gt;
            &amp;lt;password&amp;gt;pwd&amp;lt;/password&amp;gt;
        &amp;lt;/server&amp;gt;
    &amp;lt;/servers&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There must be a &lt;em&gt;server&lt;/em&gt; in setting.xml that it&amp;rsquo;s &lt;strong&gt;id&lt;/strong&gt; equals pom.xml, ad=nd right authentication info.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;deploy to remote repository in &lt;em&gt;pom.xml&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;distributionManagement&amp;gt; 
    &amp;lt;repository&amp;gt; 
        &amp;lt;id&amp;gt;releases&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;Nexus Releases Repository&amp;lt;/name&amp;gt;
         &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/repositories/releases/&amp;lt;/url&amp;gt; 
    &amp;lt;/repository&amp;gt;
     
    &amp;lt;snapshotRepository&amp;gt; 
        &amp;lt;id&amp;gt;snapshots&amp;lt;/id&amp;gt;
        &amp;lt;name&amp;gt;Nexus Snapshots Repository&amp;lt;/name&amp;gt;
        &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/repositories/snapshots/&amp;lt;/url&amp;gt;
    &amp;lt;/snapshotRepository&amp;gt;
&amp;lt;/distributionManagement&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, use following command can deploy it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn clean deploy
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It need auth when deploy.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;servers&amp;gt;
    &amp;lt;server&amp;gt;
        &amp;lt;id&amp;gt;releases&amp;lt;/id&amp;gt;
        &amp;lt;username&amp;gt;admin&amp;lt;/username&amp;gt;
        &amp;lt;password&amp;gt;admin123&amp;lt;/password&amp;gt;
    &amp;lt;/server&amp;gt;
    &amp;lt;server&amp;gt;
        &amp;lt;id&amp;gt;snapshots&amp;lt;/id&amp;gt;
        &amp;lt;username&amp;gt;admin&amp;lt;/username&amp;gt;
        &amp;lt;password&amp;gt;admin123&amp;lt;/password&amp;gt;
    &amp;lt;/server&amp;gt;
&amp;lt;/servers&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;默认角色:&lt;/p&gt;
&lt;p&gt;1） admin ：对 Nexus 服务的完全控制权限，默认密码为 admin123&lt;/p&gt;
&lt;p&gt;2） deployment ：能够访问 Nexus ，浏览仓库内容，搜索并且上传部署构件但无法配置 Nexus ，默认密码为： deployment123&lt;/p&gt;
&lt;p&gt;3） anonymous ：对应所有未登录用户，可以浏览和搜索仓库&lt;/p&gt;
&lt;p&gt;Jar包存储地址默认为:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;~/nexus/nexus-2.13.0-01-bundle/sonatype-work/nexus/storage
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Mirror&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Everything we can get from the X repository, can also get from it&amp;rsquo;s mirror.&lt;/p&gt;
&lt;p&gt;Actual my like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;mirrors&amp;gt;
  &amp;lt;mirror&amp;gt;
    &amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;
    &amp;lt;mirrorOf&amp;gt;*&amp;lt;/mirrorOf&amp;gt;
    &amp;lt;url&amp;gt;http://localhost:8081/nexus/content/groups/public&amp;lt;/url&amp;gt;
  &amp;lt;/mirror&amp;gt;
&amp;lt;/mirrors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;mirrorOf&amp;gt;*&amp;lt;/mirrorOf&amp;gt;&lt;/code&gt; Match all remote repository.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;mirrorOf&amp;gt;external: *&amp;lt;/mirrorOf&amp;gt;&lt;/code&gt; Match all not localhost&amp;rsquo;s remote repository.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;mirrorOf&amp;gt;repo1, repo2&amp;lt;/mirrorOf&amp;gt;&lt;/code&gt; Match repo1 and repo2 &amp;hellip;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;mirrorOf&amp;gt;*, !repo1&amp;lt;/mirrorOf&amp;gt;&lt;/code&gt; Match all except repo1.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;注: 这个一般不用修改。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#tips&quot; name=&quot;tips&quot;&gt;&lt;/a&gt;Tips&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Cannot deploy artifacts when Maven is in offline mode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enter Command+, to search &lt;strong&gt;maven&lt;/strong&gt;, dis-select &lt;strong&gt;Work offline&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;上传三方jar到&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/nexus/2017-01-18-nexus-third-jar.png&quot; alt=&quot;third jar&quot; /&gt;&lt;/p&gt;
&lt;p&gt;点击【Add Artifact】-》点击【Upload Artifact(s)】&lt;/p&gt;</description>
    </item>
    <item>
      <title>Maven Plugin</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-20-MavenPlugin.md</link>
      <description>&lt;p&gt;Maven is - at its heart - a plugin execution framework; all work is done by plugins. Looking for a specific goal to execute?&lt;br/&gt;This page lists the core plugins and others. There are the build and the reporting plugins:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Build&lt;/strong&gt; plugins will be executed during the build and they should be configured in the &lt;code&gt;&amp;lt;build/&amp;gt;&lt;/code&gt; element from the POM.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Reporting&lt;/strong&gt; plugins will be executed during the site generation and they should be configured in the &lt;code&gt;&amp;lt;reporting/&amp;gt;&lt;/code&gt; element from the POM.&lt;br/&gt;Because the result of a Reporting plugin is part of the generated site, Reporting plugins should be both internationalized and localized.&lt;br/&gt;You can read more about the localization of our plugins and how you can help.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://maven.apache.org/plugins/index.html&quot;&gt;maven plugin&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#core-plugins&quot; name=&quot;core-plugins&quot;&gt;&lt;/a&gt;Core plugins&lt;/h1&gt;
&lt;p&gt;Plugins corresponding to default core phases (ie. clean, compile). They may have multiple goals as well.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#compiler&quot; name=&quot;compiler&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;compiler&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Compiles Java sources.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${maven-compiler-plugin.version}&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;source&amp;gt;1.8&amp;lt;/source&amp;gt;
        &amp;lt;target&amp;gt;1.8&amp;lt;/target&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#surefire&quot; name=&quot;surefire&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;surefire&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Run the JUnit unit tests in an isolated classloader.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
    &amp;lt;configuration&amp;gt;
        &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
        &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
    &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#reporting-plugins&quot; name=&quot;reporting-plugins&quot;&gt;&lt;/a&gt;Reporting plugins&lt;/h1&gt;
&lt;p&gt;Plugins which generate reports, are configured as reports in the POM and run under the site generation lifecycle.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#javadoc&quot; name=&quot;javadoc&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;javadoc&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Generate Javadoc for the project.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-javadoc-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.9.1&amp;lt;/version&amp;gt;


    &amp;lt;configuration&amp;gt;
        &amp;lt;!--maven 多模块--&amp;gt;
        &amp;lt;aggregate&amp;gt;true&amp;lt;/aggregate&amp;gt;

        &amp;lt;!--路径--&amp;gt;
        &amp;lt;reportOutputDirectory&amp;gt;../doc&amp;lt;/reportOutputDirectory&amp;gt;
        &amp;lt;!--目录--&amp;gt;
        &amp;lt;destDir&amp;gt;myapidocs&amp;lt;/destDir&amp;gt;

        &amp;lt;!--IOS ERROR: Unable to find javadoc command: The environment variable JAVA_HOME is not correctly set.--&amp;gt;
        &amp;lt;javadocExecutable&amp;gt;${java.home}/../bin/javadoc&amp;lt;/javadocExecutable&amp;gt;


        &amp;lt;!--自定义标签--&amp;gt;
        &amp;lt;tags&amp;gt;
            &amp;lt;tag&amp;gt;
                &amp;lt;!--name为你Java代码中的注解的名字--&amp;gt;
                &amp;lt;name&amp;gt;Description&amp;lt;/name&amp;gt;
                &amp;lt;!--事实上这个就是说你要把哪些（方法、字段、类）上面的注解放到JavaDoc中--&amp;gt;
                &amp;lt;placement&amp;gt;a&amp;lt;/placement&amp;gt;
                &amp;lt;!--head。假设不写这个，用的就是name，假设写了，那么显示效果例如以下：--&amp;gt;
                &amp;lt;head&amp;gt;用途&amp;lt;/head&amp;gt;
            &amp;lt;/tag&amp;gt;
        &amp;lt;/tags&amp;gt;
    &amp;lt;/configuration&amp;gt;

&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#misc&quot; name=&quot;misc&quot;&gt;&lt;/a&gt;Misc&lt;/h1&gt;
&lt;p&gt;A number of other projects provide their own Maven plugins.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#tomcat7&quot; name=&quot;tomcat7&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&quot;&gt;tomcat7&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Run an Apache Tomcat container for rapid webapp development.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;properties&amp;gt;
    &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
&amp;lt;/properties&amp;gt;

&amp;lt;build&amp;gt;
    &amp;lt;plugins&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
            &amp;lt;configuration&amp;gt;
                &amp;lt;port&amp;gt;8081&amp;lt;/port&amp;gt;
                &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
            &amp;lt;/configuration&amp;gt;
        &amp;lt;/plugin&amp;gt;
    &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#versions&quot; name=&quot;versions&quot;&gt;&lt;/a&gt;Versions&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.dexcoder.com/selfly/article/4002&quot;&gt;versions-plugin zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;mvn versions:set -DnewVersion=1.0.1-SNAPSHOT
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;commit&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mvn versions:commit
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;revert&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mvn versions:revert
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;正确修改方法:&lt;/p&gt;
&lt;p&gt;(1) 修改父类&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn versions:set -DgroupId=com.framework -DartifactId=framework* -DoldVersion=* -DnewVersion=1.0.2-SNAPSHOT
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(2) 修改子类&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mvn -N versions:update-child-modules
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#auto-config&quot; name=&quot;auto-config&quot;&gt;&lt;/a&gt;Auto-Config&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://openwebx.org/docs/autoconfig.html&quot;&gt;Auto-Config&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Import in maven&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
    xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
    xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&amp;quot;&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;!-- 定义autoconfig的版本，建议将此行写在parent pom.xml中。 --&amp;gt;
        &amp;lt;autoconfig-plugin-version&amp;gt;1.2&amp;lt;/autoconfig-plugin-version&amp;gt;
    &amp;lt;/properties&amp;gt;
    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;com.alibaba.citrus.tool&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;autoconfig-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${autoconfig-plugin-version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;!-- 要进行AutoConfig的目标文件，默认为${project.artifact.file}。
                    &amp;lt;dest&amp;gt;${project.artifact.file}&amp;lt;/dest&amp;gt;
                    --&amp;gt;
                    &amp;lt;!-- 配置后，是否展开目标文件，默认为false，不展开。
                    &amp;lt;exploding&amp;gt;true&amp;lt;/exploding&amp;gt;
                    --&amp;gt;
                    &amp;lt;!-- 展开到指定目录，默认为${project.build.directory}/${project.build.finalName}。
                    &amp;lt;explodedDirectory&amp;gt;
                        ${project.build.directory}/${project.build.finalName}
                    &amp;lt;/explodedDirectory&amp;gt;
                    --&amp;gt;
                &amp;lt;/configuration&amp;gt;
                &amp;lt;executions&amp;gt;
                    &amp;lt;execution&amp;gt;
                        &amp;lt;phase&amp;gt;package&amp;lt;/phase&amp;gt;
                        &amp;lt;goals&amp;gt;
                            &amp;lt;goal&amp;gt;autoconfig&amp;lt;/goal&amp;gt;
                        &amp;lt;/goals&amp;gt;
                    &amp;lt;/execution&amp;gt;
                &amp;lt;/executions&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;跳过执行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mvn install –Dautoconfig.skip
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;想使用配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(1) 直接将生成的配置文件 &lt;code&gt;antx.properties&lt;/code&gt; 视为配置文件使用。放在本地。&lt;br/&gt;(2) 打成war包之后可以自动属性替换掉。&lt;/p&gt;
&lt;p&gt;1、 maven war struct:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;war-project（源目录结构）               -&amp;gt; war-project.war（目标目录结构）
 │  pom.xml
 │
 └─src
     └─main
         ├─java
         ├─resources                    -&amp;gt; /WEB-INF/classes
         │      file1.xml                      file1.xml
         │      file2.xml                      file2.xml
         │
         └─webapp                       -&amp;gt; /
             ├─META-INF                 -&amp;gt; /META-INF
             │  └─autoconf              -&amp;gt; /META-INF/autoconf
             │        auto-config.xml          auto-config.xml
             │
             └─WEB-INF                  -&amp;gt; /WEB-INF
                   web.xml                     web.xml
                   file3.xml                   file3.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;/META-INF/autoconf&lt;/code&gt; 目录用来存放AutoConfig的描述文件，以及可选的模板文件。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;auto-config.xml&lt;/code&gt; 是用来指导AutoConfig行为的关键描述文件。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2、 maven jar struct&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jar-project（源目录结构）               -&amp;gt; jar-project.jar（目标目录结构）
 │  pom.xml
 │
 └─src
     └─main
         ├─java
         └─resources                    -&amp;gt; /
             │  file1.xml                      file1.xml
             │  file2.xml                      file2.xml
             │
             └─META-INF                 -&amp;gt; /META-INF
                 └─autoconf             -&amp;gt; /META-INF/autoconf
                       auto-config.xml         auto-config.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Common directory&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;directory
 │  file1.xml
 │  file2.xml
 │
 └─conf
       auto-config.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#auto-config&quot; name=&quot;auto-config&quot;&gt;&lt;/a&gt;auto-config&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;config&amp;gt;
    &amp;lt;group&amp;gt;

        &amp;lt;property name=&amp;quot;petstore.work&amp;quot;
                    description=&amp;quot;应用程序的工作目录&amp;quot; /&amp;gt;

        &amp;lt;property name=&amp;quot;petstore.loggingRoot&amp;quot;
                    defaultValue=&amp;quot;${petstore.work}/logs&amp;quot;
                    description=&amp;quot;日志文件目录&amp;quot; /&amp;gt;

        &amp;lt;property name=&amp;quot;petstore.upload&amp;quot;
                    defaultValue=&amp;quot;${petstore.work}/upload&amp;quot;
                    description=&amp;quot;上传文件的目录&amp;quot; /&amp;gt;

        &amp;lt;property name=&amp;quot;petstore.loggingLevel&amp;quot;
                    defaultValue=&amp;quot;warn&amp;quot;
                    description=&amp;quot;日志文件级别&amp;quot;&amp;gt;

            &amp;lt;validator name=&amp;quot;choice&amp;quot;
                         choice=&amp;quot;trace, debug, info, warn, error&amp;quot; /&amp;gt;

        &amp;lt;/property&amp;gt;

    &amp;lt;/group&amp;gt;
    &amp;lt;script&amp;gt;
        &amp;lt;generate template=&amp;quot;WEB-INF/web.xml&amp;quot; /&amp;gt;
        &amp;lt;generate template=&amp;quot;WEB-INF/common/resources.xml&amp;quot; /&amp;gt;
    &amp;lt;/script&amp;gt;
&amp;lt;/config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;完整的properties&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;property
    name=&amp;quot;...&amp;quot;
    [defaultValue=&amp;quot;...&amp;quot;]
    [description=&amp;quot;...&amp;quot;]
    [required=&amp;quot;true|false&amp;quot;]
&amp;gt;
    &amp;lt;validator name=&amp;quot;...&amp;quot; /&amp;gt;
    &amp;lt;validator name=&amp;quot;...&amp;quot; /&amp;gt;
    ...
&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;生成配置文件的指令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;generate
    template=&amp;quot;...&amp;quot;
    [destfile=&amp;quot;...&amp;quot;]
    [charset=&amp;quot;...&amp;quot;]
    [outputCharset=&amp;quot;...&amp;quot;]
&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#auto-config-命令&quot; name=&quot;auto-config-命令&quot;&gt;&lt;/a&gt;auto-config 命令&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ autoconfig
Detected system charset encoding: UTF-8
If your can&amp;#39;t read the following text, specify correct one like this:
  autoconfig -c mycharset

使用方法：autoconfig [可选参数] [目录名|包文件名]

可选参数：
 -c,--charset                输入/输出编码字符集
 -d,--include-descriptors
                             包含哪些配置描述文件，例如：conf/auto-config.xml，可使用*、**、?通配符，如有多项，用逗号分隔
 -D,--exclude-descriptors    排除哪些配置描述文件，可使用*、**、?通配符，如有多项，用逗号分隔
 -g,--gui                    图形用户界面（交互模式）
 -h,--help                   显示帮助信息
 -i,--interactive            交互模式：auto|on|off，默认为auto，无参数表示on
 -I,--non-interactive        非交互模式，相当于--interactive=off
 -n,--shared-props-name      共享的属性文件的名称
 -o,--output                 输出文件名或目录名
 -P,--exclude-packages       排除哪些打包文件，可使用*、**、?通配符，如有多项，用逗号分隔
 -p,--include-packages
                             包含哪些打包文件，例如：target/*.war，可使用*、**、?通配符，如有多项，用逗号分隔
 -s,--shared-props           共享的属性文件URL列表，以逗号分隔
 -T,--type                   文件类型，例如：war, jar, ear等
 -t,--text                   文本用户界面（交互模式）
 -u,--userprop               用户属性文件
 -v,--verbose                显示更多信息
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>LTS</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-22-LTS.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#lts&quot; name=&quot;lts&quot;&gt;&lt;/a&gt;LTS&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ltsopensource/light-task-scheduler&quot;&gt;LTS(light-task-scheduler)&lt;/a&gt; 主要用于解决分布式任务调度问题，支持实时任务，定时任务和Cron任务&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/houbb/download/tree/master/download/pdf/lts/lts.pdf&quot;&gt;lts.pdf&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;主要功能&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
  &lt;li&gt;支持分布式，解决多点故障，支持动态扩容，容错重试等&lt;/li&gt;
  &lt;li&gt;Spring扩展支持，SpringBoot支持，Spring Quartz Cron任务的无缝接入支持&lt;/li&gt;
  &lt;li&gt;节点监控支持，任务执行监控支持，JVM监控支持&lt;/li&gt;
  &lt;li&gt;后台运维操作支持, 可以动态提交，更改，停止 任务&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
  &lt;p&gt;框架鸟瞰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;LTS节点:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;JobClient：主要负责提交任务, 并接收任务执行反馈结果。&lt;/li&gt;
  &lt;li&gt;JobTracker：负责接收并分配任务，任务调度。&lt;/li&gt;
  &lt;li&gt;TaskTracker：负责执行任务，执行完反馈给JobTracker。&lt;/li&gt;
  &lt;li&gt;LTS-Admin：（管理后台）主要负责节点管理，任务队列管理，监控管理等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;LTS支持任务类型：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;实时任务：提交了之后立即就要执行的任务。&lt;/li&gt;
  &lt;li&gt;定时任务：在指定时间点执行的任务，譬如 今天3点执行（单次）。&lt;/li&gt;
  &lt;li&gt;Cron任务：CronExpression，和quartz类似（但是不是使用quartz实现的）譬如 0 0/1 * * * ?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;结构图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/zookeeper/lts/2016-09-27-lts-struct.png&quot; alt=&quot;lts&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;节点组&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;英文名称 NodeGroup,一个节点组等同于一个小的集群，同一个节点组中的各个节点是对等的，等效的，对外提供相同的服务。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;每个节点组中都有一个master节点，这个master节点是由LTS动态选出来的，当一个master节点挂掉之后，LTS会立马选出另外一个master节点，&lt;br/&gt;框架提供API监听接口给用户。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;FailStore&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;这个主要是用于失败了存储的，主要用于节点容错，当远程数据交互失败之后，存储在本地，等待远程通信恢复的时候，再将数据提交。&lt;/li&gt;
  &lt;li&gt;FailStore主要用户JobClient的任务提交，TaskTracker的任务反馈，TaskTracker的业务日志传输的场景下。&lt;/li&gt;
  &lt;li&gt;FailStore目前提供几种实现：leveldb,rocksdb,berkeleydb,mapdb,ltsdb，用于可以自由选择使用哪种,用户也可以采用SPI扩展使用自己的实现。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Title: Demo in Mac&lt;br/&gt; Env-&amp;gt;Download:&lt;br/&gt; Download-&amp;gt;Package war:&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Env Prepare&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、 JDK&lt;/p&gt;
&lt;p&gt;Jdk1.6 or later&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ java -version
java version &amp;quot;1.8.0_91&amp;quot;
Java(TM) SE Runtime Environment (build 1.8.0_91-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、 Maven&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ mvn --v
Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)
Maven home: /usr/local/maven/maven3.3.9
Java version: 1.8.0_91, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre
Default locale: zh_CN, platform encoding: UTF-8
OS name: &amp;quot;mac os x&amp;quot;, version: &amp;quot;10.11.3&amp;quot;, arch: &amp;quot;x86_64&amp;quot;, family: &amp;quot;mac&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、 Zookeeper&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ pwd
/Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin
houbinbindeMacBook-Pro:bin houbinbin$ ./zkServer.sh start
ZooKeeper JMX enabled by default
Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg
Starting zookeeper ... STARTED
houbinbindeMacBook-Pro:bin houbinbin$ jps
14064 QuorumPeerMain
14067 Jps
13884
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、 MySQL&lt;/p&gt;
&lt;p&gt;Create database named &lt;code&gt;lts&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ mysql -V
/usr/local/mysql/bin/mysql  Ver 14.14 Distrib 5.6.30, for osx10.11 (x86_64) using  EditLine wrapper
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/ltsopensource/light-task-scheduler&quot;&gt;Download&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;git clone&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ git clone https://github.com/ltsopensource/light-task-scheduler
Cloning into &amp;#39;light-task-scheduler&amp;#39;...
remote: Counting objects: 25026, done.
remote: Compressing objects: 100% (58/58), done.
remote: Total 25026 (delta 9), reused 0 (delta 0), pack-reused 24936
Receiving objects: 100% (25026/25026), 97.44 MiB | 805.00 KiB/s, done.
Resolving deltas: 100% (10757/10757), done.
Checking connectivity... done.
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Package war&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Files in &lt;code&gt;light-task-scheduler&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:conf houbinbin$ cd ~/it/tools/light-task-scheduler/
houbinbindeMacBook-Pro:light-task-scheduler houbinbin$ ls
LICENSE			build.sh		lts-admin		lts-jobtracker		lts-startup		开发计划.md
README.md		docs			lts-core		lts-monitor		lts-tasktracker		开发者规范.md
build.cmd		lts			lts-jobclient		lts-spring		pom.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Only package the &lt;strong&gt;lts-admin&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You need &lt;code&gt;clean install lts-core&lt;/code&gt; and &lt;code&gt;clean install lts-monitor&lt;/code&gt;, then package &lt;strong&gt;lts-admin&lt;/strong&gt;.&lt;br/&gt;Log may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[INFO] Copying webapp resources [/Users/houbinbin/IT/tools/light-task-scheduler/lts-admin/src/main/webapp]
[INFO] Webapp assembled in [383 msecs]
[INFO] Building war: /Users/houbinbin/IT/tools/light-task-scheduler/lts-admin/target/lts-admin-1.7.0-SNAPSHOT.war
[INFO] WEB-INF/web.xml already added, skipping
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.912s
[INFO] Finished at: Sat Oct 22 15:08:53 CST 2016
[INFO] Final Memory: 20M/302M
[INFO] ------------------------------------------------------------------------

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Attention&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Ensure has create database &lt;code&gt;lts&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Mysql access should be &lt;code&gt;root/root&lt;/code&gt;,&lt;br/&gt;or you need change the &lt;code&gt;lts-admin.cfg&lt;/code&gt; and &lt;code&gt;lts-monitor.cfg&lt;/code&gt; database access int &lt;strong&gt;lts-admin&lt;/strong&gt; like this:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;# ------ 这个是Admin存储数据的地方,也可以和JobQueue的地址一样 ------
configs.jdbc.url=jdbc:mysql://127.0.0.1:3306/lts
configs.jdbc.username=root
configs.jdbc.password=123456
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Tomcat run&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;copy the &lt;code&gt;lts-admin-${version}.war&lt;/code&gt; into tomcat&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:light-task-scheduler houbinbin$ mv /Users/houbinbin/IT/tools/light-task-scheduler/lts-admin/target/lts-admin-1.7.0-SNAPSHOT.war ~/it/tools/tomcat/tomcat8/webapps/ROOT.war
houbinbindeMacBook-Pro:light-task-scheduler houbinbin$ cd ~/it/tools/tomcat/tomcat8/webapps
houbinbindeMacBook-Pro:webapps houbinbin$ ls
ROOT		ROOT.war
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or use maven plugin in the &lt;code&gt;lts-admin&lt;/code&gt; module&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mvn tomcat7:run
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enter &lt;code&gt;localhost:8081&lt;/code&gt; in browser, the default access is &lt;code&gt;admin/admin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/tools/lts/2016-10-22-lts-index.png&quot; alt=&quot;lts-index&quot; /&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#quick-start&quot; name=&quot;quick-start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Prepare&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/ltsopensource/lts-examples&quot;&gt;Import example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Import this demo to your idea.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Start Zookeeper&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Start MySQL&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create database named &lt;code&gt;lts&lt;/code&gt; first&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; use lts;
Database changed
mysql&amp;gt; show tables;
Empty set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Run&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Start JobTracker&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you mysql login is not &lt;code&gt;root/root&lt;/code&gt;, you need change the mysql conf in &lt;code&gt;lts.properties&lt;/code&gt;, then run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lts-examples/lts-example-jobtracker/lts-example-jobtracker-java/src/main/java/com/github/ltsopensource/example/java/Main.java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2016-10-22 14:25:55,352 [main] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.registry.RegistryStatMonitor  -  [LTS] Registry available, lts version: 1.6.9, current host: 192.168.1.3
2016-10-22 14:25:55,362 [main] (AbstractRegistry.java:62) INFO  com.github.ltsopensource.core.registry.Registry  -  [LTS] Subscribe: {&amp;quot;address&amp;quot;:&amp;quot;192.168.1.3:35001&amp;quot;,&amp;quot;available&amp;quot;:true,&amp;quot;clusterName&amp;quot;:&amp;quot;test_cluster&amp;quot;,&amp;quot;createTime&amp;quot;:1477117553921,&amp;quot;group&amp;quot;:&amp;quot;lts&amp;quot;,&amp;quot;hostName&amp;quot;:&amp;quot;houbinbindeMacBook-Pro.local&amp;quot;,&amp;quot;httpCmdPort&amp;quot;:8719,&amp;quot;identity&amp;quot;:&amp;quot;JT_192.168.1.3_14530_14-25-53.906_1&amp;quot;,&amp;quot;ip&amp;quot;:&amp;quot;192.168.1.3&amp;quot;,&amp;quot;listenNodeTypes&amp;quot;:[&amp;quot;JOB_CLIENT&amp;quot;,&amp;quot;TASK_TRACKER&amp;quot;,&amp;quot;JOB_TRACKER&amp;quot;,&amp;quot;MONITOR&amp;quot;],&amp;quot;nodeType&amp;quot;:&amp;quot;JOB_TRACKER&amp;quot;,&amp;quot;port&amp;quot;:35001,&amp;quot;threads&amp;quot;:64}, lts version: 1.6.9, current host: 192.168.1.3
2016-10-22 14:25:55,380 [main] (AbstractRegistry.java:37) INFO  com.github.ltsopensource.core.registry.Registry  -  [LTS] Register: {&amp;quot;address&amp;quot;:&amp;quot;192.168.1.3:35001&amp;quot;,&amp;quot;available&amp;quot;:true,&amp;quot;clusterName&amp;quot;:&amp;quot;test_cluster&amp;quot;,&amp;quot;createTime&amp;quot;:1477117553921,&amp;quot;group&amp;quot;:&amp;quot;lts&amp;quot;,&amp;quot;hostName&amp;quot;:&amp;quot;houbinbindeMacBook-Pro.local&amp;quot;,&amp;quot;httpCmdPort&amp;quot;:8719,&amp;quot;identity&amp;quot;:&amp;quot;JT_192.168.1.3_14530_14-25-53.906_1&amp;quot;,&amp;quot;ip&amp;quot;:&amp;quot;192.168.1.3&amp;quot;,&amp;quot;listenNodeTypes&amp;quot;:[&amp;quot;JOB_CLIENT&amp;quot;,&amp;quot;TASK_TRACKER&amp;quot;,&amp;quot;JOB_TRACKER&amp;quot;,&amp;quot;MONITOR&amp;quot;],&amp;quot;nodeType&amp;quot;:&amp;quot;JOB_TRACKER&amp;quot;,&amp;quot;port&amp;quot;:35001,&amp;quot;threads&amp;quot;:64}, lts version: 1.6.9, current host: 192.168.1.3
2016-10-22 14:25:55,392 [main] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.cluster.JobNode  -  [LTS] ========== Start success, nodeType=JOB_TRACKER, identity=JT_192.168.1.3_14530_14-25-53.906_1, lts version: 1.6.9, current host: 192.168.1.3
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Start TaskTracker&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lts-examples/lts-example-tasktracker/lts-example-tasktracker-java/src/main/java/com/github/ltsopensource/example/java/Main.java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2016-10-22 14:28:49,943 [ZkClient-EventThread-29-127.0.0.1:2181] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.cluster.MasterElector  -  [LTS] Current node become the master node:{&amp;quot;address&amp;quot;:&amp;quot;192.168.1.3:0&amp;quot;,&amp;quot;available&amp;quot;:true,&amp;quot;clusterName&amp;quot;:&amp;quot;test_cluster&amp;quot;,&amp;quot;createTime&amp;quot;:1477117728807,&amp;quot;group&amp;quot;:&amp;quot;test_trade_TaskTracker&amp;quot;,&amp;quot;hostName&amp;quot;:&amp;quot;houbinbindeMacBook-Pro.local&amp;quot;,&amp;quot;httpCmdPort&amp;quot;:8720,&amp;quot;identity&amp;quot;:&amp;quot;TT_192.168.1.3_14571_14-28-48.784_1&amp;quot;,&amp;quot;ip&amp;quot;:&amp;quot;192.168.1.3&amp;quot;,&amp;quot;nodeType&amp;quot;:&amp;quot;TASK_TRACKER&amp;quot;,&amp;quot;port&amp;quot;:0,&amp;quot;threads&amp;quot;:64}, lts version: 1.6.9, current host: 192.168.1.3
2016-10-22 14:28:49,943 [main] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.cluster.JobNode  -  [LTS] ========== Start success, nodeType=TASK_TRACKER, identity=TT_192.168.1.3_14571_14-28-48.784_1, lts version: 1.6.9, current host: 192.168.1.3
2016-10-22 14:28:49,944 [ZkClient-EventThread-29-127.0.0.1:2181] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.support.RetryScheduler  -  [LTS] Start JobPushProcessor master RetryScheduler success, identity=[TT_192.168.1.3_14571_14-28-48.784_1], lts version: 1.6.9, current host: 192.168.1.3
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Start ClientTracker&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lts-examples/lts-example-jobclient/lts-example-jobclient-java/src/main/java/com/github/ltsopensource/example/java/Main.java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2016-10-22 14:30:56,216 [main] (AbstractLogger.java:31) INFO  com.github.ltsopensource.core.cluster.JobNode  -  [LTS] ========== Start success, nodeType=JOB_CLIENT, identity=JC_192.168.1.3_14599_14-30-55.128_1, lts version: 1.6.9, current host: 192.168.1.3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the &lt;strong&gt;LTS-Admin&lt;/strong&gt; manager page, you can get the info about them.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#try-in-ubuntu&quot; name=&quot;try-in-ubuntu&quot;&gt;&lt;/a&gt;Try in Ubuntu&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Download&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   git clone https://github.com/ztajy/light-task-scheduler.git

root@iZuf60ahcky4k4nfv470juZ:~/code/light-task-scheduler# ls
build.cmd  build.sh  docs  lts  lts-admin  lts-core  lts-example  lts-jobclient  lts-jobtracker  lts-logger  lts-queue  lts-spring  lts-startup  lts-tasktracker  pom.xml  README.md
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;JobTracker和LTS-Admin部署&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、运行根目录下的sh build.sh或build.cmd脚本，会在dist目录下生成lts-{version}-bin文件夹 &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sh  build.sh

...
...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 5.245 s
[INFO] Finished at: 2016-09-27T14:06:20+08:00
[INFO] Final Memory: 12M/30M
[INFO] ------------------------------------------------------------------------

root@iZuf60ahcky4k4nfv470juZ:~/code/light-task-scheduler/dist# pwd
/root/code/light-task-scheduler/dist
root@iZuf60ahcky4k4nfv470juZ:~/code/light-task-scheduler/dist# ls
lts-1.6.3-SNAPSHOT-bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、下面是其目录结构，其中bin目录主要是JobTracker和LTS-Admin的启动脚本。&lt;br/&gt;jobtracker 中是 JobTracker的配置文件和需要使用到的jar包，lts-admin是LTS-Admin相关的war包和配置文件。 &lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;lts-{version}-bin的文件结构&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;├── bin
│   ├── jobtracker.cmd
│   ├── jobtracker.sh
│   ├── lts-admin.cmd
│   └── lts-admin.sh
├── jobtracker
│   ├── conf
│   │   └── zoo
│   │       ├── jobtracker.cfg
│   │       └── log4j.properties
│   └── lib
│       └── *.jar
├── lts-admin
│   ├── conf
│   │   ├── log4j.properties
│   │   └── lts-admin.cfg
│   ├── lib
│   │   └── *.jar
│   └── lts-admin.war
└── tasktracker
    ├── bin
    │   └── tasktracker.sh
    ├── conf
    │   ├── log4j.properties
    │   └── tasktracker.cfg
    └── lib
        └── *.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、JobTracker启动。如果你想启动一个节点，直接修改下conf/zoo下的配置文件，然后运行 sh jobtracker.sh zoo start即可，&lt;br/&gt;如果你想启动两个JobTracker节点，那么你需要拷贝一份zoo,譬如命名为zoo2,修改下zoo2下的配置文件，&lt;br/&gt;然后运行sh jobtracker.sh zoo2 start即可。logs文件夹下生成jobtracker-zoo.out日志。&lt;/p&gt;
&lt;p&gt;4、LTS-Admin启动.修改lts-admin/conf下的配置，然后运行bin下的sh lts-admin.sh或lts-admin.cmd脚本即可。&lt;br/&gt;logs文件夹下会生成lts-admin.out日志，启动成功在日志中会打印出访问地址，用户可以通过这个访问地址访问了。&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-08-27-MySQL.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#mysql&quot; name=&quot;mysql&quot;&gt;&lt;/a&gt;MySQL&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://www.mysql.com&quot;&gt;MySQL&lt;/a&gt; is the world&amp;rsquo;s most popular open source database.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://c.biancheng.net/cpp/html/1456.html&quot;&gt;zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#data-type&quot; name=&quot;data-type&quot;&gt;&lt;/a&gt;Data Type&lt;/h1&gt;
&lt;p&gt;Data Type Rules:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;The smaller, the better&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;As simple as possible&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Avoid use NULL&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a href=&quot;#index&quot; name=&quot;index&quot;&gt;&lt;/a&gt;Index&lt;/h1&gt;
&lt;p&gt;The max limit number of mysql index is —— &lt;strong&gt;16&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#index-not-work-case&quot; name=&quot;index-not-work-case&quot;&gt;&lt;/a&gt;Index not work case&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;!=&lt;/code&gt; or &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;use fun();&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;JOIN, only use index when primary key has the same type with foreign key;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;LIKE, REGEX only use index when first char is not wildcard.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;like &amp;#39;%abc&amp;#39;   ×
like &amp;#39;abc%&amp;#39;   √
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;ORDER BY: only use when the where condition is not a expression. It&amp;rsquo;s not works well when has multi-table.&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;index not works well when one column has many the same value, like (0/1), (y/n)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;#full-text-index&quot; name=&quot;full-text-index&quot;&gt;&lt;/a&gt;Full-Text index&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/mguo/archive/2013/04/16/3023610.html&quot;&gt;full-text&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The most time consuming sql may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;SELECT * FROM `table_name` WHERE `column_name` LIKE &amp;#39;%word%&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;create full-text&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;CREATE TABLE full_text(
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(64) NOT NULL COMMENT &amp;#39;名称&amp;#39;,
  `info` VARCHAR(128) NULL DEFAULT &amp;#39;&amp;#39; COMMENT &amp;#39;信息&amp;#39;,
  PRIMARY KEY (`id`),
  FULLTEXT (`name`, `info`) COMMENT &amp;#39;添加全文索引&amp;#39;
) COMMENT = &amp;#39;全文检索&amp;#39; ENGINE = MyISAM;

INSERT INTO full_text (name, info) VALUES
  (&amp;#39;mark the word&amp;#39;, &amp;#39;you can mark the word&amp;#39;),
  (&amp;#39;kill the word&amp;#39;, &amp;#39;you can kill the word&amp;#39;),
  (&amp;#39;like the word&amp;#39;, &amp;#39;you can like the word&amp;#39;),
  (&amp;#39;miss the word&amp;#39;, &amp;#39;you can miss the word&amp;#39;),
  (&amp;#39;think the word&amp;#39;, &amp;#39;you can think the word&amp;#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;query&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;SELECT * FROM full_text WHERE MATCH(`name`, `info`) AGAINST (&amp;#39;think like mark&amp;#39;) &amp;gt; 0.0001;
SELECT * FROM full_text WHERE MATCH(`name`, `info`) AGAINST (&amp;#39;you word miss&amp;#39;) &amp;gt; 0.0001;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#stored-procedure-trigger-5-0-&quot; name=&quot;stored-procedure-trigger-5-0-&quot;&gt;&lt;/a&gt;Stored Procedure &amp;amp; Trigger (5.0+)&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Stored Procedure&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;define&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;DROP FUNCTION IF EXISTS shortLen;

CREATE FUNCTION shortLen(s VARCHAR(255), n INT)
  RETURNS VARCHAR(255)
  BEGIN
    IF ISNULL(s)
    THEN
      RETURN &amp;#39;&amp;#39;;
    ELSEIF n &amp;lt; 15
      THEN
        RETURN LEFT(s, n);
    ELSE
      IF CHAR_LENGTH(s) &amp;lt;= n
      THEN
        RETURN s;
      ELSE
        RETURN CONCAT(LEFT(s, n - 10), &amp;#39;...&amp;#39;, RIGHT(s, 5));
      END IF;
    END IF;
  END;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;use&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;SELECT shortLen(&amp;#39;asdfasdfasdfasdfasfdasdgasdgfadghfgdhfgjghj&amp;#39;, 15);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;result&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;asdfa...gjghj
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;show functions&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;SHOW FUNCTION STATUS;

SHOW CREATE FUNCTION shortLen;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#自连接查询&quot; name=&quot;自连接查询&quot;&gt;&lt;/a&gt;自连接查询&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;$   vi ~/.base_profile

alias mysql=/usr/local/mysql/bin/mysql

$   source ~/.base_profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Create table&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;DROP TABLE IF EXISTS `t_score`;
CREATE TABLE `t_score`(
  id BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY ,
  score INT(11) NOT NULL DEFAULT 0,
  student_id BIGINT(20) NOT NULL,
  type INT(11) NOT NULL COMMENT &amp;#39;类型, 0-&amp;gt;语文, 1-&amp;gt;数学&amp;#39;
) COMMENT &amp;#39;分数表&amp;#39;;

INSERT INTO t_score (score, student_id, type) VALUES
  (50, 1, 0),
  (60, 1, 1),
  (78, 2, 0),
  (99, 2, 1)
;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Query all&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; SELECT * FROM t_score;
+----+-------+------------+------+
| id | score | student_id | type |
+----+-------+------------+------+
|  1 |    50 |          1 |    0 |
|  2 |    60 |          1 |    1 |
|  3 |    78 |          2 |    0 |
|  4 |    99 |          2 |    1 |
+----+-------+------------+------+
4 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Query student&amp;rsquo;s math and chinese score&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; SELECT cs.score, ms.score, cs.student_id
    -&amp;gt; FROM t_score AS cs, t_score AS ms
    -&amp;gt; WHERE cs.student_id=ms.student_id
    -&amp;gt; AND cs.type=0 AND ms.type=1;
+-------+-------+------------+
| score | score | student_id |
+-------+-------+------------+
|    50 |    60 |          1 |
|    78 |    99 |          2 |
+-------+-------+------------+
2 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#并发控制&quot; name=&quot;并发控制&quot;&gt;&lt;/a&gt;并发控制&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;读写锁&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;读锁&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;共享锁, 多个客户之间读取资源互不干扰。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;写锁&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;排他锁, 会阻塞其他的读锁和写锁。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;锁粒度&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Table Lock&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;消耗最小。一个用户进行更新、删除、创建时,获取写锁,阻塞其他用户的读写。无写锁时,读锁互不影响。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Row Lock&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最大程度支持并发。开销较大。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Transaction&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Create table for test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;mysql&quot;&gt;CREATE TABLE `t_test`(
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `info` VARCHAR(100) DEFAULT NULL,
  `create_time` TIMESTAMP NULL DEFAULT NULL
) COMMENT &amp;#39;test table&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Begin transaction&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;START TRANSACTION | BEGIN [WORK]
    COMMIT [WORK] [AND [NO] CHAIN] [[NO] RELEASE]
    ROLLBACK [WORK] [AND [NO] CHAIN] [[NO] RELEASE]
    SET AUTOCOMMIT = {0 | 1}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;事务&lt;/strong&gt;是一组原子性的SQL查询,内部的操作,要么**全部成功,要么全部失败**。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Atomicity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不可再分&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Consistency&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从一种一致性状态到另一种一致性状态&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Isolation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;事务在最终提交之前,所有的修改操作对其他事务都是不可见的&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Durability&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;事务一旦提交,修改将会在数据库持久生效&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Isolation level&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Isolation Level &lt;/th&gt;
      &lt;th align=&quot;center&quot;&gt;dirty read &lt;/th&gt;
      &lt;th align=&quot;center&quot;&gt;non-repeatable read &lt;/th&gt;
      &lt;th align=&quot;center&quot;&gt;phantom read &lt;/th&gt;
      &lt;th align=&quot;center&quot;&gt;add lock read &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;uncommitted read &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;committed read &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;repeatable read &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;uncommitted read &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;serializable &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;no &lt;/td&gt;
      &lt;td align=&quot;center&quot;&gt;yes &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;Dead Lock&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当两个或者两个以上事务在同一资源上相互占用,并请求锁定占用对方的资源,会造成死锁。&lt;/p&gt;
&lt;p&gt;如 Innodb 引擎,会检测死锁,并立刻返回错误。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#config-mysql&quot; name=&quot;config-mysql&quot;&gt;&lt;/a&gt;Config MySQL&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;降低初始化占用内存&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Edit &lt;code&gt;my.cnf&lt;/code&gt; file in &lt;code&gt;/etc/mysql&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;performance_schema_max_table_instances=600
table_definition_cache=400
table_open_cache=256
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;timestamp&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;CREATE TABLE test(
`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
COMMENT &amp;#39;创建时，默认为系统当前时间。以后不再刷新&amp;#39;,

`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
COMMENT &amp;#39;创建/修改时刷新时间，同TIMESTAMP&amp;#39;
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT=&amp;#39;test&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#mysql-remote-connection&quot; name=&quot;mysql-remote-connection&quot;&gt;&lt;/a&gt;MySQL Remote Connection&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Link to localhost&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   mysql -h localhost -u root -p
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Link to remote&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ mysql -h remote -uroot -p
Enter password:
ERROR 2003 (HY000): Can&amp;#39;t connect to MySQL server on &amp;#39;remote&amp;#39; (61)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#make-remote-access-enable&quot; name=&quot;make-remote-access-enable&quot;&gt;&lt;/a&gt;make remote access enable&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Login Remote MySQL&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; use mysql;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&amp;gt; select Host,User from user;
+-------------------------+------------------+
| Host                    | User             |
+-------------------------+------------------+
| 127.0.0.1               | root             |
| ::1                     | root             |
| izuf60ahcky4k4nfv470juz | root             |
| localhost               | debian-sys-maint |
| localhost               | root             |
+-------------------------+------------------+
5 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Update &lt;code&gt;mysql&lt;/code&gt;.&lt;code&gt;user&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;run this sql:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;UPDATE `user` SET Host=&amp;#39;%&amp;#39; WHERE User =&amp;#39;root&amp;#39; LIMIT 1;

Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after update:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; select Host,User from user;
+-------------------------+------------------+
| Host                    | User             |
+-------------------------+------------------+
| %                       | root             |
| 127.0.0.1               | root             |
| ::1                     | root             |
| izuf60ahcky4k4nfv470juz | root             |
| localhost               | debian-sys-maint |
+-------------------------+------------------+
5 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use &lt;code&gt;flush privileges;&lt;/code&gt; to flush.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Edit &lt;code&gt;my.cnf&lt;/code&gt; file in &lt;code&gt;/etc/mysql&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;comment the line of &lt;strong&gt;bind-address&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#
# Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
# bind-address          = 127.0.0.1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use command to restart mysql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~# service mysql restart
mysql stop/waiting
mysql start/running, process 2493
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#table-name-sensitive&quot; name=&quot;table-name-sensitive&quot;&gt;&lt;/a&gt;table name sensitive&lt;/h2&gt;
&lt;p&gt;Table name in ubuntu is &lt;strong&gt;case-sensitive&lt;/strong&gt;, so. If you want it works like in windows. Just:&lt;/p&gt;
&lt;p&gt;add the content under &lt;code&gt;[mysqld]&lt;/code&gt;, and restart mysql.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/mysql/my.cnf

lower_case_table_names = 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then use &lt;code&gt;show variables like &amp;#39;lower_%&amp;#39;&lt;/code&gt; test it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;+------------------------+-------+
| Variable_name          | Value |
+------------------------+-------+
| lower_case_file_system | OFF   |
| lower_case_table_names | 1     |
+------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#mysql开启日志功能&quot; name=&quot;mysql开启日志功能&quot;&gt;&lt;/a&gt;mysql开启日志功能&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;查看是否开启&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; show variables like &amp;#39;log_bin&amp;#39;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| log_bin       | OFF   |
+---------------+-------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;查看当前日志&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mysql&amp;gt; show variables like &amp;#39;log_bin&amp;#39;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| log_bin       | OFF   |
+---------------+-------+
1 row in set (0.00 sec)

mysql&amp;gt; show master status;
Empty set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;编辑配置文件 &lt;code&gt;my.cnf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/mysql/my.cnf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;开启日志:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;log-bin = /var/mysqllog/logbin.log
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;查看状态&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;service mysql restart

mysql&amp;gt;  show variables like &amp;#39;log_bin&amp;#39;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| log_bin       | ON    |
+---------------+-------+
1 row in set (0.00 sec)
mysql&amp;gt; show master status;
+------------------+----------+--------------+------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+------------------+----------+--------------+------------------+
| mysql-bin.000001 |      107 |              |                  |
+------------------+----------+--------------+------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#备份还原&quot; name=&quot;备份还原&quot;&gt;&lt;/a&gt;备份还原&lt;/h1&gt;
&lt;p&gt;1、备份一个数据库&lt;/p&gt;
&lt;p&gt;mysqldump基本语法：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mysqldump -u username -p dbname table1 table2 ...-&amp;gt; BackupName.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其中：&lt;br/&gt;dbname参数表示数据库的名称；&lt;br/&gt;table1和table2参数表示需要备份的表的名称，为空则整个数据库备份；&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;BackupName.sql``` 参数表设计备份文件的名称，文件名前面可以加上一个绝对路径。通常将数据库被分成一个后缀名为sql的文件；&quot;&gt;&lt;br/&gt;&lt;br/&gt;如:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mysqldump -u root -p blog_view &amp;gt; /root/backup/blog_view.sql;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- 备份多个数据库

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mysqldump -u username -p &amp;ndash;databases dbname2 dbname2 &amp;gt; Backup.sql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 备份所有数据库

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mysqldump -u username -p &amp;ndash;all-databases &amp;gt; BackupName.sql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;2、还原一个数据库

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mysql -u root -p [dbname] &amp;lt; backup.sq&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; 定时备份

- 创建定时备份脚本:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;vi backup_blog_view.sh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 添加内容如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/bash&lt;br/&gt;mysqldump -uroot -p123456 blog_view &amp;gt; /root/backup/blog_view_$(date +%Y%m%d_%H%M%S).sql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 进行备份压缩:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/bash&lt;br/&gt;mysqldump -uroot -p123456 blog_view | gzip &amp;gt; /root/backup/blog_view_$(date +%Y%m%d_%H%M%S).sql.gz&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 添加权限,执行测试:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;chmod +x backup_blog_view.sh&lt;br/&gt;./backup_blog_view.sh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- 定时运行

ubuntu 下使用 crontab
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ ~# crontab -e&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;添加内容如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0 2 * * * /root/shell/backup_blog_view.sh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;意思为凌晨2点执行备份脚本。

- 重启 CRON 进程:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;~# /etc/init.d/cron restart&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;# Dead lock

1. mysql 更新,根据普通索引。会首先锁定*普通索引*, 在锁定*主索引*
2. mysql 根据主键更新会直接锁定*主索引*

二者同时使用,会造成锁争用——死锁。

最佳实践:

每次更新或者删除,根据索引条件查询出记录。再根据主键进行删除或更新。


# 备份实战

切换至root.

Ubuntu14.04 默认mysql```5.5.53```,现在将其升级到 ```5.6```

&amp;gt; Prepare

- reboot

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo reboot&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- backup

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ pwd&lt;br/&gt;/home/hbb/backup&lt;/p&gt;
&lt;p&gt;$ mysqldump -uroot -p123456 &amp;ndash;all-databases &amp;gt; backup_all_20170101.sql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- stop mysql

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo /etc/init.d/mysql stop&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;remove mysql

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;apt-get remove mysql-server&lt;br/&gt;apt-get &amp;ndash;purge remove mysql-server&lt;br/&gt;apt-get autoremove&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- update and upgrade apt-get

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;apt-get update&lt;br/&gt;apt-get upgrade&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;upgrade会更新很多东西,可以跳过不执行。

- install mysql-server-5.6

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;apt-get install mysql-server-5.6&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- re-back

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mysql -uroot -p123456 &amp;lt; backup_all_20170101.sql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- version

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ mysql &amp;ndash;version;&lt;br/&gt;mysql Ver 14.14 Distrib 5.6.33, for debian-linux-gnu (x86_64) using EditLine wrapperv&lt;br/&gt;```&lt;/p&gt;</description>
    </item>
    <item>
      <title>Python</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-02-python.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#python&quot; name=&quot;python&quot;&gt;&lt;/a&gt;Python&lt;/h1&gt;
&lt;p&gt;Python is powerful&amp;hellip; and fast; plays well with others; runs everywhere; is friendly &amp;amp; easy to learn; is Open.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.python.org/&quot;&gt;python&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000&quot;&gt;python zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Install&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;cmd&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;C:\Users\houbinbin&amp;gt;python
Python 3.5.0 (v3.5.0:374f501f4567, Sep 13 2015, 02:27:37) [MSC v.1900 64 bit (AMD64)] on win32
Type &amp;quot;help&amp;quot;, &amp;quot;copyright&amp;quot;, &amp;quot;credits&amp;quot; or &amp;quot;license&amp;quot; for more information.
&amp;gt;&amp;gt;&amp;gt; 100+200
300
&amp;gt;&amp;gt;&amp;gt; print(&amp;quot;hello, world&amp;quot;)
hello, world
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run *.py
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;2016/09/02  10:10                22 hello.py
               1 个文件             22 字节
               2 个目录 125,722,767,360 可用字节

D:\python&amp;gt;python hello.py
hello, world
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the content of &lt;code&gt;hello.py&lt;/code&gt; is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;print(&amp;quot;hello,world&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#python-base&quot; name=&quot;python-base&quot;&gt;&lt;/a&gt;Python Base&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;Input&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&amp;gt;&amp;gt;&amp;gt; name=input();
ryo
&amp;gt;&amp;gt;&amp;gt; name
&amp;#39;ryo&amp;#39;
&amp;gt;&amp;gt;&amp;gt; print(name);
ryo
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run *.py
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;D:\python&amp;gt;python hello.py
Please enter your name: ryo
hello,  ryo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the content of hello.py is；&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;name=input(&amp;quot;Please enter your name: &amp;quot;);
print(&amp;quot;hello, &amp;quot;, name);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Charset&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;ord &amp;amp; chr&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&amp;gt;&amp;gt;&amp;gt; ord(&amp;quot;a&amp;quot;);
97
&amp;gt;&amp;gt;&amp;gt; ord(&amp;quot;你&amp;quot;);
20320
&amp;gt;&amp;gt;&amp;gt; chr(97);
&amp;#39;a&amp;#39;
&amp;gt;&amp;gt;&amp;gt; chr(20320);
&amp;#39;你&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;encode &amp;amp; decode&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;abc&amp;quot;.encode(&amp;quot;utf-8&amp;quot;);
b&amp;#39;abc&amp;#39;
&amp;gt;&amp;gt;&amp;gt; &amp;quot;你好&amp;quot;.encode(&amp;quot;utf-8&amp;quot;);
b&amp;#39;\xe4\xbd\xa0\xe5\xa5\xbd&amp;#39;
&amp;gt;&amp;gt;&amp;gt; &amp;quot;你好&amp;quot;.encode(&amp;quot;ascii&amp;quot;);
Traceback (most recent call last):
  File &amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;
UnicodeEncodeError: &amp;#39;ascii&amp;#39; codec can&amp;#39;t encode characters in position 0-1: ordinal not in range(128)
&amp;gt;&amp;gt;&amp;gt; b&amp;#39;abc&amp;#39;.decode(&amp;quot;utf-8&amp;quot;);
&amp;#39;abc&amp;#39;
&amp;gt;&amp;gt;&amp;gt; b&amp;#39;\xe4\xbd\xa0\xe5\xa5\xbd&amp;#39;.decode(&amp;quot;utf-8&amp;quot;);
&amp;#39;你好&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;len&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&amp;gt;&amp;gt;&amp;gt; len(&amp;quot;abc&amp;quot;);
3
&amp;gt;&amp;gt;&amp;gt; len(&amp;quot;你好&amp;quot;);
2
&amp;gt;&amp;gt;&amp;gt; len(&amp;quot;\xe4\xbd\xa0\xe5\xa5\xbd&amp;quot;);
6
&amp;gt;&amp;gt;&amp;gt; len(&amp;quot;你好&amp;quot;.encode(&amp;quot;utf-8&amp;quot;));
6
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Read encode&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python3
# -*- coding: utf-8 -*-
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;#!/usr/bin/env python3
# -*- coding: utf-8 -*-

print(&amp;quot;中文测试&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Format&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;#!/usr/bin/env python3
# -*- coding: utf-8 -*-

s1 = 72
s2 = 85
r=(s2-s1)/s1*100
print(&amp;quot;小明成绩提高了%.1f%%&amp;quot;%r)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the result is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;小明成绩提高了18.1%
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Phabricator</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-21-phabricator.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#phabricator&quot; name=&quot;phabricator&quot;&gt;&lt;/a&gt;Phabricator&lt;/h1&gt;
&lt;p&gt;Phabricator is an integrated set of powerful tools to help companies build higher quality software.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.phacility.com/&quot;&gt;Phabricator&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://secure.phabricator.com/book/phabricator/article/installation_guide/&quot;&gt;Guide&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一、Installing Required Components&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;git&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ git --version
git version 2.8.1
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://coolestguidesontheplanet.com/how-to-install-php-mysql-apache-on-os-x-10-6/&quot;&gt;AMP&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Apache&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ httpd -v
Server version: Apache/2.4.16 (Unix)
Server built:   Jul 31 2015 15:53:26
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;php&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ php -v
PHP 5.5.30 (cli) (built: Oct 23 2015 17:21:45)
Copyright (c) 1997-2015 The PHP Group
Zend Engine v2.5.0, Copyright (c) 1998-2015 Zend Technologies
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;MySQL&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.mysql.com&quot;&gt;MySQL&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下载以下项目&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git clone https://github.com/phacility/libphutil.git
$ git clone https://github.com/phacility/arcanist.git
$ git clone https://github.com/phacility/phabricator.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then&lt;/p&gt;
&lt;p&gt;这个为实践路径。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:phabricator houbinbin$ pwd
/Users/houbinbin/IT/anybuy/phabricator
houbinbindeMacBook-Pro:phabricator houbinbin$ git clone https://github.com/phacility/libphutil.git
Cloning into &amp;#39;libphutil&amp;#39;...
remote: Counting objects: 14006, done.
remote: Compressing objects: 100% (104/104), done.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;二、 Configuring Apache&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/surge/p/4168220.html&quot;&gt;apache in mac&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;start &amp;amp; restart&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apachectl -k start

$   sudo apachectl -k restart
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;browser&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;localhost
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;find &lt;code&gt;httpd.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use command line with vim to edit or press:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;command + shift + G
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;enter&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/etc/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to find the apache dir.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/ryoho2015/article/details/50724020&quot;&gt;install in mac&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;error:&lt;/p&gt;
&lt;p&gt;Invalid command &amp;lsquo;RewriteEngine&amp;rsquo;, perhaps misspelled or defined by a module not included in the server configuration&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;edit the /etc/apache2/httpd.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;remove the &lt;code&gt;#&lt;/code&gt; before following:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;LoadModule rewrite_module libexec/apache2/mod_rewrite.so
LoadModule php5_module libexec/apache2/libphp5.so
Include /private/etc/apache2/extra/httpd-vhosts.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;edit the /etc/apache2/extra/httpd-vhosts.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Virtual Hosts
#
# Required modules: mod_log_config

# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn&amp;#39;t need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at
# &amp;lt;URL:http://httpd.apache.org/docs/2.4/vhosts/&amp;gt;
# for further details before you try to setup virtual hosts.
#
# You may use the command line option &amp;#39;-S&amp;#39; to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any &amp;lt;VirtualHost&amp;gt; block.
#

Listen 1234

&amp;lt;Directory &amp;quot;/Users/houbinbin/IT/anybuy/phabricator/phabricator/webroot&amp;quot;&amp;gt;
  Require all granted
&amp;lt;/Directory&amp;gt;

&amp;lt;VirtualHost *:1234&amp;gt;
  # Change this to the domain which points to your host.
  ServerName www.anybuy.com

  # Change this to the path where you put &amp;#39;phabricator&amp;#39; when you checked it
  # out from GitHub when following the Installation Guide.
  #
  # Make sure you include &amp;quot;/webroot&amp;quot; at the end!
  DocumentRoot /Users/houbinbin/IT/anybuy/phabricator/phabricator/webroot

  RewriteEngine on
  RewriteRule ^/rsrc/(.*)     -                       [L,QSA]
  RewriteRule ^/favicon.ico   -                       [L,QSA]
  RewriteRule ^(.*)$          /index.php?__path__=$1  [B,L,QSA]
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Listen 1234 指定端口号为 1234&lt;/li&gt;
  &lt;li&gt;ServerName &lt;code&gt;www.anybuy.com&lt;/code&gt; 后者为项目域名,本地可使用&lt;code&gt;127.0.0.1&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;/Users/houbinbin/IT/anybuy/phabricator/phabricator/webroot&lt;/code&gt; 2处路径请替换成自己的实际路径。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
  &lt;li&gt;restart the Apache and you can see&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/phabricator/2016-09-22-phabricator-index.png&quot; alt=&quot;phabricator index&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;config mysql&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/config set mysql.host localhost

/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/config set mysql.port 3306　

/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/config set mysql.user root　

/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/config set mysql.pass ***(Your pwd)　
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, it&amp;rsquo;s ask you to:&lt;/p&gt;
&lt;p&gt;Run the storage upgrade script to setup Phabricator&amp;rsquo;s database schema.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/storage upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the log may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Before running storage upgrades, you should take down the Phabricator web
interface and stop any running Phabricator daemons (you can disable this
warning with --force).

    Are you ready to continue? [y/N] y

Loading quickstart template...
Applying patch &amp;#39;phabricator:db.packages&amp;#39;...
Applying patch &amp;#39;phabricator:20160201.revision.properties.1.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160201.revision.properties.2.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160706.phame.blog.parentdomain.2.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160706.phame.blog.parentsite.1.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160707.calendar.01.stub.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160711.files.01.builtin.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160711.files.02.builtinkey.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160713.event.01.host.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160715.event.01.alldayfrom.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160715.event.02.alldayto.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160715.event.03.allday.php&amp;#39;...
Applying patch &amp;#39;phabricator:20160720.calendar.invitetxn.php&amp;#39;...
Restructuring calendar invite transactions...
Done.
Applying patch &amp;#39;phabricator:20160721.pack.01.pub.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.02.pubxaction.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.03.edge.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.04.pkg.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.05.pkgxaction.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.06.version.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160721.pack.07.versionxaction.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160722.pack.01.pubngrams.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160722.pack.02.pkgngrams.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160722.pack.03.versionngrams.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160810.commit.01.summarylength.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160824.connectionlog.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160824.repohint.01.hint.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160824.repohint.02.movebad.php&amp;#39;...
Applying patch &amp;#39;phabricator:20160824.repohint.03.nukebad.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160825.ponder.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160829.pastebin.01.language.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160829.pastebin.02.language.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160913.conpherence.topic.1.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160919.repo.messagecount.sql&amp;#39;...
Applying patch &amp;#39;phabricator:20160919.repo.messagedefault.sql&amp;#39;...
Storage is up to date. Use &amp;#39;storage status&amp;#39; for details.
Verifying database schemata...


Database                 Table                    Name              Issues
phabricator_calendar     calendar_event           userPHID_dateFrom Surplus Key
phabricator_calendar     calendar_event           key_date          Missing Key
phabricator_file         file_transaction_comment key_draft         Surplus Key
phabricator_harbormaster harbormaster_build       key_initiator     Missing Key
phabricator_herald       herald_rule              name              Better Collation Available
phabricator_herald       herald_rule              key_name          Missing Key
phabricator_packages     packages_package         name              Better Collation Available
phabricator_packages     packages_publisher       name              Better Collation Available
phabricator_search       search_document          key_type          Missing Key
phabricator_worker       worker_archivetask       key_modified      Missing Key
Applying schema adjustments...
Done.
Completed applying all schema adjustments.
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit the phabricator&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;http://127.0.0.1:1234/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/phabricator/2016-09-22-phabricator-visit.png&quot; alt=&quot;phabricator&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-ubuntu&quot; name=&quot;install-in-ubuntu&quot;&gt;&lt;/a&gt;Install in Ubuntu&lt;/h1&gt;
&lt;p&gt;If you are installing on Ubuntu, there are install scripts available which should handle most of the things discussed in this document for you:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh&quot;&gt;install_ubuntu.sh&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;https://my.oschina.net/yoyoko/blog/126325&quot;&gt;install zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.linuxdiyf.com/linux/16060.html&quot;&gt;install zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一、 install_ubuntu.sh&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Visit the &lt;a href=&quot;https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh&quot;&gt;install_ubuntu.sh&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Create file &lt;code&gt;install_ubuntu.sh&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   vi install_ubuntu.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Copy the shell content of &lt;a href=&quot;https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh&quot;&gt;install_ubuntu.sh&lt;/a&gt; into &lt;code&gt;install_ubuntu.sh&lt;/code&gt;;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Run&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   sudo chmod 755 install_ubuntu.sh
$   sudo ./install_ubuntu.sh

PHABRICATOR UBUNTU INSTALL SCRIPT
This script will install Phabricator and all of its core dependencies.
Run it from the directory you want to install into.

Phabricator will be installed to: /root/code.
Press RETURN to continue, or ^C to cancel.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;二、 Config Apache&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;some commands&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   /etc/init.d/apache2 start
$   /etc/init.d/apache2 restart
$   /etc/init.d/apache2 stop
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.oschina.net/question/191440_125562&quot;&gt;config apache&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/ylan2009/archive/2012/02/25/2368028.html&quot;&gt;ubuntu apache ch_ZN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;add in &lt;code&gt;/etc/apache2/httpd.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;LoadModule rewrite_module libexec/apache2/mod_rewrite.so
LoadModule php5_module libexec/apache2/libphp5.so
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;edit &lt;code&gt;/etc/apache2/apache2.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   vi /etc/apache2/apache2.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;add this :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ServerName 139.196.28.125

&amp;lt;Directory &amp;quot;/root/code/phabricator/webroot&amp;quot;&amp;gt;
    Require all granted
&amp;lt;/Directory&amp;gt;


&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;edit &lt;code&gt;000-default.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   vim /etc/apache2/sites-enabled/000-default.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;change the path of &lt;em&gt;DocumentRoot&lt;/em&gt; to:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/root/code/phabricator/webroot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;add these:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;RewriteEngine on
RewriteRule ^/rsrc/(.*)     -                       [L,QSA]
RewriteRule ^/favicon.ico   -                       [L,QSA]
RewriteRule ^(.*)$          /index.php?__path__=$1  [B,L,QSA]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;restart apache&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$    /etc/init.d/apache2 restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;三、 403&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Forbidden

You don&amp;#39;t have permission to access / on this server.

Apache/2.4.7 (Ubuntu) Server at 139.196.28.125 Port 1234
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I think If you had add this, it&amp;rsquo;s still 403. May be you should change the permission of your project package.&lt;/p&gt;
&lt;p&gt;For easy, I move the &lt;code&gt;phabricator&lt;/code&gt; relative package to &lt;code&gt;var/www/&lt;/code&gt;, Finally, it&amp;rsquo;s worked~~~T_T&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Directory &amp;quot;/root/code/phabricator/webroot&amp;quot;&amp;gt;
    Require all granted
&amp;lt;/Directory&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;四、 Config mysql&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;set config&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/root/code/phabricator/bin/config set mysql.host localhost
/root/code/phabricator/bin/config set mysql.port 3306
/root/code/phabricator/bin/config set mysql.user root
/root/code/phabricator/bin/config set mysql.pass ****
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;update config&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/root/code/phabricator/bin/storage upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#arcanist&quot; name=&quot;arcanist&quot;&gt;&lt;/a&gt;Arcanist&lt;/h1&gt;
&lt;p&gt;The primary use of arc is to send changes for review in &lt;a href=&quot;https://secure.phabricator.com/book/phabricator/article/differential/&quot;&gt;Differential&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://secure.phabricator.com/book/phabricator/article/arcanist_diff/&quot;&gt;arc&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/b1a75a14638c&quot;&gt;code review zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一、 Install in Windows&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;install git&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://git-scm.com/&quot;&gt;git&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;install php&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Download &lt;a href=&quot;http://www.php.net/&quot;&gt;php&lt;/a&gt; zip&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Unzip in package, like: &lt;code&gt;C:\php&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Copy &lt;code&gt;C:\php\php.ini-production&lt;/code&gt;, and renamed to &lt;code&gt;php.ini&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Edit php.ini, remove the &lt;code&gt;;&lt;/code&gt; of following lines&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;; extension_dir = &amp;quot;ext&amp;quot;
;extension=php_mbstring.dll
;extension=php_curl.dll
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;install components&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;install&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   some_install_path/ $ git clone https://github.com/phacility/libphutil.git
$   some_install_path/ $ git clone https://github.com/phacility/arcanist.git
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;config&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;edit &lt;code&gt;~/.bash_profile&lt;/code&gt; file&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;M3_HOME=/usr/local/maven/maven3.3.9
ARC_HOME=/Users/houbinbin/it/code/arcanist

PATH=$ARC_HOME/bin:$M3_HOME/bin:$PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Path：export PATH=&amp;quot;/Users/houbinbin/it/code/arcanist/bin&amp;quot;
Edit：（mac建议用vi）：arc set-config editor &amp;quot;/usr/bin/vi&amp;quot;
Addr：arc set-config default http://www.XXX.com/
Cred：yourproject/ $ arc install-certificate
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;refresh config file:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;source .bash_profile```&quot;&gt;&lt;br/&gt;- test

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ arc help&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;二、 Relative commands

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;arc diff：发送代码差异（review request）到Differental功能&lt;br/&gt;arc list：限时未提交的代码信息&lt;br/&gt;arc branch [branch name]：创建并checkout分支&lt;br/&gt;arc land [branch name]：代码审核通过后，合并主分支&lt;br/&gt;arc tasks：展示当前任务&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;# Issues

0、No Authentication Providers Configured

这个如果不设置，在其他电脑登陆，将失去验证方式。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://XXX.XXX.XX.XXX/auth/&quot;&gt;http://XXX.XXX.XX.XXX/auth/&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;地址替换成自己对应的IP，点击【Add Provider】

可选择最常规的一个:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Provider&lt;br/&gt; Username/Password&lt;br/&gt;Allow users to login or register using a username and password.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;后面默认，保存点击【Add Provider】

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1、Base URI Not Configured&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$    /var/www/phabricator/bin/config set phabricator.base-uri &amp;#39;http://139.196.28.125:1234/&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Phabricator Daemons Are Not Running&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   /var/www/phabricator/bin/phd start

Freeing active task leases...
Freed 0 task lease(s).
Launching daemons:
(Logs will appear in &amp;quot;/var/tmp/phd/log/daemons.log&amp;quot;.)

    PhabricatorRepositoryPullLocalDaemon (Static)
    PhabricatorTriggerDaemon (Static)
    PhabricatorTaskmasterDaemon (Autoscaling: group=task, pool=4, reserve=0)

Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Server Timezone Not Configured&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   vim /etc/php5/apache2/php.ini

date.timezone = Asia/Shanghai
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You need to restart apache2 to make if effect.&lt;/p&gt;
&lt;p&gt;4、Disable PHP always_populate_raw_post_data&lt;/p&gt;
&lt;p&gt;The &amp;ldquo;always_populate_raw_post_data&amp;rdquo; key is set to some value other than &amp;ldquo;-1&amp;rdquo; in your PHP configuration.&lt;br/&gt;This can cause PHP to raise deprecation warnings during process startup. Set this option to &amp;ldquo;-1&amp;rdquo; to prevent these warnings from appearing.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   vi /etc/php5/apache2/php.ini

always_populate_raw_post_data = -1

$   /etc/init.d/apache2 restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5、PHP post_max_size Not Configured&lt;/p&gt;
&lt;p&gt;Adjust &lt;code&gt;post_max_size&lt;/code&gt; in your PHP configuration to at least &lt;em&gt;32MB&lt;/em&gt;. When set to smaller value, large file uploads may not work properly.&lt;/p&gt;
&lt;p&gt;In this file: &lt;code&gt;/etc/php5/apache2/php.ini&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;post_max_size = 32M
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;restart apache to make it work.&lt;/p&gt;
&lt;p&gt;6、Set Mail&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;install send mail&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   apt-get install sendmail
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;mail&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;URL:    http://139.196.28.125:1234/config/group/metamta/


metamta.default-address = 13062666053@qq.com

metamta.domain = anybuy.com     //as you like

metamta.mail-adapter = PhabricatorMailImplementationPHPMailerLiteAdapter

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; true&lt;br/&gt; 25000&lt;br/&gt; &lt;br/&gt; true&lt;br/&gt; true&lt;br/&gt; &lt;br/&gt; &lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;PHPMailer&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;URL:    http://139.196.28.125:1234/config/group/phpmailer/


$   /var/www/phabricator/bin/config set phpmailer.smtp-host smtp.qq.com

$   /var/www/phabricator/bin/config set phpmailer.smtp-port 465

$   /var/www/phabricator/bin/config set phpmailer.smtp-user 13062666053@qq.com

$   /var/www/phabricator/bin/config set phpmailer.smtp-password

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;send fail&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can find the mail send info in&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/var/mail/root
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the error may:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;550 Ip frequency limited. http://service.mail.qq.com/cgi-bin/help?subtype=1&amp;amp;&amp;amp;id=20022&amp;amp;&amp;amp;no=1000725
554 5.0.0 Service unavailable
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://wenku.baidu.com/view/b2fd127b312b3169a451a44a.html&quot;&gt;tips&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果邮件配置的是SSL协议，端口是465，则需要开启相应端口。我开始配置的SSL没有成功，换回25端口，邮件就能发送了。&lt;br/&gt;如果发送没有成功，通过页面上的&lt;code&gt;Daemons&lt;/code&gt;的console日志来查找原因。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/xylander23/article/details/50999646&quot;&gt;send&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;7、Edit Option: &lt;code&gt;phabricator.timezone&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://php.net/manual/zh/timezones.asia.php&quot;&gt;Asia available&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Set the value into &lt;code&gt;Asia/Shanghai&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://127.0.0.1:1234/config/edit/phabricator.timezone/?issue=config.timezone
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;8、Base URI Not Configured&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:phabricator houbinbin$ bin/config set phabricator.base-uri &amp;#39;http://127.0.0.1:1234/&amp;#39;
Set &amp;#39;phabricator.base-uri&amp;#39; in local configuration.
houbinbindeMacBook-Pro:phabricator houbinbin$ pwd
/Users/houbinbin/IT/anybuy/phabricator/phabricator
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;9、Disable PHP &lt;code&gt;always_populate_raw_post_data&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;10、Small MySQL &amp;ldquo;max_allowed_packet&amp;rdquo;&lt;/p&gt;
&lt;p&gt;(1) In Mac&lt;/p&gt;
&lt;p&gt;Default, MAC has no &lt;code&gt;my.cnf&lt;/code&gt;, copy and move it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:support-files houbinbin$ pwd
/usr/local/mysql/support-files
houbinbindeMacBook-Pro:support-files houbinbin$ ls
binary-configure	magic			my-default.cnf		mysql-log-rotate	mysql.server		mysqld_multi.server
houbinbindeMacBook-Pro:support-files houbinbin$ sudo cp my-default.cnf my.cnf
houbinbindeMacBook-Pro:support-files houbinbin$ sudo mv my.cnf /etc/my.cnf
houbinbindeMacBook-Pro:etc houbinbin$ pwd
/etc
houbinbindeMacBook-Pro:etc houbinbin$ vi my.cnf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to change the &lt;code&gt;max_allowed_packet&lt;/code&gt; value:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;max_allowed_packet=41943040
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then, restart your mysql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo /usr/local/mysql/support-files/mysql.server restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(2) In Ubuntu 14.04&lt;/p&gt;
&lt;p&gt;The recommended minimum value for this setting is &amp;ldquo;33554432&amp;rdquo;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/mysql/my.cnf 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;edit the content&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;max_allowed_packet = 32M
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;restart mysql&lt;/p&gt;
&lt;p&gt;11、Missing Repository Local Path&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo mkdir -p &amp;#39;/var/repo/&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;12、Install Pygments to Improve Syntax Highlighting&lt;/p&gt;
&lt;p&gt;Click 【Edit &amp;ldquo;pygments.enabled&amp;rdquo;】, then select &lt;strong&gt;Use Pygments&lt;/strong&gt;, finally click 【Save Config Entry】&lt;/p&gt;
&lt;p&gt;13、MySQL STRICT_ALL_TABLES Mode Not Set&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/mysql/my.cnf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;add this under the &lt;code&gt;[mysqld]&lt;/code&gt; &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# add sql mode
sql_mode=STRICT_ALL_TABLES
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then restart mysql make it effect.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/etc/init.d/mysql restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;14、No Sendmail Binary Found&lt;/p&gt;
&lt;p&gt;Click 【Edit &amp;ldquo;metamta.mail-adapter&amp;rdquo;】 &lt;/p&gt;
&lt;p&gt;Select: &amp;ldquo;PhabricatorMailImplementationPHPMailerAdapter&amp;rdquo;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#ubuntu-install-warn&quot; name=&quot;ubuntu-install-warn&quot;&gt;&lt;/a&gt;Ubuntu install warn&lt;/h2&gt;
&lt;p&gt;运行时警告信息如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Package php5-cli is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
However the following packages replace it:
  php7.0-cli:i386 php7.0-cli
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;原因:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;这个问题的原因是ubuntu的/etc/apt/source.list中的源比较旧了，需要更新一下，更新方法：

$ sudo apt-get -y update
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可能系统需要安装 &lt;code&gt;apache2&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;php&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo apt install php7.0-cli
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#mail-config&quot; name=&quot;mail-config&quot;&gt;&lt;/a&gt;Mail Config&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/a0592a2f2afb&quot;&gt;jianshu&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://wenku.baidu.com/view/b2fd127b312b3169a451a44a.html&quot;&gt;install&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_6311af050102wteg.html&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;www.cnblogs.com/zhangqingsh/archive/2013/04/15/3021300.html&quot;&gt;config zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;管理员账号浏览器后端添加&lt;code&gt;/config/&lt;/code&gt;进入配置界面。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Mail&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;/config/group/metamta/``` to config mail&quot;&gt;&lt;br/&gt;- metamta.default-address

设置一个默认邮箱即可。  如: ```13062666053@sina.cn```,应保持与**phpmailer**中设置一致。

- metamta.domain

这个无所谓,使用默认配置即可。


- metamta.mail-adapter

使用SMTP邮箱,请设置邮件适配器```PhabricatorMailImplementationPHPMailerAdapter```



&amp;gt; phpmailer

in the URL of: ```/config/group/phpmailer/```, you can use command to config:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bin/config set phpmailer.smtp-host smtp.sina.cn&lt;br/&gt;bin/config set phpmailer.smtp-port 25&lt;br/&gt;bin/config set phpmailer.smtp-protocol TLS&lt;br/&gt;bin/config set phpmailer.smtp-user &lt;a href=&quot;mailto:&amp;#49;3&amp;#48;6&amp;#x32;&amp;#54;&amp;#x36;&amp;#x36;&amp;#48;&amp;#53;3&amp;#x40;&amp;#x73;i&amp;#110;&amp;#x61;&amp;#x2e;&amp;#99;&amp;#110;&quot;&gt;&amp;#49;3&amp;#48;6&amp;#x32;&amp;#54;&amp;#x36;&amp;#x36;&amp;#48;&amp;#53;3&amp;#x40;&amp;#x73;i&amp;#110;&amp;#x61;&amp;#x2e;&amp;#99;&amp;#110;&lt;/a&gt;&lt;br/&gt;bin/config set phpmailer.smtp-password XXXX&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;```smtp-port``` 默认可以使用**25**, 如果配置SSL,则需要使用**465**。


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cat conf/local/local.json&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;可以查看本地设置数据。


测试是否发送:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bin/mail list-outbound&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;```
apt-get install sendmail
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一切配好之后，重启 守护线程&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bin/phd restart
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#ssh&quot; name=&quot;ssh&quot;&gt;&lt;/a&gt;SSH&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://secure.phabricator.com/book/phabricator/article/diffusion_hosting/&quot;&gt;repository&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果代码仓库想使用git管理项目。需要配置SSH。&lt;/p&gt;
&lt;p&gt;Phabricator需要三个用户账号（三种用户身份）：两个用于基本运行，一个用于配置SSH访问。&lt;br/&gt;三个账号分别是：&lt;br/&gt;www-user：Phabricator Web服务器运行身份。&lt;br/&gt;daemon-user：daemons （守护进程）运行身份。这个账号是唯一直接与代码仓库交互的账号，其它账号需要切换到这个账号身份（sudo）才能操作代码仓库。&lt;br/&gt;vcs-user：我们需要以这个账号SSH连接Phabricator。&lt;/p&gt;
&lt;p&gt;如果你的服务器系统中现在没有这三个账号，需要创建：&lt;br/&gt;www-user：大部分情况下，这个账号已经存在了，我们不需要理这个账号。&lt;br/&gt;daemon-user ：一般情况下，我们直接使用 root 账号，因为会需要很多权限（当然这可能不安全）。&lt;br/&gt;vcs-user：可以使用系统中现有的一个用户账号，直接创建一个就叫 vcsuser。当用户克隆仓库的时候，需要使用类似 &lt;a href=&quot;mailto:&amp;#118;&amp;#99;&amp;#115;&amp;#x75;&amp;#x73;&amp;#101;&amp;#114;&amp;#64;&amp;#112;&amp;#x68;&amp;#97;&amp;#46;&amp;#101;&amp;#x78;&amp;#97;&amp;#109;&amp;#x70;&amp;#108;&amp;#x65;&amp;#x2e;&amp;#x63;&amp;#x6f;&amp;#109;&quot;&gt;&amp;#118;&amp;#99;&amp;#115;&amp;#x75;&amp;#x73;&amp;#101;&amp;#114;&amp;#64;&amp;#112;&amp;#x68;&amp;#97;&amp;#46;&amp;#101;&amp;#x78;&amp;#97;&amp;#109;&amp;#x70;&amp;#108;&amp;#x65;&amp;#x2e;&amp;#x63;&amp;#x6f;&amp;#109;&lt;/a&gt; 的URI。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;验证账户是否存在:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;cat /etc/passwd | grep www-user
cat /etc/passwd | grep daemon-user
cat /etc/passwd | grep vcs-user
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查询用户组: &lt;code&gt;cat /etc/group&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;很不幸。几个账户都不存在。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/lincyang/article/details/20922749&quot;&gt;创建用户&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;useradd www-user -m -s /bin/bash
useradd vcs-user -m -s /bin/bash
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;set password for create user:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo passwd www-user
sudo passwd vcs-user
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一、Configuring Phabricator&lt;/p&gt;
&lt;p&gt;以下所有操作,都换成**root**模式。&lt;/p&gt;
&lt;p&gt;First, set &lt;code&gt;phd.user&lt;/code&gt; to the &lt;code&gt;daemon-user&lt;/code&gt;(root):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$pwd
/var/www/phabricator

$ sudo bin/config set phd.user root

Set &amp;#39;phd.user&amp;#39; in local configuration.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Restart the daemons to make sure this configuration works properly.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   bin/phd restart

There are no running Phabricator daemons.
Freeing active task leases...
Freed 0 task lease(s).
Launching daemons:
(Logs will appear in &amp;quot;/var/tmp/phd/log/daemons.log&amp;quot;.)

    PhabricatorRepositoryPullLocalDaemon (Static)
    PhabricatorTriggerDaemon (Static)
    PhabricatorTaskmasterDaemon (Autoscaling: group=task, pool=4, reserve=0)

Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you&amp;rsquo;re using a &lt;code&gt;vcs-user&lt;/code&gt; for SSH, you should also configure that:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo bin/config set diffusion.ssh-user vcs-user
Set &amp;#39;diffusion.ssh-user&amp;#39; in local configuration
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, you&amp;rsquo;ll set up sudo permissions so these users can interact with one another.&lt;/p&gt;
&lt;p&gt;二、Configuring Sudo&lt;/p&gt;
&lt;p&gt;默认情况下。添加的用户是没有&lt;code&gt;sudo&lt;/code&gt;权限的。&lt;/p&gt;
&lt;p&gt;www-user 和 vcs-user 需要能够使用 &lt;strong&gt;sudo&lt;/strong&gt; 切换到 daemon-user 用户身份才能与仓库交互，所以我们需要配置更改系统的 sudo 配置。&lt;br/&gt;直接编辑 &lt;code&gt;/etc/sudoers&lt;/code&gt; 或者在 &lt;code&gt;/etc/sudoers.d&lt;/code&gt; 下创建一个新文件，然后把这些内容写到文件内容中&lt;/p&gt;
&lt;p&gt;此处直接 &lt;code&gt;vi /etc/sudoers&lt;/code&gt;, 添加内容如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# add sudo for www-user and vcs-user
www-user ALL=(root) SETENV: NOPASSWD: /usr/lib/git-core/git, /usr/bin/git, /var/lib/git, /usr/lib/git-core/git-http-backend, /usr/bin/ssh, /etc/ssh, /etc/default/ssh, /etc/init.d/ssh
vcs-user ALL=(root) SETENV: NOPASSWD: /bin/sh, /usr/bin/git-upload-pack, /usr/bin/git-receive-pack
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果文件中有&lt;code&gt;Defaults requiretty&lt;/code&gt;, 注释掉。&lt;/p&gt;
&lt;p&gt;三、其它SSH配置&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;/etc/shadow&lt;/code&gt; 中找到**vcs-user**的哪一行。修改第二列(密码列)为空,或者**NP**。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;/etc/passwd&lt;/code&gt; 中找到**vcs-user**的哪一行。修改&lt;code&gt;/bin/false&lt;/code&gt;为&lt;code&gt;/bin/sh&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;四、配置SSHD端口&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/CGDeveloper/archive/2011/07/27/2118533.html&quot;&gt;ssh&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;ssh version&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ ssh -V
OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.8, OpenSSL 1.0.1f 6 Jan 2014
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Phabricator运行的服务器系统中 sshd 的版本 必须高于 &lt;strong&gt;6.2&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;port&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;默认为**22**&lt;/p&gt;
&lt;p&gt;1) create &lt;code&gt;phabricator-ssh-hook.sh&lt;/code&gt; in &lt;strong&gt;/usr/libexec/phabricator-ssh-hook.sh&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我选择放在 &lt;strong&gt;/etc/ssh/shell&lt;/strong&gt; 中&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# NOTE: Replace this with the username that you expect users to connect with.
VCSUSER=&amp;quot;vcs-user&amp;quot;

# NOTE: Replace this with the path to your Phabricator directory.
ROOT=&amp;quot;/var/www/phabricator&amp;quot;

if [ &amp;quot;$1&amp;quot; != &amp;quot;$VCSUSER&amp;quot; ];
then
  exit 1
fi

exec &amp;quot;$ROOT/bin/ssh-auth&amp;quot; $@
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;创建完脚本后，需要把脚本和它的父文件夹所有者改为 &lt;strong&gt;root&lt;/strong&gt;，并且赋予脚本 &lt;strong&gt;755&lt;/strong&gt; 权限&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo chown root /etc/ssh/shell
sudo chown root /etc/ssh/shell/phabricator-ssh-hook.sh
sudo chmod 755 /etc/ssh/shell/phabricator-ssh-hook.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2) Create &lt;code&gt;sshd_config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在 &lt;strong&gt;/etc/ssh&lt;/strong&gt; 中创建文件名类似 &lt;code&gt;sshd_config.phabricator&lt;/code&gt; 的文件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ pwd
/etc/ssh
$ sudo vi sshd_config.phabricator
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;文件内容如下, 此处配置端口号为 &lt;code&gt;2222&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If you plan to connect to a port other than 22, you should set this port as diffusion.ssh-port in your Phabricator config:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bin/config set diffusion.ssh-port 2222
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;# NOTE: You must have OpenSSHD 6.2 or newer; support for AuthorizedKeysCommand
# was added in this version.

# NOTE: Edit these to the correct values for your setup.

AuthorizedKeysCommand /etc/ssh/shell/phabricator-ssh-hook.sh
AuthorizedKeysCommandUser vcs-user
AllowUsers vcs-user

# You may need to tweak these options, but mostly they just turn off everything
# dangerous.

Port 2222
Protocol 2
PermitRootLogin no
AllowAgentForwarding no
AllowTcpForwarding no
PrintMotd no
PrintLastLog no
PasswordAuthentication no
AuthorizedKeysFile none

PidFile /var/run/sshd-phabricator.pid
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3) 启动 ssh 服务&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo /usr/sbin/sshd -f /etc/ssh/sshd_config.phabricator
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用 &lt;code&gt;sudo netstat -atlunp | grep ssh&lt;/code&gt; 可查看端口运行情况。&lt;/p&gt;
&lt;p&gt;4) 上传公钥&lt;/p&gt;
&lt;p&gt;点击你的头像 &amp;mdash;&amp;gt; 左侧菜单面板 Manage &amp;mdash;&amp;gt; 右侧菜单面板 Edit Settings &amp;mdash;&amp;gt; 左侧菜单面板 SSH Public Keys &amp;mdash;&amp;gt; 右上角 SSH Key Actions &amp;mdash;&amp;gt; Upload Public Key&lt;/p&gt;
&lt;p&gt;上传后,执行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo {} | ssh vcs-user@127.0.0.1 conduit conduit.ping
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5) 创建项目&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;http://139.196.28.125/diffusion/``` 下创建项目:&quot;&gt;&lt;br/&gt;- callsign 必须大写

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This newly created repository is not active yet. Configure policies, options, and URIs. When ready, Activate the repository.&lt;br/&gt;If activated now, this repository will become a new hosted repository. To observe an existing repository instead, configure it in the URIs panel.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;6) clone

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;git clone &lt;a href=&quot;ssh://vcs-user@139.196.28.125:2222/source/rd.git&quot;&gt;ssh://vcs-user@139.196.28.125:2222/source/rd.git&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;发现需要使用的是端口转发,但是要登录的还是```139.196.28.125```服务器。所以需要为其创建```vcs-user```。后来发现这是个问题。可能是因为转发问题,导致不存在。以后研究。

此处需要开启端口号2222。并启动转发。


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;useradd vcs-user -m -s /bin/bash&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# 持续集成

&amp;gt; [Git + Jenkins + Pha](http://www.mutouxiaogui.cn/blog/?p=386)


- 创建用户

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://139.196.28.125/people/create/&quot;&gt;http://139.196.28.125/people/create/&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;选择 **Create Bot User**-》填入用户信息-》**Create User**。

- 编辑用户信息

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://139.196.28.125/p/jenkins/&quot;&gt;http://139.196.28.125/p/jenkins/&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;点击左侧【Manage】-》右侧【Edit Settings】-》左侧【Conduit API Tokens】-》右侧【Generate API Token】-》【Generate Token】

复制其中的 token。



- 添加**token**到Jenkins

1) 安装 phabricator 插件 ```Phabricator Differential Plugin```

2) copy token

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://139.196.28.125:8080/configure&quot;&gt;http://139.196.28.125:8080/configure&lt;/a&gt;&lt;br/&gt;```&lt;/p&gt;
&lt;p&gt;找到**Phabricator** -》**Credentials**, 添加信息如下:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/phabricator/2017-01-15-phabricator-jenkins.png&quot; alt=&quot;phabricator-jenkins&quot; /&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ubuntu</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-24-Ubuntu.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#ubuntu&quot; name=&quot;ubuntu&quot;&gt;&lt;/a&gt;Ubuntu&lt;/h1&gt;
&lt;p&gt;Ubuntu is an open source software platform that runs everywhere from the smartphone, the tablet and the PC to the server and the cloud.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.ubuntu.com/&quot;&gt;ubuntu&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; Title: Desktop Ubuntu&lt;br/&gt; desktop-&amp;gt;command: Ctrl+Alt+F2~F6&lt;br/&gt; command-&amp;gt;desktop: Ctrl+Alt+F7&lt;br/&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#login&quot; name=&quot;login&quot;&gt;&lt;/a&gt;Login&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Change to root user&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ sudu su
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Login to aliyun&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ ssh root@139.196.28.125
The authenticity of host &amp;#39;139.196.28.125 (139.196.28.125)&amp;#39; can&amp;#39;t be established.
ECDSA key fingerprint is SHA256:TuvleHE4/wRMGxcPesBBf2+cNqQZWYGgidKLcrNme0c.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &amp;#39;139.196.28.125&amp;#39; (ECDSA) to the list of known hosts.
root@139.196.28.125&amp;#39;s password:
Welcome to Ubuntu 14.04.4 LTS (GNU/Linux 3.13.0-86-generic x86_64)

 * Documentation:  https://help.ubuntu.com/
New release &amp;#39;16.04.1 LTS&amp;#39; available.
Run &amp;#39;do-release-upgrade&amp;#39; to upgrade to it.


Welcome to aliyun Elastic Compute Service!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这个阿里云的Ubuntu是&lt;code&gt;14.04.4&lt;/code&gt;, 而如果是真正的Ubuntu 系统,可能会&lt;code&gt;16.04.4&lt;/code&gt; 及其以后 ,内置php为7.0。可能会导致很不顺利。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Install php5 in Ubuntu&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/45999546&quot;&gt;zhihu&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:ondrej/php
sudo apt update
sudo apt install php5.6 libapache2-mod-php5.6 php5.6-curl php5.6-gd php5.6-mbstring php5.6-mcrypt php5.6-mysql php5.6-xml php5.6-xmlrpc
sudo a2dismod php7.0.8
sudo a2enmod php5.6
sudo systemctl restart apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#install-components&quot; name=&quot;install-components&quot;&gt;&lt;/a&gt;install components&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;git&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~# apt-get install git

Reading package lists... Done
Building dependency tree
Reading state information... Done
The following package was automatically installed and is no longer required:
  linux-image-extra-3.13.0-32-generic
Use &amp;#39;apt-get autoremove&amp;#39; to remove it.
The following extra packages will be installed:
  git-man liberror-perl
Suggested packages:
  git-daemon-run git-daemon-sysvinit git-doc git-el git-email git-gui gitk
  gitweb git-arch git-bzr git-cvs git-mediawiki git-svn
The following NEW packages will be installed:
  git git-man liberror-perl
0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
Need to get 3,306 kB of archives.
After this operation, 21.9 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://mirrors.aliyun.com/ubuntu/ trusty/main liberror-perl all 0.17-1.1 [21.1 kB]
Get:2 http://mirrors.aliyun.com/ubuntu/ trusty-security/main git-man all 1:1.9.1-1ubuntu0.3 [699 kB]
Get:3 http://mirrors.aliyun.com/ubuntu/ trusty-security/main git amd64 1:1.9.1-1ubuntu0.3 [2,586 kB]
Fetched 3,306 kB in 2s (1,227 kB/s)
Selecting previously unselected package liberror-perl.
(Reading database ... 121809 files and directories currently installed.)
Preparing to unpack .../liberror-perl_0.17-1.1_all.deb ...
Unpacking liberror-perl (0.17-1.1) ...
Selecting previously unselected package git-man.
Preparing to unpack .../git-man_1%3a1.9.1-1ubuntu0.3_all.deb ...
Unpacking git-man (1:1.9.1-1ubuntu0.3) ...
Selecting previously unselected package git.
Preparing to unpack .../git_1%3a1.9.1-1ubuntu0.3_amd64.deb ...
Unpacking git (1:1.9.1-1ubuntu0.3) ...
Processing triggers for man-db (2.6.7.1-1ubuntu1) ...
Setting up liberror-perl (0.17-1.1) ...
Setting up git-man (1:1.9.1-1ubuntu0.3) ...
Setting up git (1:1.9.1-1ubuntu0.3) ...
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~# git --version
git version 1.9.1
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/savagemorgan/p/3650926.html&quot;&gt;jdk&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/skykingf/article/details/45250017&quot;&gt;command&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;download jdk1.8&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~/tools# wget http://download.oracle.com/otn-pub/java/jdk/8u101-b13/jdk-8u101-linux-x64.tar.gz

--2016-09-24 13:18:09--  http://download.oracle.com/otn-pub/java/jdk/8u101-b13/jdk-8u101-linux-x64.tar.gz
Resolving download.oracle.com (download.oracle.com)... 206.160.170.51, 206.160.170.9
Connecting to download.oracle.com (download.oracle.com)|206.160.170.51|:80... connected.
HTTP request sent, awaiting response... 302 Moved Temporarily
Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u101-b13/jdk-8u101-linux-x64.tar.gz [following]
--2016-09-24 13:18:10--  https://edelivery.oracle.com/otn-pub/java/jdk/8u101-b13/jdk-8u101-linux-x64.tar.gz
Resolving edelivery.oracle.com (edelivery.oracle.com)... 23.9.199.85
Connecting to edelivery.oracle.com (edelivery.oracle.com)|23.9.199.85|:443... connected.
HTTP request sent, awaiting response... 302 Moved Temporarily
Location: http://download.oracle.com/errors/download-fail-1505220.html [following]
--2016-09-24 13:18:11--  http://download.oracle.com/errors/download-fail-1505220.html
Connecting to download.oracle.com (download.oracle.com)|206.160.170.51|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 5307 (5.2K) [text/html]
Saving to: ‘jdk-8u101-linux-x64.tar.gz’

100%[===============================================================================================================================================================&amp;gt;] 5,307       --.-K/s   in 0s

2016-09-24 13:18:12 (712 MB/s) - ‘jdk-8u101-linux-x64.tar.gz’ saved [5307/5307]

root@iZuf60ahcky4k4nfv470juZ:~/tools# ls
jdk  jdk-8u101-linux-x64.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;unzip&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;jdk-8u101-linux-x64.tar.gz: HTML document, ASCII text, with very long lines, with CRLF line terminators
root@iZuf60ahcky4k4nfv470juZ:~/tools/jdk# tar -zxvf jdk-8u101-linux-x64.tar.gz

gzip: stdin: not in gzip format
tar: Child returned status 1
tar: Error is not recoverable: exiting now
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the mean of optional:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bz2 format  j
gz format    z
c   create
x   unzip
v   detail info
f   file
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/yajing-zh/p/4952940.html&quot;&gt;why&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~/tools/jdk# file jdk-8u101-linux-x64.tar.gz
jdk-8u101-linux-x64.tar.gz: HTML document, ASCII text, with very long lines, with CRLF line terminators
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Well, we download the jdk into local, and then upload it to the Ubuntu server.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   scp jdk-8u102-linux-x64.tar.gz root@139.196.28.125:/root/tools/jdk
$   tar -zxvf jdk-8u101-linux-x64.tar.gz

root@iZuf60ahcky4k4nfv470juZ:~/tools/jdk# ls
jdk1.8.0_102  jdk-8u102-linux-x64.tar.gz
root@iZuf60ahcky4k4nfv470juZ:~/tools/jdk# mv jdk1.8.0_102 jdk1.8
root@iZuf60ahcky4k4nfv470juZ:~/tools/jdk# ls
jdk1.8  jdk-8u102-linux-x64.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;config jdk env path&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、edit &lt;code&gt;.bashrc&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   vi ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can copy the file if necessary &lt;code&gt;cp .bashrc .bash_original&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、add these at the end of file&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export JAVA_HOME=/root/tools/jdk/jdk1.8
export CLASSPATH=${JAVA_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、make it work at once&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、test jdk&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   java -version

java version &amp;quot;1.8.0_102&amp;quot;
Java(TM) SE Runtime Environment (build 1.8.0_102-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/0616--ataozhijia/p/3673964.html&quot;&gt;maven&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before this, you need install the &lt;code&gt;jdk&lt;/code&gt; first.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;download&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   wget http://apache.fayea.com/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz

--2016-09-24 14:55:08--  http://apache.fayea.com/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
Resolving apache.fayea.com (apache.fayea.com)... 119.6.242.164, 119.6.242.165
Connecting to apache.fayea.com (apache.fayea.com)|119.6.242.164|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 8491533 (8.1M) [application/x-gzip]
Saving to: ‘apache-maven-3.3.9-bin.tar.gz’

100%[===============================================================================================================================================================&amp;gt;] 8,491,533   5.54MB/s   in 1.5s

2016-09-24 14:55:10 (5.54 MB/s) - ‘apache-maven-3.3.9-bin.tar.gz’ saved [8491533/8491533]

root@iZuf60ahcky4k4nfv470juZ:~/tools/maven# ls
apache-maven-3.3.9-bin.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;unzip&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   tar -zxvf apache-maven-3.3.9-bin.tar.gz

root@iZuf60ahcky4k4nfv470juZ:~/tools/maven# ls
apache-maven-3.3.9  apache-maven-3.3.9-bin.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;config maven&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、edit &lt;code&gt;.bashrc&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   vi ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、append these lines at the file end&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# set maven environment
export M2_HOME=/root/tools/maven/apache-maven-3.3.9
export PATH=$M2_HOME/bin:$PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、work at once&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、 test maven&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mvn --version

Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)
Maven home: /root/tools/maven/apache-maven-3.3.9
Java version: 1.8.0_102, vendor: Oracle Corporation
Java home: /root/tools/jdk/jdk1.8/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &amp;quot;linux&amp;quot;, version: &amp;quot;3.13.0-86-generic&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;unix&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/fighter_yy/article/details/40753889&quot;&gt;mysql&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/wuhou/archive/2008/09/28/1301071.html&quot;&gt;install mysql&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;install mysql-server&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   apt-get install mysql-server
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following package was automatically installed and is no longer required:
  linux-image-extra-3.13.0-32-generic
Use &amp;#39;apt-get autoremove&amp;#39; to remove it.
The following extra packages will be installed:
  libdbd-mysql-perl libdbi-perl libhtml-template-perl libmysqlclient18
  mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server-5.5
  mysql-server-core-5.5
Suggested packages:
  libclone-perl libmldbm-perl libnet-daemon-perl libplrpc-perl
  libsql-statement-perl libipc-sharedcache-perl tinyca mailx
The following NEW packages will be installed:
  libdbd-mysql-perl libdbi-perl libhtml-template-perl libmysqlclient18
  mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server
  mysql-server-5.5 mysql-server-core-5.5
0 upgraded, 10 newly installed, 0 to remove and 0 not upgraded.
Need to get 7,927 kB/8,971 kB of archives.
After this operation, 96.9 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-common all 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main libmysqlclient18 amd64 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-client-core-5.5 amd64 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-client-5.5 amd64 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-server-core-5.5 amd64 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-server-5.5 amd64 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
Err http://mirrors.aliyun.com/ubuntu/ trusty-updates/main mysql-server all 5.5.49-0ubuntu0.14.04.1
  404  Not Found [IP: 112.124.140.210 80]
E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-common_5.5.49-0ubuntu0.14.04.1_all.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/libmysqlclient18_5.5.49-0ubuntu0.14.04.1_amd64.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-client-core-5.5_5.5.49-0ubuntu0.14.04.1_amd64.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-client-5.5_5.5.49-0ubuntu0.14.04.1_amd64.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-server-core-5.5_5.5.49-0ubuntu0.14.04.1_amd64.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-server-5.5_5.5.49-0ubuntu0.14.04.1_amd64.deb  404  Not Found [IP: 112.124.140.210 80]

E: Failed to fetch http://mirrors.aliyun.com/ubuntu/pool/main/m/mysql-5.5/mysql-server_5.5.49-0ubuntu0.14.04.1_all.deb  404  Not Found [IP: 112.124.140.210 80]

E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;update&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   apt-get update

...

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;re-install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$  apt-get install mysql-server

...
Do you want to continue? [Y/n] Y
Get:1 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-common all 5.5.52-0ubuntu0.14.04.1 [12.9 kB]
Get:2 http://mirrors.aliyun.com/ubuntu/ trusty-security/main libmysqlclient18 amd64 5.5.52-0ubuntu0.14.04.1 [596 kB]
Get:3 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-client-core-5.5 amd64 5.5.52-0ubuntu0.14.04.1 [705 kB]
Get:4 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-client-5.5 amd64 5.5.52-0ubuntu0.14.04.1 [1,468 kB]
Get:5 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-server-core-5.5 amd64 5.5.52-0ubuntu0.14.04.1 [3,282 kB]
Get:6 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-server-5.5 amd64 5.5.52-0ubuntu0.14.04.1 [1,845 kB]
Get:7 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-server all 5.5.52-0ubuntu0.14.04.1 [11.3 kB]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;install mysql-client&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   apt-get install mysql-client

Reading package lists... Done
Building dependency tree
Reading state information... Done
The following package was automatically installed and is no longer required:
  linux-image-extra-3.13.0-32-generic
Use &amp;#39;apt-get autoremove&amp;#39; to remove it.
The following NEW packages will be installed:
  mysql-client
0 upgraded, 1 newly installed, 0 to remove and 89 not upgraded.
Need to get 11.1 kB of archives.
After this operation, 130 kB of additional disk space will be used.
Get:1 http://mirrors.aliyun.com/ubuntu/ trusty-security/main mysql-client all 5.5.52-0ubuntu0.14.04.1 [11.1 kB]
Fetched 11.1 kB in 0s (970 kB/s)
Selecting previously unselected package mysql-client.
(Reading database ... 123003 files and directories currently installed.)
Preparing to unpack .../mysql-client_5.5.52-0ubuntu0.14.04.1_all.deb ...
Unpacking mysql-client (5.5.52-0ubuntu0.14.04.1) ...
Setting up mysql-client (5.5.52-0ubuntu0.14.04.1) ...
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;install libmysqlclient-dev&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   apt-get install libmysqlclient-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test mysql&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   netstat -tap | grep mysql

tcp        0      0 localhost:mysql         *:*                     LISTEN      7506/mysqld
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;login mysql&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   mysql -u root -p

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 42
Server version: 5.5.52-0ubuntu0.14.04.1 (Ubuntu)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &amp;#39;help;&amp;#39; or &amp;#39;\h&amp;#39; for help. Type &amp;#39;\c&amp;#39; to clear the current input statement.


$   show databases;

+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;attention&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Table name in ubuntu is case sensitive, so. If you want it works like in windows. Just:&lt;/p&gt;
&lt;p&gt;add the content under &lt;code&gt;[mysqld]&lt;/code&gt;, and restart it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vi /etc/mysql/my.cnf

lower_case_table_names = 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then use &lt;code&gt;show variables like &amp;#39;lower_%&amp;#39;&lt;/code&gt; test it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;+------------------------+-------+
| Variable_name          | Value |
+------------------------+-------+
| lower_case_file_system | OFF   |
| lower_case_table_names | 1     |
+------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1、Start MySQL&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;service mysql start``` or ```/etc/inint.d/mysql start```&quot;&gt;&lt;br/&gt;2、Stop MySQL

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Restart MySQL&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;service mysql restart``` or ```/etc/inint.d/mysql restart```&quot;&gt;&lt;br/&gt;&lt;br/&gt;- Uninstall mysql

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;service mysql stop&lt;br/&gt;sudo apt-get autoremove &amp;ndash;purge mysql-server-5.0&lt;br/&gt;sudo apt-get remove mysql-server&lt;br/&gt;sudo apt-get autoremove mysql-server&lt;br/&gt;sudo apt-get remove mysql-common&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; [tomcat](http://tomcat.apache.org/)

- download

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ wget &lt;a href=&quot;http://mirrors.cnnic.cn/apache/tomcat/tomcat-9/v9.0.0.M10/bin/apache-tomcat-9.0.0.M10.tar.gz&quot;&gt;http://mirrors.cnnic.cn/apache/tomcat/tomcat-9/v9.0.0.M10/bin/apache-tomcat-9.0.0.M10.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- unzip

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ ls&lt;br/&gt;apache-tomcat-9.0.0.M10.tar.gz&lt;/p&gt;
&lt;p&gt;$ tar -zxvf apache-tomcat-9.0.0.M10.tar.gz&lt;br/&gt;$ ls&lt;br/&gt;apache-tomcat-9.0.0.M10 apache-tomcat-9.0.0.M10.tar.gz&lt;/p&gt;
&lt;p&gt;$ mv apache-tomcat-9.0.0.M10 apache-tomcat9&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- set utf8

add ```URIEncoding=&amp;quot;UTF-8&amp;quot;``` in ```conf/server.xml``` at:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;# Visit Web

&amp;gt; W3m

- install

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sudo apt-get install w3m w3m-img -y&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- zh_CN

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sudo apt-get install zhcon -y&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Useful command

- restart

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ reboot&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- get all run threads

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ ps -ef&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- get version

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ apt-get install mysql-server-&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;use double ```tab``` to get the version list.

# 方向键错乱

ubuntu下 vi输入方向键会变成ABCD，这是ubuntu预装的是vim tiny版本，安装vim full版本即可解决。

先卸载vim-tiny：

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo apt-get remove vim-common&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;再安装vim full：

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo apt-get install vim&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# 22 port

Ubuntu 默认22端口是没有开启的。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ssh: connect to host 192.168.1.105 port 22: Connection refused&lt;br/&gt;lost connection&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- check

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ps -e|grep ssh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;啥都没

- install

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo apt-get install openssh-server&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# 纯命令行启动

此方法应该只适用于14-*.

&amp;gt; [blog zh_CN](http://m.blog.csdn.net/article/details?id=50707283)


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo vi /etc/default/grub&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;修改如下:

1. 注释 GRUB_CMDLINE_LINUX_DEFAULT
2. GRUB_CMDLINE_LINUX=&amp;quot;&amp;quot; 改成 GRUB_CMDLINE_LINUX=&amp;quot;text&amp;quot;
3. GRUB_TERMINAL=console 注释去除

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#GRUB_CMDLINE_LINUX_DEFAULT=&amp;ldquo;quiet splash&amp;rdquo;&lt;br/&gt;GRUB_CMDLINE_LINUX=&amp;ldquo;text&amp;rdquo;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#uncomment-to-disable-graphical-terminal-grub-pc-only-&quot; name=&quot;uncomment-to-disable-graphical-terminal-grub-pc-only-&quot;&gt;&lt;/a&gt;Uncomment to disable graphical terminal (grub-pc only)&lt;/h1&gt;
&lt;p&gt;GRUB_TERMINAL=console&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;重新生成配置文件

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo update-grub&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# 保持电源关机后仍然运行

修改 Login Manager的配置文件。 打开终端：

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo vi /etc/systemd/logind.conf&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;然后将其中的：

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#HandleLidSwitch=suspend 改成： HandleLidSwitch=ignore&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;然后重启服务：
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ sudo restart systemd-logind&lt;br/&gt;```&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dubbo</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-25-dubbo.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#dubbo&quot; name=&quot;dubbo&quot;&gt;&lt;/a&gt;Dubbo&lt;/h1&gt;
&lt;p&gt;Dubbo is a distributed, high performance RPC framework which empowers applications with service import/export capabilities.&lt;/p&gt;
&lt;p&gt;It contains three key parts, which include:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Remoting: a network communication framework providing sync-over-async and request-response messaging.&lt;/li&gt;
  &lt;li&gt;Clustering: a remote procedure call abstraction with load-balancing/failover/clustering capabilities.&lt;/li&gt;
  &lt;li&gt;Registration: a service directory framework for service registration and service event publish/subscription&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://dubbo.io/&quot;&gt;dubbo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#dubbo-admin&quot; name=&quot;dubbo-admin&quot;&gt;&lt;/a&gt;Dubbo admin&lt;/h1&gt;
&lt;p&gt;You can download the code from &lt;code&gt;https://github.com/alibaba/dubbo&lt;/code&gt;, and package the &lt;code&gt;dubbo-admin&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:dubbo-admin houbinbin$ pwd
/Users/houbinbin/it/code/dubbo/dubbo-admin
houbinbindeMacBook-Pro:dubbo-admin houbinbin$ mvn package -Dmaven.skip.test=true
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;{{site.url}}/static/download/zookeeper/ROOT.war&quot;&gt;dubbo-admin.war&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Download &lt;code&gt;dubbo-admin-2.5.4-SNAPSHOT.war&lt;/code&gt; into tomcat/webapps, and rename to &lt;code&gt;ROOT.war&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://my.oschina.net/ihanfeng/blog/525274&quot;&gt;dubbo 2.5.4 在JDK8下启动错误&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;config tomcat&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;edit the tomcat port(default is 8080) after these:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- A &amp;quot;Connector&amp;quot; represents an endpoint by which requests are received
         and responses are returned. Documentation at :
         Java HTTP Connector: /docs/config/http.html (blocking &amp;amp; non-blocking)
         Java AJP  Connector: /docs/config/ajp.html
         APR (HTTP/AJP) Connector: /docs/apr.html
         Define a non-SSL/TLS HTTP/1.1 Connector on port 8080
    --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;change the content to:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Connector port=&amp;quot;8888&amp;quot; protocol=&amp;quot;HTTP/1.1&amp;quot;
               connectionTimeout=&amp;quot;20000&amp;quot;
               redirectPort=&amp;quot;8443&amp;quot; URIEncoding=&amp;quot;UTF-8&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;start tomcat&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ pwd
/Users/houbinbin/it/tools/tomcat/tomcat8/bin

houbinbindeMacBook-Pro:bin houbinbin$ sh startup.sh
Using CATALINA_BASE:   /Users/houbinbin/it/tools/tomcat/tomcat8
Using CATALINA_HOME:   /Users/houbinbin/it/tools/tomcat/tomcat8
Using CATALINA_TMPDIR: /Users/houbinbin/it/tools/tomcat/tomcat8/temp
Using JRE_HOME:        /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
Using CLASSPATH:       /Users/houbinbin/it/tools/tomcat/tomcat8/bin/bootstrap.jar:/Users/houbinbin/it/tools/tomcat/tomcat8/bin/tomcat-juli.jar
Tomcat started.
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit dobbo admin in browser&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;URL:    localhost:8888

root/root
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/zookeeper/2016-09-25-dubbo-admin.png&quot; alt=&quot;dubbo-admin&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#zookeeper&quot; name=&quot;zookeeper&quot;&gt;&lt;/a&gt;zookeeper&lt;/h2&gt;
&lt;p&gt;First of all, you need start your &lt;a href=&quot;http://houbb.github.io/2016/09/25/zookeeper&quot;&gt;zookeeper&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ ./zkServer.sh start
ZooKeeper JMX enabled by default
Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg
Starting zookeeper ... STARTED
houbinbindeMacBook-Pro:bin houbinbin$ pwd
/Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin
houbinbindeMacBook-Pro:bin houbinbin$ jps
32082
34610 QuorumPeerMain
34613 Jps
30221 Bootstrap
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/houbb/dubbo-provider&quot;&gt;provider&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/houbb/dubbo-customer&quot;&gt;customer&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#provider&quot; name=&quot;provider&quot;&gt;&lt;/a&gt;provider&lt;/h2&gt;
&lt;p&gt;File tree&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;|____main
| |____java
| | |____com
| | | |____ryo
| | | | |____model
| | | | | |____User.java
| | | | |____Provider.java
| | | | |____service
| | | | | |____impl
| | | | | | |____UserServiceImpl.java
| | | | | |____UserService.java
| |____resources
| | |____app-core.xml
| | |____applicationContext-beans.xml
| | |____applicationContext-dubbo-provider.xml
| | |____log4j2.xml
|____test
---- pom.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;User.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Data
public class User implements Serializable {

  private Long id;

  private String username;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;UserService.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface UserService {
  User getUser(Long id);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;UserServiceImpl.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Service(&amp;quot;userService&amp;quot;)
public class UserServiceImpl implements UserService {

  public User getUser(Long id) {
    User user = new User();
    user.setId(id);
    user.setUsername(&amp;quot;name&amp;quot;+id);
    return user;
  }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;pom.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;dubbo-provider&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
        &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;

        &amp;lt;!--spring--&amp;gt;
        &amp;lt;spring.version&amp;gt;4.2.6.RELEASE&amp;lt;/spring.version&amp;gt;
        &amp;lt;!--log4j--&amp;gt;
        &amp;lt;log4j.version&amp;gt;2.6&amp;lt;/log4j.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!--spring--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context-support&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.11&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;dubbo&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;2.5.3&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.101tec&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;zkclient&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;0.4&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;!--log4j--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.projectlombok&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;lombok&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;1.16.10&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

    &amp;lt;/dependencies&amp;gt;

    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;port&amp;gt;8081&amp;lt;/port&amp;gt;
                    &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                    &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                    &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;app-core.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;

    &amp;lt;import resource=&amp;quot;applicationContext-dubbo-customer.xml&amp;quot;/&amp;gt;
    &amp;lt;import resource=&amp;quot;applicationContext-beans.xml&amp;quot;/&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;applicationContext-beans.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;

    &amp;lt;!--自动扫描 no need to include the &amp;lt;context:annotation-config&amp;gt;--&amp;gt;
    &amp;lt;context:component-scan base-package=&amp;quot;com.ryo&amp;quot;/&amp;gt;
&amp;lt;/beans&amp;gt;
````

- ```applicationContext-dubbo-provider.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;beans xmlns=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:dubbo=&amp;ldquo;&lt;a href=&quot;http://code.alibabatech.com/schema/dubbo&quot;&gt;http://code.alibabatech.com/schema/dubbo&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://code.alibabatech.com/schema/dubbo&quot;&gt;http://code.alibabatech.com/schema/dubbo&lt;/a&gt; &lt;a href=&quot;http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&quot;&gt;http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- 提供方应用信息，用于计算依赖关系 --&amp;gt;
&amp;lt;dubbo:application name=&amp;quot;dubbo-provider&amp;quot;/&amp;gt;

&amp;lt;!-- 使用zookeeper注册中心暴露服务地址 --&amp;gt;
&amp;lt;dubbo:registry address=&amp;quot;zookeeper://127.0.0.1:2181&amp;quot;/&amp;gt;

&amp;lt;!-- 监听注册 --&amp;gt;
&amp;lt;dubbo:monitor protocol=&amp;quot;registry&amp;quot;/&amp;gt;

&amp;lt;!-- 用dubbo协议在20880端口暴露服务 -1 == 20880 --&amp;gt;
&amp;lt;dubbo:protocol name=&amp;quot;dubbo&amp;quot; port=&amp;quot;-1&amp;quot; /&amp;gt;

&amp;lt;!-- 声明需要暴露的服务接口 --&amp;gt;
&amp;lt;dubbo:service interface=&amp;quot;com.ryo.service.UserService&amp;quot; ref=&amp;quot;userService&amp;quot;
               version=&amp;quot;0.0.0&amp;quot; retries=&amp;quot;0&amp;quot; timeout=&amp;quot;10000&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```log4j2.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;br/&gt;&lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt; &lt;br/&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- Main()

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;public class Provider {&lt;/p&gt;
&lt;p&gt;public static void main(String[] args) throws IOException {&lt;br/&gt; ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(new String[] {&amp;ldquo;app-core.xml&amp;rdquo;});&lt;br/&gt; context.start();&lt;br/&gt; System.out.println(&amp;ldquo;dubbo-provider start&amp;hellip;&amp;rdquo;);&lt;br/&gt; System.in.read(); // 按任意键退出&lt;br/&gt; }&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;start the main()

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;dubbo-provider start&amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- visit the dubbo-admin

If you see this, you are success of half...

![dubbo-provider]({{site.url}}/static/app/img/zookeeper/2016-09-26-dubbo-provider.png)

## customer

Well, customer is most the same as provider. It&amp;#39;s File tree:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.&lt;br/&gt;|____main&lt;br/&gt;| |____java&lt;br/&gt;| | |____com&lt;br/&gt;| | | |____ryo&lt;br/&gt;| | | | |____model&lt;br/&gt;| | | | | |____User.java&lt;br/&gt;| | | | |____service&lt;br/&gt;| | | | | |____UserService.java&lt;br/&gt;| |____resources&lt;br/&gt;| | |____app-core.xml&lt;br/&gt;| | |____applicationContext-beans.xml&lt;br/&gt;| | |____applicationContext-dubbo-customer.xml&lt;br/&gt;| | |____log4j2.xml&lt;br/&gt;|____test&lt;br/&gt;| |____java&lt;br/&gt;| | |____com&lt;br/&gt;| | | |____ryo&lt;br/&gt;| | | | |____service&lt;br/&gt;| | | | | |____UserServiceTest.java&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```applicationContext-dubbo-customer.xml```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;beans xmlns=&amp;ldquo;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:xsi=&amp;ldquo;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xmlns:dubbo=&amp;ldquo;&lt;a href=&quot;http://code.alibabatech.com/schema/dubbo&quot;&gt;http://code.alibabatech.com/schema/dubbo&lt;/a&gt;&amp;rdquo;&lt;br/&gt; xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;http://code.alibabatech.com/schema/dubbo&quot;&gt;http://code.alibabatech.com/schema/dubbo&lt;/a&gt; &lt;a href=&quot;http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&quot;&gt;http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- 提供方应用信息，用于计算依赖关系 --&amp;gt;
&amp;lt;dubbo:application name=&amp;quot;dubbo-customer&amp;quot;/&amp;gt;

&amp;lt;!-- 使用zookeeper注册中心暴露服务地址 --&amp;gt;
&amp;lt;dubbo:registry address=&amp;quot;zookeeper://127.0.0.1:2181&amp;quot;/&amp;gt;

&amp;lt;!-- 监听注册 --&amp;gt;
&amp;lt;dubbo:monitor protocol=&amp;quot;registry&amp;quot;/&amp;gt;

&amp;lt;!-- 用dubbo协议在20880端口暴露服务 -1 == 20880 --&amp;gt;
&amp;lt;dubbo:protocol name=&amp;quot;dubbo&amp;quot; port=&amp;quot;-1&amp;quot; /&amp;gt;

&amp;lt;!-- 声明需要消费的服务接口 --&amp;gt;
&amp;lt;dubbo:reference interface=&amp;quot;com.ryo.service.UserService&amp;quot; id=&amp;quot;userService&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- ```UserServiceTest.java```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@RunWith(SpringJUnit4ClassRunner.class)&lt;br/&gt;@ContextConfiguration(locations = {&amp;ldquo;classpath:/app-core.xml&amp;rdquo;})&lt;br/&gt;@Log4j2&lt;br/&gt;public class UserServiceTest {&lt;/p&gt;
&lt;p&gt;@Resource&lt;br/&gt; private UserService userService;&lt;/p&gt;
&lt;p&gt;@Test&lt;br/&gt; public void getUserTest() {&lt;br/&gt; User user = userService.getUser(2L);&lt;br/&gt; log.info(&amp;ldquo;user info:{}&amp;rdquo;, user);&lt;br/&gt; }&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;result

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;23:31:47.259 [main] INFO com.ryo.service.UserServiceTest - user info:User{id=2, username=&amp;lsquo;name2&amp;rsquo;}&lt;/p&gt;
&lt;p&gt;Process finished with exit code 0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Multi-Maven &amp;amp; Nexus

As you can see, the ```User.java``` and ```UserService.java``` we have write it twice.

We can make it into ```jar```, and use it.


- Provider

&amp;gt; [maven multi-module](https://github.com/houbb/provider.git)

- Provider interface jar

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ cd facade&lt;br/&gt;$ mvn clean install&lt;/p&gt;
&lt;p&gt;houbinbindeMacBook-Pro:target houbinbin$ pwd&lt;br/&gt;/Users/houbinbin/IT/code/provider/facade/target&lt;br/&gt;houbinbindeMacBook-Pro:target houbinbin$ ls&lt;br/&gt;classes facade-1.0-SNAPSHOT.jar generated-sources maven-archiver maven-status&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;## Into local

We can add the ```facade-1.0-SNAPSHOT.jar``` into maven local repository

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mvn install:install-file -Dfile=${jar-path} -DgroupId=com.ryo -DartifactId=${artifactId} -Dversion=${version} -Dpackaging=jar&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;then

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mvn install:install-file -Dfile=/Users/houbinbin/IT/code/provider/facade/target/facade-1.0-SNAPSHOT.jar -DgroupId=com.ryo -DartifactId=facade -Dversion=1.0-SNAPSHOT -Dpackaging=jar&lt;/p&gt;
&lt;p&gt;&amp;hellip;&lt;br/&gt;[INFO] &amp;mdash; maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom &amp;mdash;&lt;br/&gt;[INFO] Installing /Users/houbinbin/IT/code/provider/facade/target/facade-1.0-SNAPSHOT.jar to /Users/houbinbin/.m2/repository/com/ryo/facade/1.0-SNAPSHOT/facade-1.0-SNAPSHOT.jar&lt;br/&gt;[INFO] &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;br/&gt;[INFO] BUILD SUCCESS&lt;br/&gt;[INFO] &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;br/&gt;[INFO] Total time: 0.280 s&lt;br/&gt;[INFO] Finished at: 2016-09-27T23:10:42+08:00&lt;br/&gt;[INFO] Final Memory: 9M/309M&lt;br/&gt;[INFO] &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Use the  ```facade-1.0-SNAPSHOT.jar``` in customer

- pom.xml

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; com.ryo&lt;br/&gt; facade&lt;br/&gt; 1.0-SNAPSHOT&lt;br/&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- customer tree

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;|____main&lt;br/&gt;| |____java&lt;br/&gt;| |____resources&lt;br/&gt;| | |____app-core.xml&lt;br/&gt;| | |____applicationContext-beans.xml&lt;br/&gt;| | |____applicationContext-dubbo-customer.xml&lt;br/&gt;| | |____log4j2.xml&lt;br/&gt;|____test&lt;br/&gt;| |____java&lt;br/&gt;| | |____com&lt;br/&gt;| | | |____ryo&lt;br/&gt;| | | | |____facade&lt;br/&gt;| | | | | |____UserFacadeTest.java&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- UserFacadeTest.java

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@RunWith(SpringJUnit4ClassRunner.class)&lt;br/&gt;@ContextConfiguration(locations = {&amp;ldquo;classpath:/app-core.xml&amp;rdquo;})&lt;br/&gt;@Log4j2&lt;br/&gt;public class UserFacadeTest {&lt;br/&gt; @Autowired&lt;br/&gt; private UserFacade userFacade;&lt;/p&gt;
&lt;p&gt;@Test&lt;br/&gt; public void getUserTest() {&lt;br/&gt; UserResponse userResponse = userFacade.getUser(2L);&lt;br/&gt; log.info(&amp;ldquo;userResponse:{}&amp;rdquo;, userResponse);&lt;br/&gt; }&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;result:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;23:21:11.040 [main] INFO com.ryo.facade.UserFacadeTest - userResponse:UserResponse(id=2, username=name2)&lt;/p&gt;
&lt;p&gt;Process finished with exit code 0&lt;br/&gt;```&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#telnet&quot; name=&quot;telnet&quot;&gt;&lt;/a&gt;telnet&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.tuicool.com/articles/vErY7v&quot;&gt;telnet&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>ZooKeeper</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-25-zookeeper.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#zookeeper&quot; name=&quot;zookeeper&quot;&gt;&lt;/a&gt;Zookeeper&lt;/h1&gt;
&lt;p&gt;Apache ZooKeeper is an effort to develop and maintain an open-source server which enables highly reliable distributed coordination.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://zookeeper.apache.org/&quot;&gt;zookeeper&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#download&quot; name=&quot;download&quot;&gt;&lt;/a&gt;Download&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://apache.fayea.com/zookeeper&quot;&gt;Download&lt;/a&gt; the zookeeper, unzip it.&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   wget http://apache.fayea.com/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#add-server1&quot; name=&quot;add-server1&quot;&gt;&lt;/a&gt;Add Server1&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Add &lt;code&gt;server1&lt;/code&gt; package&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   cd /Users/houbinbin/it/tools/zookeeper/server1
$   ls

data		logs		zookeeper-3.4.9
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Add file &lt;code&gt;myid&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;add file &lt;code&gt;myid&lt;/code&gt; in &lt;strong&gt;data&lt;/strong&gt; package, and it&amp;rsquo;s content is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Edit zookeeper-3.4.9/conf&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/conf
$   ls
configuration.xsl	log4j.properties	zoo_sample.cfg

$   cp zoo_sample.cfg zoo.cfg
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Edit the &lt;code&gt;zoo.cfg&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;add these content&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# the data and log dir
dataDir=/Users/houbinbin/it/tools/zookeeper/server1/data
dataLogDir=/Users/houbinbin/it/tools/zookeeper/server1/logs

# the port at which the clients will connect
clientPort=2181
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#add-server2&quot; name=&quot;add-server2&quot;&gt;&lt;/a&gt;Add server2&lt;/h2&gt;
&lt;p&gt;If you want to test Cluster manager in one PC, you can do it like this:&lt;/p&gt;
&lt;p&gt;server2 is the same as server1.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Then, edit &lt;code&gt;zoo.cfg&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# the data and log dir
dataDir=/Users/houbinbin/it/tools/zookeeper/server2/data
dataLogDir=/Users/houbinbin/it/tools/zookeeper/server2/logs

# the port at which the clients will connect
clientPort=2182
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Add file &lt;code&gt;myid&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;with the content of&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#start-stop&quot; name=&quot;start-stop&quot;&gt;&lt;/a&gt;Start &amp;amp; Stop&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;start&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ pwd
/Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin

houbinbindeMacBook-Pro:bin houbinbin$ ls
README.txt	zkCli.cmd	zkEnv.cmd	zkServer.cmd
zkCleanup.sh	zkCli.sh	zkEnv.sh	zkServer.sh

houbinbindeMacBook-Pro:bin houbinbin$ sh zkServer.sh start
ZooKeeper JMX enabled by default
Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg
-n Starting zookeeper ...
STARTED
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;status&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you see the &lt;code&gt;QuorumPeerMain&lt;/code&gt;, that&amp;rsquo;s meaning you are success.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ jps
1920 Jps
531
1913 QuorumPeerMain
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;stop&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ sh zkServer.sh stop
ZooKeeper JMX enabled by default
Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg
-n Stopping zookeeper ...
STOPPED
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>SSH</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-09-29-ssh.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#ssh&quot; name=&quot;ssh&quot;&gt;&lt;/a&gt;SSH&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://man.openbsd.org/OpenBSD-current/man1/ssh.1&quot;&gt;ssh&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a href=&quot;#synopsis&quot; name=&quot;synopsis&quot;&gt;&lt;/a&gt;SYNOPSIS&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;ssh	[-1246AaCfGgKkMNnqsTtVvXxYy] [-b bind_address] [-c cipher_spec] [-D [bind_address:]port] [-E log_file] [-e escape_char] 
[-F configfile] [-I pkcs11] [-i identity_file] [-J [user@]host[:port]] [-L address] [-l login_name] [-m mac_spec] [-O ctl_cmd] 
[-o option] [-p port] [-Q query_option] [-R address] [-S ctl_path] [-W host:port] [-w local_tun[:remote_tun]] 
[user@]hostname [command]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#description&quot; name=&quot;description&quot;&gt;&lt;/a&gt;DESCRIPTION&lt;/h2&gt;
&lt;p&gt;ssh (SSH client) is a program for logging into a remote machine and for executing commands on a remote machine.&lt;br/&gt;It is intended to provide secure encrypted communications between two untrusted hosts over an insecure network.&lt;br/&gt;X11 connections, arbitrary TCP ports and UNIX-domain sockets can also be forwarded over the secure channel.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The simple demo&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   ssh root@139.196.28.125
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ssh connects and logs into the specified hostname (with optional user name).&lt;br/&gt;The user must prove his/her identity to the remote machine using one of several methods (see below).&lt;br/&gt;If command is specified, it is executed on the remote host instead of a login shell.&lt;/p&gt;
&lt;p&gt;If command is specified, it is executed on the remote host instead of a login shell.&lt;br/&gt;The options are as follows:&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;opt &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;description &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-1 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Forces ssh to try protocol version 1 only.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-2 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Forces ssh to try protocol version 2 only.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-4 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Forces ssh to use IPv4 addresses only.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-5 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Forces ssh to use IPv6 addresses only.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#ssh-免密登录&quot; name=&quot;ssh-免密登录&quot;&gt;&lt;/a&gt;SSH 免密登录&lt;/h1&gt;
&lt;p&gt;If you want login &lt;strong&gt;B&lt;/strong&gt; in &lt;strong&gt;A&lt;/strong&gt; without password, you can do it like this:&lt;/p&gt;
&lt;p&gt;1、generate ssh key in A&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh-keygen -t rsa
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It may has three times input, just enter directly. It will generate &lt;code&gt;id_rsa&lt;/code&gt; and &lt;code&gt;id_rsa.pub&lt;/code&gt; in &lt;strong&gt;.ssh&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2、Import A&amp;rsquo;s &lt;code&gt;id_rsa.pub&lt;/code&gt; into B&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh-copy .ssh/id_rsa.pub root@139.196.28.125
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If A not install &lt;code&gt;ssh-copy&lt;/code&gt;, we can do it like this&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;copy &lt;code&gt;id_rsa.pub&lt;/code&gt; to B&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:.ssh houbinbin$ scp ~/.ssh/id_rsa.pub root@139.196.28.125:id_rsa.pub
root@139.196.28.125&amp;#39;s password:
id_rsa.pub
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;import it to B&amp;rsquo;s &lt;code&gt;.ssh/authorized_keys&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;cat id_rsa.pub &amp;gt; .ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the the user you login has no &lt;strong&gt;.ssh&lt;/strong&gt;, create it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~# pwd
/root
root@iZuf60ahcky4k4nfv470juZ:~# mkdir .ssh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、login test&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ ./ali.sh
Welcome to Ubuntu 14.04.4 LTS (GNU/Linux 3.13.0-86-generic x86_64)

 * Documentation:  https://help.ubuntu.com/
New release &amp;#39;16.04.1 LTS&amp;#39; available.
Run &amp;#39;do-release-upgrade&amp;#39; to upgrade to it.


Welcome to aliyun Elastic Compute Service!

root@iZuf60ahcky4k4nfv470juZ:~#
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#ssh-内网穿透技术&quot; name=&quot;ssh-内网穿透技术&quot;&gt;&lt;/a&gt;SSH 内网穿透技术&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static//app/img/linux/ssh/2016-10-23-ssh-inner-inject.png&quot; alt=&quot;ssh-inner-inject&quot; /&gt;&lt;/p&gt;
&lt;p&gt;假设已有:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;一台公网主机(B)&lt;/li&gt;
  &lt;li&gt;可以联公网的主机的主机A、C&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;问: 如何让C访问A呢?&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;思路&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、C可以直接访问B,A可以访问B,所以要通过B作为二者沟通的桥梁。&lt;br/&gt;2、当我们使用C访问B时,如何让B把消息传递给A呢?(SSH)&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;实现&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;A来征服&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;ssh -N -f -R 2323:127.0.0.1:22 139.196.28.125
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;作用：告诉139.196.28.125（**B**）， 如果有人请求你的2323端口， 你就把这个请求转到我（**A**）的22号端口&lt;/p&gt;
&lt;p&gt;-N: 告诉B， 我这个命令你什么也不要做， 只需要做转发就行了&lt;br/&gt;-f：让这条命令在A的后台执行（不会因为关掉命令窗口而断开链接）&lt;br/&gt;-R: 格式-R X:Y:Z， 作用是做端口映射， 把远程机器的端口X映射（转发）到本地机器Y的Z端口&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;C来见证&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、C访问B&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh root@139.196.28.125
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、访问指定端口&lt;/p&gt;
&lt;p&gt;让B访问自己的2323端口,等于直接访问A的22端口(22为默认ssh端口)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh -p 2323 root@localhost
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#将内网服务器设置为外网可以访问&quot; name=&quot;将内网服务器设置为外网可以访问&quot;&gt;&lt;/a&gt;将内网服务器设置为外网可以访问&lt;/h1&gt;
&lt;p&gt;指定转发脚本: &lt;code&gt;conn.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# kill ssh

echo &amp;quot;kill all ssh...&amp;quot;
ps -ef | grep ssh | grep -v sshd | cut -c 9-15 | xargs kill -9

# ssh

ssh -C -f -N -g -L  8080:42.196.156.22:18080 -p 12222 houbinbin@42.196.156.22
ssh -C -f -N -g -L  8081:42.196.156.22:18081 -p 12222 houbinbin@42.196.156.22
ssh -C -f -N -g -L  9000:42.196.156.22:19000 -p 12222 houbinbin@42.196.156.22
ssh -C -f -N -g -L  80:42.196.156.22:10080 -p 12222 houbinbin@42.196.156.22
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;定时执行:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# crontab -e
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;添加内容如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# 每小时进行一次转发重连

0 */1 * * * /root/shell/conn.sh
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Git</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-10-git.md</link>
      <description>&lt;p&gt;&lt;a href=&quot;https://git-scm.com&quot;&gt;Git&lt;/a&gt; is a &lt;em&gt;free and open source&lt;/em&gt; distributed version control system designed to handle everything from small to very large projects with speed and efficiency.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000&quot;&gt;git zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#init&quot; name=&quot;init&quot;&gt;&lt;/a&gt;Init&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Create project-&amp;gt;Git init: git&lt;br/&gt; Git init-&amp;gt;Github: import into&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Create maven project&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use your idea to create a maven project. May like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\CODE\git-demo&amp;gt;tree /f
文件夹 PATH 列表
卷序列号为 00000200 3E45:BF16
D:.
│  git-demo.iml
│  pom.xml
│
├─.idea
│  │  compiler.xml
│  │  misc.xml
│  │  modules.xml
│  │  workspace.xml
│  │
│  └─copyright
│          profiles_settings.xml
│
└─src
    ├─main
    │  ├─java
    │  └─resources
    └─test
        └─java
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code&gt;.gitignore&lt;/code&gt; &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This file can config what type of files you do not want to commit.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# maven ignore
target/
*.jar
*.war
*.zip
*.tar
*.tar.gz

# eclipse ignore
.settings/
.project
.classpath

# idea ignore
.idea/
*.ipr
*.iml
*.iws
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;git init &amp;amp; import to Github&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、you can use this way if you use &lt;strong&gt;IntelliJ IDEA&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;VCS -&amp;gt; Import into Version Control -&amp;gt; Share Project on Github
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、common ways&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;create a new repository on the command line&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;echo &amp;quot;# git-demo&amp;quot; &amp;gt;&amp;gt; README.md
git init
git add README.md
git commit -m &amp;quot;first commit&amp;quot;
git remote add origin https://github.com/houbb/git-demo.git
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;push an existing repository from the command line&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git remote add origin https://github.com/houbb/git-demo.git
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#base-usage&quot; name=&quot;base-usage&quot;&gt;&lt;/a&gt;Base usage&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;git status&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;show the git files status;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git status

On branch master

Initial commit

Untracked files:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)

        .gitignore
        pom.xml

nothing added to commit but untracked files present (use &amp;quot;git add&amp;quot; to track)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git add&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;add files into local Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git add .gitignore
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git commit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;commit files into local Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git commit -m &amp;quot;first commit&amp;quot;

[master (root-commit) 965cf5d] first commit
 1 file changed, 6 insertions(+)
 create mode 100644 .gitignore
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git push&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;push files into remote Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git push

fatal: The current branch master has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;$   git push --set-upstream origin master

Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 258 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/houbb/git-demo.git
 * [new branch]      master -&amp;gt; master
Branch master set up to track remote branch master from origin.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this way, we can add another file &lt;code&gt;README.md&lt;/code&gt; into Repository for test, content is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; Hello Git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, we edit the file &lt;code&gt;README.md&lt;/code&gt; into this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; Hello Git
- git diff
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git diff&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;see the difference between local and Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git diff README.md
diff --git a/README.md b/README.md
index adb219f..e5a680e 100644
--- a/README.md
+++ b/README.md
@@ -1 +1,2 @@
-&amp;gt; Hello Git
\ No newline at end of file
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git log&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;show the log of git &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git log

commit cd84e273e5ac1d42d08090d013696a237b120751
Author: houbinbin &amp;lt;1060732496@qq.com&amp;gt;
Date:   Mon Oct 10 18:43:33 2016 +0800

    git diff

commit 9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3
Author: houbinbin &amp;lt;1060732496@qq.com&amp;gt;
Date:   Mon Oct 10 18:14:38 2016 +0800

    add readme

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the &lt;code&gt;cd84e273e5ac1d42d08090d013696a237b120751&lt;/code&gt; is &lt;code&gt;commit_id&lt;/code&gt;, the uk of commit.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#time-data-back&quot; name=&quot;time-data-back&quot;&gt;&lt;/a&gt;Time data back&lt;/h1&gt;
&lt;h2&gt;&lt;a href=&quot;#the-version-recall&quot; name=&quot;the-version-recall&quot;&gt;&lt;/a&gt;The version recall&lt;/h2&gt;
&lt;p&gt;In Git, &lt;code&gt;HEAD&lt;/code&gt; stands for current version, in our demo is &lt;code&gt;cd84e273e5ac1d42d08090d013696a237b120751&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;HEAD^``` stands for last version, the version before last is ```HEAD^^```, &quot;&gt;the last 100 version can write as ```HEAD~100```

- git reset

If we want to recall version into ```9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3``` (add readme)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ git reset &amp;ndash;hard 9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;and then, the content of ```README.md``` is:

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Hello Git&lt;br/&gt;```&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;git reflog&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;now, how can we recall to version of &lt;code&gt;cd84e273e5ac1d42d08090d013696a237b120751&lt;/code&gt;(git diff)?&lt;/p&gt;
&lt;p&gt;use &lt;code&gt;git reflog&lt;/code&gt; can get all commits you have done.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git reflog

9f18a0c HEAD@{0}: reset: moving to 9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3
cd84e27 HEAD@{1}: merge origin/master: Fast-forward
9f18a0c HEAD@{2}: reset: moving to 9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3
cd84e27 HEAD@{3}: merge origin/master: Fast-forward
9f18a0c HEAD@{4}: reset: moving to 9f18a0cd10ac0eb661ab1a9bf056398c5e6fe6f3
cd84e27 HEAD@{5}: commit: git diff
9f18a0c HEAD@{6}: commit: add readme
965cf5d HEAD@{7}: commit (initial): first commit
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git reset --hard cd84e27
HEAD is now at cd84e27 git diff
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and now, the content of &lt;code&gt;README.md&lt;/code&gt; is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; Hello Git
- git diff
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#working-directory-stage&quot; name=&quot;working-directory-stage&quot;&gt;&lt;/a&gt;Working Directory &amp;amp; Stage&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Working Directory&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;the maven project can seem as a &lt;strong&gt;Working Directory&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Repository&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;the files of our project, you can see the &lt;code&gt;.git&lt;/code&gt; dir, it includes &lt;code&gt;stage&lt;/code&gt;、and the first branch &lt;code&gt;master&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   dir /a

2016/10/10  18:53    &amp;lt;DIR&amp;gt;          .
2016/10/10  18:53    &amp;lt;DIR&amp;gt;          ..
2016/10/10  18:54    &amp;lt;DIR&amp;gt;          .git
2016/08/03  17:16                56 .gitignore
2016/10/10  19:06    &amp;lt;DIR&amp;gt;          .idea
2016/10/10  18:48                 0 git
2016/10/10  16:53               862 git-demo.iml
2016/10/10  16:52               419 pom.xml
2016/10/10  18:53                23 README.md
2016/10/10  16:52    &amp;lt;DIR&amp;gt;          src
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;git add&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;add files into &lt;strong&gt;stage&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;git commit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;commit all files in &lt;strong&gt;stage&lt;/strong&gt; into current branch, now is &lt;strong&gt;master&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#discard-changes&quot; name=&quot;discard-changes&quot;&gt;&lt;/a&gt;Discard Changes&lt;/h2&gt;
&lt;p&gt;if you add error content in &lt;code&gt;README.md&lt;/code&gt; by mistake, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; Hello Git
- git diff
error--!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How to discard the changes?&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git status

On branch master
Your branch is up-to-date with &amp;#39;origin/master&amp;#39;.
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)

        modified:   README.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, the command &lt;code&gt;git checkout -- &amp;lt;file&amp;gt;...&lt;/code&gt; can discard changes in working directory&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git checkout -- README.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, the content of &lt;code&gt;README.md&lt;/code&gt; will be:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; Hello Git
- git diff
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#remove-files&quot; name=&quot;remove-files&quot;&gt;&lt;/a&gt;Remove Files&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;git rm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, we add &lt;code&gt;temp.md&lt;/code&gt; for test, add it into &lt;strong&gt;stage&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git add temp.md

$   git status
new file:   temp.md

$   git rm temp.md

error: the following file has changes staged in the index:
    temp.md
(use --cached to keep the file, or -f to force removal)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use &lt;code&gt;git rm --cached&lt;/code&gt; will retains the file in your &lt;strong&gt;working dir&lt;/strong&gt; and remove file from &lt;strong&gt;stage&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git rm --cached temp.md 
rm &amp;#39;temp.md&amp;#39;

$   git status

Untracked files:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)

        temp.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, we commit the &lt;code&gt;temp.md&lt;/code&gt; into branch and the use &lt;code&gt;git rm&lt;/code&gt;, the file will be removed from &lt;strong&gt;working dir&lt;/strong&gt; &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git add temp.md

$   git commit -m &amp;quot;add temp.md&amp;quot;

[master d36026f] add temp.md
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 temp.md

$ git rm temp.md
rm &amp;#39;temp.md&amp;#39;

$ git status

Changes to be committed:
  (use &amp;quot;git reset HEAD &amp;lt;file&amp;gt;...&amp;quot; to unstage)

        deleted:    temp.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1、If you really want to delete &lt;code&gt;temp.md&lt;/code&gt;, commit it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git commit -m &amp;quot;remove temp.md&amp;quot;

[master d33d131] remove temp.md
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 temp.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、if you do not want delete &lt;code&gt;temp.md&lt;/code&gt;, the file will be back ^_^&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git checkout -- temp.md
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#branch-manage&quot; name=&quot;branch-manage&quot;&gt;&lt;/a&gt;Branch Manage&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;View branch&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;local&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   git branch
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;remote&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   git branch -r
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;all&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   git branch -a
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Create &amp;amp; Checkout&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git branch git_demo_1.1
houbinbindeMacBook-Pro:git-demo houbinbin$ git branch
  git_demo_1.1
* master
houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout git_demo_1.1
Switched to branch &amp;#39;git_demo_1.1&amp;#39;
houbinbindeMacBook-Pro:git-demo houbinbin$
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;is the same as&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git checkout -b &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Push Branch into Github&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   git push origin [branch name]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Remove Branch&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;local&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git branch -d [branch name]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;github remote&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git push origin :[branch name]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/syc434432458/article/details/51861483&quot;&gt;Merge branch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches&quot;&gt;git wiki&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/git/2016-09-02-git-merge.png&quot; alt=&quot;idea&quot; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;$ git checkout master

$ git pull

$ git checkout branch

$ git rebase master     (用rebase合并主干的修改，如果有冲突在此时解决)

$ git checkout master

$ git merge branch

$ git push

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;push&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Attention, After merge it&amp;rsquo;s has no stage, so, commit will tell you nothing to change.&lt;/p&gt;
&lt;p&gt;You should use &lt;code&gt;git push origin master&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git push    //push into current branch
$   git push origin master  //push into master
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;branch merge tips&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Usually, git will use &lt;code&gt;Fast Forward&lt;/code&gt; mode when merge, we can use &lt;code&gt;--no-ff&lt;/code&gt; to merge.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout -b git_demo_1.2
Switched to a new branch &amp;#39;git_demo_1.2&amp;#39;

houbinbindeMacBook-Pro:git-demo houbinbin$ git add README.md
houbinbindeMacBook-Pro:git-demo houbinbin$ git commit -m &amp;quot;change git_demo_1.2&amp;quot;
[git_demo_1.2 8983fd1] change git_demo_1.2
 1 file changed, 2 insertions(+), 1 deletion(-)

houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout master
Switched to branch &amp;#39;master&amp;#39;
Your branch is up-to-date with &amp;#39;origin/master&amp;#39;.
houbinbindeMacBook-Pro:git-demo houbinbin$ git merge --no-ff -m &amp;quot;merge with --no-ff&amp;quot; git_demo_1.2
Merge made by the &amp;#39;recursive&amp;#39; strategy.
 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, see the log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git log --graph --pretty=oneline --abbrev-commit
*   0d899d1 merge with --no-ff
|\
| * 8983fd1 change git_demo_1.2
|/
* d696904 add pom.xml
* cd84e27 git diff
* 9f18a0c add readme
* 965cf5d first commit
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;remove local branch&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   git branch -d xxxxx
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#bug-branch&quot; name=&quot;bug-branch&quot;&gt;&lt;/a&gt;Bug branch&lt;/h2&gt;
&lt;p&gt;If on the half of your work, you must to solve other things.&lt;/p&gt;
&lt;p&gt;For example, you write sth on branch &lt;code&gt;1.2&lt;/code&gt;, but there has a bug to fix, how should we do?&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;git stash&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;this command can save current work conditions.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git status
On branch master
Your branch is ahead of &amp;#39;origin/master&amp;#39; by 2 commits.
  (use &amp;quot;git push&amp;quot; to publish your local commits)
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)

        modified:   README.md

no changes added to commit (use &amp;quot;git add&amp;quot; and/or &amp;quot;git commit -a&amp;quot;)

houbinbindeMacBook-Pro:git-demo houbinbin$ git stash
Saved working directory and index state WIP on master: 0d899d1 merge with --no-ff
HEAD is now at 0d899d1 merge with --no-ff
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;now, we can checkout into master and fix the bug.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout master
Already on &amp;#39;master&amp;#39;
Your branch is ahead of &amp;#39;origin/master&amp;#39; by 2 commits.
  (use &amp;quot;git push&amp;quot; to publish your local commits)
houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout -b git_demo_bug_001
Switched to a new branch &amp;#39;git_demo_bug_001&amp;#39;
houbinbindeMacBook-Pro:git-demo houbinbin$ git add README.md
houbinbindeMacBook-Pro:git-demo houbinbin$ git commit -m &amp;quot;fix the bug&amp;quot;
[git_demo_bug_001 4069a0c] fix the bug
 1 file changed, 2 insertions(+), 1 deletion(-)

houbinbindeMacBook-Pro:git-demo houbinbin$ git checkout master
Switched to branch &amp;#39;master&amp;#39;
Your branch is ahead of &amp;#39;origin/master&amp;#39; by 2 commits.
  (use &amp;quot;git push&amp;quot; to publish your local commits)
houbinbindeMacBook-Pro:git-demo houbinbin$ git merge git_demo_bug_001
Updating 0d899d1..4069a0c
Fast-forward
 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after fix the bug, we can checkout to the &lt;code&gt;1.2&lt;/code&gt; branch, continue to work&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git stash list
stash@{0}: WIP on master: 0d899d1 merge with --no-ff
houbinbindeMacBook-Pro:git-demo houbinbin$ git stash pop
On branch git_demo_1.2
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)

        modified:   README.md

no changes added to commit (use &amp;quot;git add&amp;quot; and/or &amp;quot;git commit -a&amp;quot;)
Dropped refs/stash@{0} (9cd4d92f41db2cdb1b8e15ffde7c73c4fd6ef83c)
houbinbindeMacBook-Pro:git-demo houbinbin$ git stash list
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#tag&quot; name=&quot;tag&quot;&gt;&lt;/a&gt;Tag&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;create tag&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;git tag &lt;tagname&gt; [commit_id]```&quot;&gt;&lt;br/&gt;- show tags

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;show tag detail info&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;git show &lt;tagname&gt;```&quot;&gt;&lt;br/&gt;&lt;br/&gt;```
houbinbindeMacBook-Pro:git-demo houbinbin$ git branch
  git_demo_1.1
  git_demo_1.2
  git_demo_bug_001
* master
houbinbindeMacBook-Pro:git-demo houbinbin$ git tag v1.0
houbinbindeMacBook-Pro:git-demo houbinbin$ git tag
v1.0
houbinbindeMacBook-Pro:git-demo houbinbin$ git show v1.0
commit 4069a0cc54ee97993850419a09b62023ee3fa711
Author: “houbb” &amp;lt;“1060732496@qq.com”&amp;gt;
Date:   Mon Oct 10 22:48:07 2016 +0800

    fix the bug

diff --git a/README.md b/README.md
index 5664a33..98be30e 100644
--- a/README.md
+++ b/README.md
@@ -1,3 +1,4 @@
 &amp;gt; Hello Git
 - git diff
-- git_demo_1.2
\ No newline at end of file
+- git_demo_1.2
+fix the bug
\ No newline at end of file

houbinbindeMacBook-Pro:git-demo houbinbin$ git log --pretty=oneline --abbrev-commit
4069a0c fix the bug
0d899d1 merge with --no-ff
8983fd1 change git_demo_1.2
d696904 add pom.xml
cd84e27 git diff
9f18a0c add readme
965cf5d first commit
houbinbindeMacBook-Pro:git-demo houbinbin$ git tag v0.9 0d899d1
houbinbindeMacBook-Pro:git-demo houbinbin$ git tag
v0.9
v1.0
houbinbindeMacBook-Pro:git-demo houbinbin$ git show tag v0.9
fatal: ambiguous argument &amp;#39;tag&amp;#39;: unknown revision or path not in the working tree.
Use &amp;#39;--&amp;#39; to separate paths from revisions, like this:
&amp;#39;git &amp;lt;command&amp;gt; [&amp;lt;revision&amp;gt;...] -- [&amp;lt;file&amp;gt;...]&amp;#39;
houbinbindeMacBook-Pro:git-demo houbinbin$ git show v0.9
commit 0d899d1e9fa22bc3d8092d4a709abc0174186f79
Merge: d696904 8983fd1
Author: “houbb” &amp;lt;“1060732496@qq.com”&amp;gt;
Date:   Mon Oct 10 22:29:49 2016 +0800

    merge with --no-ff
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;add tag with info&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;git tag -a &lt;tagname&gt; -m &quot;info&quot;``` &lt;commit_id&gt;&quot;&gt;&lt;br/&gt;```
houbinbindeMacBook-Pro:git-demo houbinbin$ git tag -a v0.1 -m &amp;quot;first-commit-tag&amp;quot; 965cf5d
houbinbindeMacBook-Pro:git-demo houbinbin$ git show v0.1
tag v0.1
Tagger: “houbb” &amp;lt;“1060732496@qq.com”&amp;gt;
Date:   Mon Oct 10 23:11:05 2016 +0800

first-commit-tag

commit 965cf5db0b2ca8b062d2cd895b7431d37e11a23f
Author: houbinbin &amp;lt;1060732496@qq.com&amp;gt;
Date:   Mon Oct 10 18:05:43 2016 +0800

    first commit
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;add tag with PGP sign&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;git tag -s &lt;tagname&gt; -m &quot;sign&quot;```&quot;&gt;&lt;br/&gt;&amp;gt; Manage Tags


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git tag&lt;br/&gt;v0.1&lt;br/&gt;v0.9&lt;br/&gt;v1.0&lt;br/&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git tag -d v0.1&lt;br/&gt;Deleted tag &amp;lsquo;v0.1&amp;rsquo; (was 0fc098a)&lt;br/&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git push origin v0.9&lt;br/&gt;Counting objects: 4, done.&lt;br/&gt;Delta compression using up to 8 threads.&lt;br/&gt;Compressing objects: 100% (3/3), done.&lt;br/&gt;Writing objects: 100% (4/4), 442 bytes | 0 bytes/s, done.&lt;br/&gt;Total 4 (delta 1), reused 0 (delta 0)&lt;br/&gt;remote: Resolving deltas: 100% (1/1), done.&lt;br/&gt;To &lt;a href=&quot;https://github.com/houbb/git-demo.git&quot;&gt;https://github.com/houbb/git-demo.git&lt;/a&gt;&lt;br/&gt; * [new tag] v0.9 -&amp;gt; v0.9&lt;br/&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ git push origin &amp;ndash;tags&lt;br/&gt;Counting objects: 3, done.&lt;br/&gt;Delta compression using up to 8 threads.&lt;br/&gt;Compressing objects: 100% (2/2), done.&lt;br/&gt;Writing objects: 100% (3/3), 361 bytes | 0 bytes/s, done.&lt;br/&gt;Total 3 (delta 0), reused 0 (delta 0)&lt;br/&gt;To &lt;a href=&quot;https://github.com/houbb/git-demo.git&quot;&gt;https://github.com/houbb/git-demo.git&lt;/a&gt;&lt;br/&gt; * [new tag] v1.0 -&amp;gt; v1.0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- remove local tag

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;remove remote tag&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;git push origin :refs/tags/&amp;lt;tagname&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#build-git-server&quot; name=&quot;build-git-server&quot;&gt;&lt;/a&gt;Build Git Server&lt;/h1&gt;
&lt;p&gt;TBC&amp;hellip;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-10-Linux.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#linux&quot; name=&quot;linux&quot;&gt;&lt;/a&gt;Linux&lt;/h1&gt;
&lt;p&gt;Just like Windows XP, Windows 7, Windows 8, and Mac OS X, Linux is an operating system.&lt;br/&gt;An operating system is software that manages all of the hardware resources associated with your desktop or laptop.&lt;br/&gt;To put it simply – the operating system manages the communication between your software and your hardware.&lt;br/&gt;Without the operating system (often referred to as the “OS”), the software wouldn’t function.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.linux.com&quot;&gt;linux&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;https://linux.cn&quot;&gt;linux zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; Linux-&amp;gt;Index Struct:&lt;br/&gt; Index Struct-&amp;gt;File Property:&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Index Struct&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:/# ls /
bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;dir &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;bin &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;存放着最经常使用的命令&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;boot &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;dev &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Linux的外部设备&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;etc &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;系统管理所需要的配置文件和子目录&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;home &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;用户的主目录&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;lib &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;系统最基本的动态连接共享库&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;lost+found&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;当系统非法关机后，这里就存放了一些文件&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;media &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;linux系统会自动识别一些设备，例如U盘、光驱等，linux会把识别的设备挂载到这个目录下&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;mnt &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;让用户临时挂载别的文件系统&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;opt &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;额外安装软件所摆放的目录&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;proc &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;虚拟目录，是系统内存的映射，可通过直接访问这个目录获取系统信息&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;root &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;超级权限者的用户主目录&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;run &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;sbin &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;统管理员使用的系统管理程序&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;srv &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;一些服务启动之后需要提取的数据&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;tmp &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;存放一些临时文件的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;usr &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;存放用户的应用程序和文件&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;var &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#linux-vim&quot; name=&quot;linux-vim&quot;&gt;&lt;/a&gt;Linux Vim&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.vim.org/&quot;&gt;Vim&lt;/a&gt; is a highly configurable text editor built to make creating and changing any kind of text very efficient. &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/linux/vim/2016-10-11-vim.gif&quot; alt=&quot;vim&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt; Title: Vim Mode&lt;br/&gt; Edit Mode-&amp;gt;Common Mode: ESC&lt;br/&gt; Common Mode-&amp;gt; Edit Mode: &amp;lt;i | o | a&amp;gt;&lt;br/&gt; Common Mode-&amp;gt; Command Mode: &amp;lt;: | ? | /&amp;gt;&lt;br/&gt; Command Mode-&amp;gt; Common Mode: Enter&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Cursor Move&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;H &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Head line start &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;M &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Middle line start &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;L &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Bottom line start &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;G &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Last Line &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;nG &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;n Line &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;gg &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;First Line(1G) &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;n space &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;→ n &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;n enter &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;↓ n &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;Vim Set&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;:set nu &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;show line num &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;:set nonu &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;hide line num &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;Find &amp;amp; Replace&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;/word &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find word after cursor &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;?word &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;find word before cursor &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;n &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;continue search before &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;N &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;continue search &amp;amp; REVERSE direction &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;:n1,n2s/word1/word2/g &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;replace word1 with word2 in [n1,n2] lines &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;:1,$s/word1/word2/g &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;replace word1 with word2 in [First,Last] lines &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;:1,$s/word1/word2/gc &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;replace word1 with word2 in [First,Last] lines, need CONFIRM &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;Delete &amp;amp; Copy&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;n&lt;/strong&gt; stands for n times&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;[n]x,X &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;x(del), X(backspace) &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;[n]dd &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;delete cursor line, [n] cursor ↓ n lines delete &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;d[H M L G nG] &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;delete form cursor line and target &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;d[0 $] &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[0] delete form cursor to line head, [$] to line end &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;[n]yy &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;copy cursor line, [n] cursor ↓ n lines copy &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;y[H M L G nG] &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;same as delete &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;y[0 $] &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;same as delete &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;P &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;paste copy content at cursor&amp;rsquo;s NEXT line &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;p &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;paste copy content at cursor&amp;rsquo;s PREV line &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;u &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;undo &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;. &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;redo &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#linux-command&quot; name=&quot;linux-command&quot;&gt;&lt;/a&gt;Linux Command&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;File Manage&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;cat&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;cat命令用于把档案串连接后传到基本输出（萤幕或加 &amp;gt; fileName 到另一个档案）&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-n 或 --number 由 1 开始对所有输出的行数编号
-b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号
-s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行
-v 或 --show-nonprinting
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;&gt;``` redirect, ```&gt;&gt;``` append&quot;&gt;&lt;br/&gt;redirect file ```cat_original.txt``` content with number-line into file ```cat_back.txt``` :

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cat -n cat_original.txt &amp;gt; cat_backup.txt&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;clear ```cat_original.txt``` content :

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cat /dev/null &amp;gt; cat_original.txt&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- **chmod**

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:linux houbinbin$ chmod&lt;br/&gt;usage: chmod [-fhv] [-R [-H | -L | -P]] [-a | +a | =a [i][# [ n]]] mode|entry file &amp;hellip;&lt;br/&gt; chmod [-fhv] [-R [-H | -L | -P]] [-E | -C | -N | -i | -I] file &amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;mode param desc:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[ugoa&amp;hellip;][[+-=][rwxX]&amp;hellip;][,&amp;hellip;]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;```
u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是
+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限
r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;cmp&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Compare diff between two files.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;diff&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Compare diff between two files.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;|&amp;quot;表示前后2个文件内容有不同
&amp;quot;&amp;lt;&amp;quot;表示后面文件比前面文件少了1行内容
&amp;quot;&amp;gt;&amp;quot;表示后面文件比前面文件多了1行内容
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:linux houbinbin$ diff cat_original.txt cat_backup.txt
4a5
&amp;gt;      5
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;file&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;get the file info&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:linux houbinbin$ file cat_original.txt
cat_original.txt: ASCII text
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;find&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Linux find命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，&lt;br/&gt;不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#定时执行任务&quot; name=&quot;定时执行任务&quot;&gt;&lt;/a&gt;定时执行任务&lt;/h1&gt;</description>
    </item>
    <item>
      <title>Shell</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-12-Shell.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#shell&quot; name=&quot;shell&quot;&gt;&lt;/a&gt;Shell&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Shell Types&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Bourne Shell（/usr/bin/sh or /bin/sh）&lt;/li&gt;
  &lt;li&gt;Bourne Again Shell（/bin/bash）&lt;/li&gt;
  &lt;li&gt;C Shell（/usr/bin/csh）&lt;/li&gt;
  &lt;li&gt;K Shell（/usr/bin/ksh）&lt;/li&gt;
  &lt;li&gt;Shell for Root（/sbin/sh）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Usually, we not distinct &lt;code&gt;Bourne Shell&lt;/code&gt; and &lt;code&gt;Bourne Again Shell&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.runoob.com/linux/linux-shell.html&quot;&gt;Shell zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://c.biancheng.net/cpp/shell/&quot;&gt;Shell zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; create-&amp;gt;edit: vi&lt;br/&gt; edit-&amp;gt;run: ./&lt;br/&gt; run-&amp;gt;why:?&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Create &lt;code&gt;hello.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ pwd
/Users/houbinbin/code/shell
houbinbindeMacBook-Pro:shell houbinbin$ vi hello.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Edit the content of &lt;code&gt;hello.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
echo &amp;quot;hello world!&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run the &lt;code&gt;hello.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh hello.sh
hello world!
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;another way to run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./hello.sh
-bash: ./hello.sh: Permission denied
houbinbindeMacBook-Pro:shell houbinbin$ chmod +x ./hello.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./hello.sh
hello world!
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;mean of &lt;code&gt;hello.sh&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&quot;#!``` tells OS which Interpreter to use, ```echo``` to print info in window.&quot;&gt;&lt;br/&gt;&amp;gt; read from input

- ```hello_name.sh```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/bash&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#author-houbinbin&quot; name=&quot;author-houbinbin&quot;&gt;&lt;/a&gt;Author:houbinbin&lt;/h1&gt;
&lt;p&gt;echo &amp;ldquo;Please enter your name?&amp;rdquo;&lt;br/&gt;read NAME&lt;br/&gt;echo &amp;ldquo;Hello, $NAME!&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi hello_name.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh hello_name.sh&lt;br/&gt;Please enter your name?&lt;br/&gt;houbinbin&lt;br/&gt;Hello, houbinbin!&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Shell Var

&amp;lt;uml&amp;gt;
    Title: Shell Var
    Define-&amp;gt;ReDefine:
    ReDefine-&amp;gt;Use:
    Use-&amp;gt;Remove:
&amp;lt;/uml&amp;gt;

&amp;gt; Define

- **No Blank** between var name and ```=```

- Start with [a-zA-Z], name can with ```_```

- **No punctuation mark** and no key word

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;my_name=&amp;ldquo;houbinbin&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Redefine

A defined var can be re-defined

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;my_name=&amp;ldquo;houbinbin&amp;rdquo;&lt;br/&gt;my_name=&amp;ldquo;ryo&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Use

- use_var.sh

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;my_name=&amp;ldquo;houbinbin&amp;rdquo;&lt;br/&gt;echo $my_name&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi use_var.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh use_var.sh&lt;br/&gt;houbinbin&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; ReadOnly

A ```readonly``` var can&amp;#39;t be change.

- readonly_var.sh

&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#bin-bash&quot; name=&quot;bin-bash&quot;&gt;&lt;/a&gt;!/bin/bash&lt;/h1&gt;
&lt;p&gt;my_name=&amp;ldquo;houbinbin&amp;rdquo;&lt;br/&gt;readonly my_name&lt;/p&gt;
&lt;p&gt;my_name=&amp;ldquo;new name&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi readonly_var.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh readonly_var.sh&lt;br/&gt;readonly_var.sh: line 4: my_name: readonly variable&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;gt; Remove

Use ```unset``` to remove define var.

- unset_var.sh

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/bash&lt;/p&gt;
&lt;p&gt;my_name=&amp;ldquo;ryo&amp;rdquo;&lt;br/&gt;unset my_name&lt;br/&gt;echo ${my_name}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi unset_var.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh unset_var.sh&lt;/p&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Special Var

| Command       |   Desc        |
| :------------ |:----------    |
|$0	|当前脚本的文件名|
|$n	|传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。|
|$#	|传递给脚本或函数的参数个数。|
|$*	|传递给脚本或函数的所有参数。|
|$@	|传递给脚本或函数的所有参数。被双引号(&amp;quot; &amp;quot;)包含时，与 $* 稍有不同，下面将会讲到。|
|$?	|上个命令的退出状态，或函数的返回值。|
|$$	|当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。|


- special_var.sh

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/bash&lt;br/&gt;echo &amp;ldquo;File Name: $0&amp;rdquo;&lt;br/&gt;echo &amp;ldquo;First Parameter : $1&amp;rdquo;&lt;br/&gt;echo &amp;ldquo;First Parameter : $2&amp;rdquo;&lt;br/&gt;echo &amp;ldquo;Quoted Values: $@&amp;rdquo;&lt;br/&gt;echo &amp;ldquo;Quoted Values: $*&amp;rdquo;&lt;br/&gt;echo &amp;ldquo;Total Number of Parameters : $#&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi special_var.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh special_var.sh hello world my&lt;br/&gt;File Name: special_var.sh&lt;br/&gt;First Parameter : hello&lt;br/&gt;First Parameter : world&lt;br/&gt;Quoted Values: hello world my&lt;br/&gt;Quoted Values: hello world my&lt;br/&gt;Total Number of Parameters : 3&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; ```$*```  and ```$@```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;但是当它们被&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;包含时，&lt;code&gt;$*&lt;/code&gt; 会将所有的参数作为一个整体，以&amp;ldquo;$1 $2 … $n&amp;rdquo;的形式输出所有参数；&lt;code&gt;$@&lt;/code&gt; 会将各个参数分开，以&amp;ldquo;$1&amp;rdquo; &amp;ldquo;$2&amp;rdquo; … &amp;ldquo;$n&amp;rdquo; 的形式输出所有参数。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;diff_demo.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

# Author:houbinbin

echo &amp;quot;display of \$* &amp;quot;

for i in &amp;quot;$*&amp;quot;;
do
    echo $i
done

echo &amp;quot;display of \$@ &amp;quot;
for i in &amp;quot;$@&amp;quot;;
do
    echo $i
done
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi diff_demo.sh
houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh diff_demo.sh 1 2 3 4
display of $*
1 2 3 4
display of $@
1
2
3
4
houbinbindeMacBook-Pro:shell houbinbin$
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#shell-array&quot; name=&quot;shell-array&quot;&gt;&lt;/a&gt;Shell Array&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Title: Shell Array&lt;br/&gt; Define-&amp;gt;Read:&lt;br/&gt; Read-&amp;gt;Read All:&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Define&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Shell only support &lt;strong&gt;single-dimensional&lt;/strong&gt; arrays. &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;array=(value1 value2 ... valuen)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;array.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# array demo
array=(a b &amp;quot;c&amp;quot; d)

# another way to define array

array_two[0]=a
array_two[1]=b
array_two[2]=&amp;quot;c&amp;quot;
array_two[3]=d
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Read&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can read from array like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;${array_name[index]}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;read_array.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# read from array

array=(a b c &amp;quot;d&amp;quot;)
echo &amp;quot;First elem is ${array[0]}&amp;quot;
echo &amp;quot;Second elem is ${array[1]}&amp;quot;
echo &amp;quot;Third elem is ${array[2]}&amp;quot;
echo &amp;quot;Last elem is ${array[-1]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~/code/shell# chmod +x read_array.sh 
root@iZuf60ahcky4k4nfv470juZ:~/code/shell# ./read_array.sh 
First elem is a
Second elem is b
Third elem is c
Last elem is d
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Read all elem&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We can use &lt;code&gt;*&lt;/code&gt; or &lt;code&gt;@&lt;/code&gt; to get all elem in array.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;read_all_array.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh
# Read all elem in array

array=(a b c d)
echo &amp;quot;All elem in array: ${array[*]}&amp;quot;
echo &amp;quot;All elem in array: ${array[@]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~/code/shell# chmod +x read_all_array.sh 
root@iZuf60ahcky4k4nfv470juZ:~/code/shell# ./read_all_array.sh 
All elem in array: a b c d
All elem in array: a b c d
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Array Length&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We can use &lt;code&gt;${#array[*]}&lt;/code&gt; or &lt;code&gt;${#array[@]}&lt;/code&gt;, to get the array size.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;array_length.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;!#/bin/sh
# array length

array=(a b c d E)
echo &amp;quot;the size of array is: ${#array[*]}&amp;quot;
echo &amp;quot;the size of array is: ${#array[@]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;root@iZuf60ahcky4k4nfv470juZ:~/code/shell# chmod +x array_length.sh 
root@iZuf60ahcky4k4nfv470juZ:~/code/shell# ./array_length.sh 
the size of array is: 5
the size of array is: 5
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#operator&quot; name=&quot;operator&quot;&gt;&lt;/a&gt;Operator&lt;/h1&gt;
&lt;p&gt;The original bash not support math oper, we can use &lt;code&gt;expr&lt;/code&gt; instead.&lt;/p&gt;
&lt;p&gt;Attention:&lt;/p&gt;
&lt;p&gt;1.expr is in &lt;strong&gt;`&lt;/strong&gt;, not &lt;strong&gt;&amp;rsquo;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2.expr between numbers should split with blank.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;num_oper.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

# num oper

value1=10
value2=20
sum=`expr $value1 + $value2`
echo &amp;quot;sum of $value1 and $value2 is: $sum&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ chmod +x num_oper.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./ num_oper.sh
sum of 10 and 20 is: 30
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Math operator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Suppose: &lt;code&gt;$a&lt;/code&gt; is 10, &lt;code&gt;$b&lt;/code&gt; is 20&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Demo &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;+ &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;加法 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;expr $a + $b&lt;/code&gt; 结果为 30&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;|- |减法 | &lt;code&gt;expr $a - $b&lt;/code&gt; 结果为 -10|&lt;br/&gt;|* |乘法 | &lt;code&gt;expr $a \* $b&lt;/code&gt; 结果为 200|&lt;br/&gt;|/ |除法 | &lt;code&gt;expr $b / $a&lt;/code&gt; 结果为 2|&lt;br/&gt;|% |取余 | &lt;code&gt;expr $b % $a&lt;/code&gt; 结果为 0|&lt;br/&gt;|= |赋值 | a=$b 将把变量 b 的值赋给 a|&lt;br/&gt;|== |用于比较两个数字，相同则返回 true| [ $a == $b ] 返回 false|&lt;br/&gt;|!= |用于比较两个数字，不相同则返回 true| [ $a != $b ] 返回 true|&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Relation operator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Only support number or number string.&lt;/p&gt;
&lt;p&gt;Suppose: &lt;code&gt;$a&lt;/code&gt; is 10, &lt;code&gt;$b&lt;/code&gt; is 20&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Demo &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-eq&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;equals &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -eq $b ] false&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-ne&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;not equals &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -ne $b ] true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-gt&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;great than &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -gt $b ] false&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-lt&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;less than &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -lt $b ] true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-ge&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;great equals &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -ge $b ] false&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-le&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;less equals &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a -le $b ] true&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;Bool operator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Demo &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;! &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;not &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ ! false ] true &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-o &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;or &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ true -o false ] true &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-a &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;and &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ true and false ] false &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;and &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ true and false ] false &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;||&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;or &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ true and false ] false &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;String operator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Suppose: &lt;code&gt;$a&lt;/code&gt; is &amp;ldquo;10&amp;rdquo;, &lt;code&gt;$b&lt;/code&gt; is &amp;ldquo;20&amp;rdquo;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Demo &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;= &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测两个字符串是否相等，相等返回 true&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a = $b ] 返回 false。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;!= &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测两个字符串是否相等，不相等返回 true&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a != $b ] 返回 true。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-z &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测字符串长度是否为0，为0返回 true&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ -z $a ] 返回 false。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-n &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测字符串长度是否为0，不为0返回 true&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ -n $a ] 返回 true。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;str&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测字符串是否为空，不为空返回 true&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;[ $a ] 返回 true。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
  &lt;p&gt;File Test operator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Command &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-b file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否是块设备文件，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-c file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否是字符设备文件，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-d file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否是目录，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-f file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-g file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否设置了 SGID 位，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-k file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-p file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否是具名管道，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-u file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否设置了 SUID 位，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-r file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否可读，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-w file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否可写，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-x file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否可执行，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-s file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件是否为空（文件大小是否大于0），不为空返回 true&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;-e file&lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;检测文件（包括目录）是否存在，如果是，则返回 true&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
  &lt;li&gt;file_test_oper.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bash/sh

# file test operator

file=&amp;quot;/Users/houbinbin/code/shell/file_test_oper.sh&amp;quot;

if [ -r $file ]
then
   echo &amp;quot;文件可读&amp;quot;
else
   echo &amp;quot;文件不可读&amp;quot;
fi
if [ -w $file ]
then
   echo &amp;quot;文件可写&amp;quot;
else
   echo &amp;quot;文件不可写&amp;quot;
fi
if [ -x $file ]
then
   echo &amp;quot;文件可执行&amp;quot;
else
   echo &amp;quot;文件不可执行&amp;quot;
fi
if [ -f $file ]
then
   echo &amp;quot;文件为普通文件&amp;quot;
else
   echo &amp;quot;文件为特殊文件&amp;quot;
fi
if [ -d $file ]
then
   echo &amp;quot;文件是个目录&amp;quot;
else
   echo &amp;quot;文件不是个目录&amp;quot;
fi
if [ -s $file ]
then
   echo &amp;quot;文件不为空&amp;quot;
else
   echo &amp;quot;文件为空&amp;quot;
fi
if [ -e $file ]
then
   echo &amp;quot;文件存在&amp;quot;
else
   echo &amp;quot;文件不存在&amp;quot;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh file_test_oper.sh
文件可读
文件可写
文件不可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#shell-order&quot; name=&quot;shell-order&quot;&gt;&lt;/a&gt;Shell Order&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;echo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;echo [-e] string
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;printf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;just like printf() of &lt;code&gt;C&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;printf  format-string  [arguments...]
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;test&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;test_num.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

num1=100
num2=100
if test $[num1] -eq $[num2]
then
    echo &amp;#39;两个数相等！&amp;#39;
else
    echo &amp;#39;两个数不相等！&amp;#39;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh test_num.sh
两个数相等！
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test_str.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

num1=&amp;quot;runoob&amp;quot;
num2=&amp;quot;runoob&amp;quot;
if test num1=num2
then
    echo &amp;#39;两个字符串相等!&amp;#39;
else
    echo &amp;#39;两个字符串不相等!&amp;#39;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh test_str.sh
两个字符串相等!
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;test_file.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

if test -e /bin/bash
then
    echo &amp;#39;文件已存在!&amp;#39;
else
    echo &amp;#39;文件不存在!&amp;#39;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ /bin/sh test_file.sh
文件已存在!
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#flow-control&quot; name=&quot;flow-control&quot;&gt;&lt;/a&gt;Flow Control&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;If Else&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;if&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;if condition
then
    command1
    command2
    ...
    commandN
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;if else&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;if condition
then
    command1
    command2
    ...
    commandN
else
    command
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;if else-if else&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;if condition1
then
    command1
elif condition2
then
    command2
else
    commandN
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo &amp;quot;please enter your age&amp;quot;
read age

if [[ $age -le 0 ||  $age -ge 100 ]]
then
echo &amp;quot;that&amp;#39;s crazy!&amp;quot;

elif [ $age -le 20 ]
then
echo &amp;quot;little boy&amp;quot;

elif [[ $age -gt 20 &amp;amp;&amp;amp;  $age -le 40 ]]
then
echo &amp;quot;good time&amp;quot;

else
echo &amp;quot;be yourself&amp;quot;

fi
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;for&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;for loop in &amp;quot;hello&amp;quot; &amp;quot;boy&amp;quot; &amp;quot;see&amp;quot; &amp;quot;you&amp;quot; &amp;quot;sometimes&amp;quot; &amp;quot;somewhere&amp;quot;
do
echo &amp;quot;the word is $loop&amp;quot;
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ chmod +x for.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./for.sh
the word is hello
the word is boy
the word is see
the word is you
the word is sometimes
the word is somewhere
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;While&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;while condition
do
    command
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# while demo

val=1
while( $val &amp;lt; 5 )
do
    echo &amp;quot;val: $val&amp;quot;
    let &amp;quot;val++&amp;quot;
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./while.sh
val: 1
val: 2
val: 3
val: 4
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;case&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;case val in
mode1)
    command1
    command2
    ...
    commandN
    ;;
mode2）
    command1
    command2
    ...
    commandN
    ;;
esac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# case demo

echo &amp;quot;please enter a num(1-4)&amp;quot;

echo you enter:

read num

case $num in
1)
    echo &amp;quot;Enter one&amp;quot;
    ;;
2)
    echo &amp;quot;Enter two&amp;quot;
    ;;
3)
    echo &amp;quot;Enter three&amp;quot;
    ;;
4)
    echo &amp;quot;Enter four&amp;quot;
    ;;

*)
    echo &amp;quot;Your enter is out of range&amp;quot;
    ;;
esac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi case.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./case.sh
please enter a num(1-4)
you enter:
1
Enter one
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;beak&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# break demo

for num in 1 2 3 4 5
do
    if [ $num -eq 4 ]
    then
    break
    fi
    echo &amp;quot;num is: $num&amp;quot;
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./break.sh
num is: 1
num is: 2
num is: 3
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;continue&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# continue demo

for num in 1 2 3 4 5
do
    if [ $num -eq 4 ]
    then
    continue
    fi
    echo &amp;quot;num is: $num&amp;quot;
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./continue.sh
num is: 1
num is: 2
num is: 3
num is: 5
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#func&quot; name=&quot;func&quot;&gt;&lt;/a&gt;Func&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;[ function ] funname [()]

{

    action;

    [return int;]

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# function demo

firstFunc() {
    echo &amp;quot;This is my first shell function.&amp;quot;
}

echo &amp;quot;function start&amp;quot;
firstFunc
echo &amp;quot;function end&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi function.sh
houbinbindeMacBook-Pro:shell houbinbin$ chmod +x function.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./function.sh
function start
This is my first shell function.
function end
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;function with return value&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh


# func with return val

funcWithReturnVal() {
    echo &amp;quot;enter first num: &amp;quot;
    read firstNum
    echo &amp;quot;enter second num: &amp;quot;
    read secondNum
    return $(($firstNum+$secondNum))
}

echo &amp;quot;function with return value start:&amp;quot;
funcWithReturnVal
returnVal=$?
echo &amp;quot;result: $returnVal&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./funcWithReturnVal.sh
function with return value start:
enter first num:
1
enter second num:
2
result: 3
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;function with parameters&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

# function with param

hasParam() {
    echo &amp;quot;all param is $*&amp;quot;

    if [ $# -gt 0 ]
    then
    echo &amp;quot;has param&amp;quot;
    return 1
    else
    echo &amp;quot;has no param&amp;quot;
    return 0
    fi
}

hasParam 1 2 3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ vi funcWithParam.sh
houbinbindeMacBook-Pro:shell houbinbin$ chmod +x funcWithParam.sh
houbinbindeMacBook-Pro:shell houbinbin$ ./funcWithParam.sh
all param is 1 2 3
has param
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;$n``` to get the param value, when n &gt;= 10, use ```${n}```!&quot;&gt;&lt;br/&gt;# File Include

- data.sh

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/sh&lt;/p&gt;
&lt;p&gt;name=&amp;ldquo;houbinbin&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- include.sh

use ```. ./data.sh``` or ```source ./data.sh``` to include the file

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;#!/bin/sh&lt;/p&gt;
&lt;p&gt;source ./data.sh&lt;/p&gt;
&lt;p&gt;echo &amp;ldquo;the name is: $name&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;run

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ chmod +x include.sh&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ ./include.sh&lt;br/&gt;the name is: houbinbin&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# Redirect

| Command       |   Desc        |
| :------------ |:----------    |
| command &amp;gt; file  | out-&amp;gt;file    |
| command &amp;lt; file  | in-&amp;gt;file     |
| command &amp;gt;&amp;gt; file | out append-&amp;gt;file |
| n &amp;gt; file        | file descriptor `n` -&amp;gt;file |
| n &amp;gt;&amp;gt; file        | file descriptor `n` append-&amp;gt;file |
| n &amp;gt;&amp;amp; m           | out file m&amp;amp;n merge |
| n &amp;lt;&amp;amp; m           | in file m&amp;amp;n merge  |
| &amp;lt;&amp;lt; tag           | content between tag for input |

&amp;gt; File descriptor

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0 //stdIn&lt;br/&gt;1 //stdOut&lt;br/&gt;2 //stdErr&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- Out Redirect

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ ls &amp;gt; ls_file&lt;br/&gt;houbinbindeMacBook-Pro:shell houbinbin$ cat ls_file&lt;br/&gt;break.sh&lt;br/&gt;case.sh&lt;br/&gt;continue.sh&lt;br/&gt;data.sh&lt;br/&gt;diff_demo.sh&lt;br/&gt;file_test_oper.sh&lt;br/&gt;for.sh&lt;br/&gt;funcWithParam.sh&lt;br/&gt;funcWithReturnVal.sh&lt;br/&gt;function.sh&lt;br/&gt;hello.sh&lt;br/&gt;hello_name.sh&lt;br/&gt;if_else.sh&lt;br/&gt;include.sh&lt;br/&gt;ls_file&lt;br/&gt;num_oper.sh&lt;br/&gt;readonly_var.sh&lt;br/&gt;special_var.sh&lt;br/&gt;test_file.sh&lt;br/&gt;test_num.sh&lt;br/&gt;unset_var.sh&lt;br/&gt;use_var.sh&lt;br/&gt;while.sh&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;- In Redirect

We want to calc the line of file ```ls_file```

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:shell houbinbin$ wc -l ls_file&lt;br/&gt; 23 ls_file&lt;br/&gt;```&lt;/p&gt;</description>
    </item>
    <item>
      <title>Jenkins Plugin</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-14-jenkins-plugin.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#junit-plugin&quot; name=&quot;junit-plugin&quot;&gt;&lt;/a&gt;JUnit Plugin&lt;/h1&gt;
&lt;p&gt;单元测试检测&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://wiki.jenkins-ci.org/display/JENKINS/JUnit+Plugin&quot;&gt;JUnit Plugin&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://m.blog.csdn.net/article/details?id=9949309&quot;&gt;JUnit blog&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.myexception.cn/cvs-svn/1508681.html&quot;&gt;JUnit Test Build&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Install &lt;code&gt;junit plugin&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Not skip the test&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Edit &lt;code&gt;pom.xml&lt;/code&gt; in your project&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${junit.version}&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#sonar-plugin&quot; name=&quot;sonar-plugin&quot;&gt;&lt;/a&gt;Sonar Plugin&lt;/h1&gt;
&lt;p&gt;单元质量检测&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/xinluke/article/details/53035583&quot;&gt;sonar integration&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://wcp88888888.iteye.com/blog/2211605&quot;&gt;sonar problems&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;Prepare&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Install &lt;code&gt;SonarQube&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Install &lt;code&gt;SonarQube Plugin&lt;/code&gt; in Jenkins&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
  &lt;p&gt;配置sonar server&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Jenkins–》系统设置–》SonarQube servers&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Server Version &lt;strong&gt;5.2&lt;/strong&gt; or before: usr/pwd Default is &lt;code&gt;admin/admin&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Server authentication token&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
  &lt;li&gt;生成 token&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置-&amp;gt;权限-&amp;gt;用户-&amp;gt;Tokens&lt;/p&gt;
&lt;p&gt;Enter a name, and generate one:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;30a4d56f3130d246818ed384ece7d15c56ae8c85``` named **admin**, copy this into **Server authentication token**&quot;&gt;&lt;br/&gt;![sonar]({{ site.url}}/static/app/img/jenkins/2016-12-10-jenkins-sonar.png)


&amp;gt; 配置sonar scanner

系统管理–》Global Tool Configuration

![scanner]({{ site.url}}/static/app/img/jenkins/2016-12-10-jenkins-sonar-scanner.png)


&amp;gt; 配置项目

要让jenkins编译完成，自动将代码传给sonarqube进行分析，则要配置jenkins中的目标项目。
选择自己的project–》配置–》add pre-build step(构建)-》增加构建步骤-&amp;gt;Execute SonarQube Scanner


在项目的根目录创建文件 ```sonar-project.properties```, **Path to project properties** 默认路径就是这个。内容如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sonar.projectKey=blog&lt;br/&gt;sonar.projectName=blog&lt;br/&gt;sonar.projectVersion=1.0&lt;br/&gt;sonar.sources=src/main/java&lt;br/&gt;sonar.language=java&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;或者直接将此内容添加在**Analysis properties**中。


![scanner]({{ site.url}}/static/app/img/jenkins/2016-12-10-jenkins-sonar-executor.png)


- Edit the ```pom.xml``` in your project:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; org.sonarsource.scanner.maven&lt;br/&gt; sonar-maven-plugin&lt;br/&gt; 3.1.1&lt;br/&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&amp;lt;label class=&amp;quot;label label-danger&amp;quot;&amp;gt;Error&amp;lt;/label&amp;gt;

一直卡在这个问题

&amp;gt; Unpacking https://repo1.maven.org/maven2/org/sonarsource/scanner/cli/sonar-scanner-cli/2.8/sonar-scanner-cli-2.8.zip to /Users/houbinbin/.jenkins/tools/hudson.plugins.sonar.SonarRunnerInstallation/SonarQube_Scanner on Jenkins


也就是要将这个文件下载下来,并解压在目标路径。手动操作,解决。



# cobertura

单元测试覆盖率

&amp;gt; [Cobertura+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Cobertura+Plugin)

&amp;gt; [cobertura](http://blog.csdn.net/yaominhua/article/details/40684647)

&amp;gt; [代码覆盖率](http://blog.csdn.net/wangmuming/article/details/23455947)

1. Install ```Cobertura plugin``` plugin

2. 构建时添加目标(Goals)如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;clean cobertura:cobertura package&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;3. 构建后操作-》Publish Cobertura Coverage Report

Set **Cobertura xml report pattern** as following:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;**/target/site/cobertura/coverage.xml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;4. Edit the ```pom.xml``` in your project

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; org.codehaus.mojo&lt;br/&gt; findbugs-maven-plugin&lt;br/&gt; 3.0.1&lt;br/&gt; &lt;br/&gt; High&lt;br/&gt; Default&lt;br/&gt; true&lt;br/&gt; true&lt;br/&gt; true&lt;br/&gt; &lt;br/&gt; &lt;br/&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;# findbugs

找寻代码中的BUG

&amp;gt; [FindBugs+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin)

&amp;gt; [findbugs_zh_CN](http://blog.csdn.net/fighterandknight/article/details/51424257)

1. Install ```FindBugs plugin``` plugin in jenkins

2. 构建时添加目标(Goals)如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;findbugs:findbugs&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;注意: 使用findbugs务必保证文件已被解析为```.class```, 即已经被 ```maven compile```

3. 构建后操作-》Publish FindBugs analysis results

**FindBugs results** 保持默认即可。


# javadoc

&amp;gt; [Javadoc+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin)


1. Install ```javadoc plugin``` plugin in jenkins


2. Configure Jenkins job:

In Build section, Goals and options line add:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;javadoc:javadoc&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;3. publish javadoc

Define the **Javadoc directory**

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;target/site/apidocs/&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;4. Edit the ```pom.xml``` in your project

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; org.apache.maven.plugins&lt;br/&gt; maven-javadoc-plugin&lt;br/&gt; 2.10.2&lt;br/&gt; &lt;br/&gt; true&lt;br/&gt; -Xdoclint:none&lt;br/&gt; &lt;br/&gt;&lt;br/&gt;````&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;aggregate&amp;gt;true&amp;lt;/aggregate&amp;gt;&lt;/code&gt; 多模块&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;&amp;lt;additionalparam&amp;gt;-Xdoclint:none&amp;lt;/additionalparam&amp;gt;&lt;/code&gt; JDK8 对文档要求特别严格,使用这个偷懒。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#blueocean&quot; name=&quot;blueocean&quot;&gt;&lt;/a&gt;BlueOcean&lt;/h1&gt;
&lt;p&gt;Blue Ocean is a new project that rethinks the user experience of Jenkins. Designed from the ground up for Jenkins Pipeline&lt;br/&gt;and compatible with Freestyle jobs, Blue Ocean reduces clutter and increases clarity for every member of your team.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://jenkins.io/projects/blueocean/&quot;&gt;blueocean&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Install &lt;code&gt;BlueOcean beta&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Click &lt;code&gt;Open Blue Ocean&lt;/code&gt; to have a travel~~~&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Jenkins</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-14-jenkins.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#jenkins&quot; name=&quot;jenkins&quot;&gt;&lt;/a&gt;Jenkins&lt;/h1&gt;
&lt;p&gt;The leading open source automation server, Jenkins provides hundreds of plugins to support building,&lt;br/&gt;deploying and automating any project.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://jenkins.io/index.html&quot;&gt;jenkins&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.yiibai.com/jenkins/jenkins_unit_testing.html&quot;&gt;jenkins zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/zz0412/tag/jenkins/&quot;&gt;blog系列教程 zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt; download-&amp;gt;install:&lt;br/&gt; install-&amp;gt;start:&lt;br/&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#download&quot; name=&quot;download&quot;&gt;&lt;/a&gt;Download&lt;/h1&gt;
&lt;p&gt;LTS (Long-Term Support) releases are chosen every 12 weeks from the stream of regular releases as the stable release for that time period.&lt;/p&gt;
&lt;p&gt;Download the war, renamed &lt;code&gt;ROOT.war&lt;/code&gt; and put it into&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/it/tools/tomcat/tomcat8/webapps
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;start tomcat&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ pwd
/Users/houbinbin/it/tools/tomcat/tomcat8/bin
houbinbindeMacBook-Pro:bin houbinbin$ ./startup.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;localhost:8080
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;uninstall&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use &lt;code&gt;./&lt;/code&gt; to the command shell.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   /Library/Application Support/Jenkins/Uninstall.command
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:Jenkins houbinbin$ ./Uninstall.command


Jenkins uninstallation script

The following commands are executed using sudo, so you need to be logged
in as an administrator. Please provide your password when prompted.

+ sudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist
+ sudo rm /Library/LaunchDaemons/org.jenkins-ci.plist
+ sudo rm -rf /Applications/Jenkins &amp;#39;/Library/Application Support/Jenkins&amp;#39; /Library/Documentation/Jenkins
+ sudo rm -rf /Users/Shared/Jenkins
sudo: cannot get working directory
+ sudo rm -rf /var/log/jenkins
sudo: cannot get working directory
+ sudo rm -f /etc/newsyslog.d/jenkins.conf
sudo: cannot get working directory
+ sudo dscl . -delete /Users/jenkins
sudo: cannot get working directory
+ sudo dscl . -delete /Groups/jenkins
sudo: cannot get working directory
+ pkgutil --pkgs
+ grep &amp;#39;org\.jenkins-ci\.&amp;#39;
+ xargs -n 1 sudo pkgutil --forget
sudo: cannot get working directory
Forgot package &amp;#39;org.jenkins-ci.documentation.pkg&amp;#39; on &amp;#39;/&amp;#39;.
sudo: cannot get working directory
Forgot package &amp;#39;org.jenkins-ci.jenkins.osx.pkg&amp;#39; on &amp;#39;/&amp;#39;.
sudo: cannot get working directory
Forgot package &amp;#39;org.jenkins-ci.jenkins2191.postflight.pkg&amp;#39; on &amp;#39;/&amp;#39;.
sudo: cannot get working directory
Forgot package &amp;#39;org.jenkins-ci.launchd-jenkins.pkg&amp;#39; on &amp;#39;/&amp;#39;.
sudo: cannot get working directory
Forgot package &amp;#39;org.jenkins-ci.support.pkg&amp;#39; on &amp;#39;/&amp;#39;.
+ set +x

Jenkins has been uninstalled.
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#get-start&quot; name=&quot;get-start&quot;&gt;&lt;/a&gt;Get Start&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Verify password&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;copy &lt;code&gt;/Users/houbinbin/.jenkins/secrets/initialAdminPassword&lt;/code&gt; content into password input.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Install plugins&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Create user&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;after this you can see:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/jenkins/2016-10-15-jenkins.png&quot; alt=&quot;jenkines&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Default user config place:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/.jenkins/users/${username}/config.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#config-jenkins&quot; name=&quot;config-jenkins&quot;&gt;&lt;/a&gt;Config Jenkins&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Config java,git,maven&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Get need first&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、&lt;code&gt;which&lt;/code&gt; can get the execute path&lt;/p&gt;
&lt;p&gt;2、If you had config the path before, like &lt;code&gt;$M3_HOME&lt;/code&gt; in &lt;code&gt;~/.bash_profile&lt;/code&gt;, you can use &lt;code&gt;echo $M3_HOME&lt;/code&gt; to get the home path&lt;/p&gt;
&lt;p&gt;3、For Java, we can use &lt;code&gt;/usr/libexec/java_home&lt;/code&gt; to get it&amp;rsquo;s path&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ which mvn
/usr/local/maven/maven3.3.9/bin/mvn
houbinbindeMacBook-Pro:~ houbinbin$ echo $M3_HOME
/usr/local/maven/maven3.3.9
houbinbindeMacBook-Pro:bin houbinbin$ which git
/usr/local/bin/git
houbinbindeMacBook-Pro:bin houbinbin$ which java
/usr/bin/java
houbinbindeMacBook-Pro:~ houbinbin$ /usr/libexec/java_home
/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Set path&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;系统管理-》Global Tool Configuration``` or ```http://localhost:8080/configureTools/```&quot;&gt;&lt;br/&gt;1、add jdk


In mac:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;JDK别名: JDK8&lt;br/&gt;JAVA_HOME: /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;In ubuntu:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;$ which java&lt;br/&gt;/home/hbb/tool/jdk/jdk1.8.0_112/bin/java&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;设置

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;JAVA_HOME: /home/hbb/tool/jdk/jdk1.8.0_112&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;in this way, add ```git``` and ```mvn```

2、add git

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Name: git&lt;br/&gt;Path to Git executable: /usr/local/bin/git&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;3、add mvn

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;name: maven3&lt;br/&gt;MAVEN_HOME: /usr/local/maven/maven3.3.9&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;![tools]({{site.url}}/static/app/img/jenkins/2016-10-15-config-tools.png)



&amp;gt; Config Mail

[mail](http://blog.csdn.net/littlechang/article/details/8706322)

[config mail](http://tanglei528.blog.163.com/blog/static/4335339920151263051521/)

# Create Job

- Create

Enter an item name *blog* for example, select **构建一个自由风格的软件项目**

- Config

1、源码管理

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Git&lt;/p&gt;
&lt;p&gt;Repository URL: &lt;a href=&quot;https://github.com/houbb/blog&quot;&gt;https://github.com/houbb/blog&lt;/a&gt;&lt;br/&gt;Credentials: usr/pwd&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;2、构建触发器
Choose  **Build when a change is pushed to GitHub** and **Poll SCM**

Set [Schedule](http://www.cnblogs.com/linjiqin/archive/2013/07/08/3178452.html) for  **Poll SCM**

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;*/5 * * * *&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;means re-flush each five minutes.

对于所有的任务日程表，jenkins采用cron-style语法，包含5个字段，字段之间使用空格隔开，格式如下
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MINUTE HOUR DOM MANTH DOW&lt;br/&gt;MINUTE：0-59 HOUR：0-23 DOM：1-31 MONTH：1-12 DOW：0-7 ，其中0,7都是表示周日 ，以下有几个简化字符&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1、“*” 表示在该字段所有可能出现的值
2、也可以使用连字符“-”定义范围，如在DOW字段上定义1-5，表示周一至周五
3、使用正斜杠符号定义一个跳过一个范围，如在MINUTE字段上定义 */5  表示每五分钟的意思
4、使用逗号分隔一个字段表示一系列有效值，如HOUR 字段定义 12,18 表示12点与18点

3、选择【丢弃旧的构建】，这里主要是为节省磁盘空间而考虑的，因为每次构建后，jenkins都会在jobs目录下为每个job下载，和创建相关数据，如打包后的jar等
- 保持构建的天数，这里我设置5，表示每个每次构建后的记录只有5天有效期
- 保持构建的最大个数，每个job只会保留最新的5次构建记录，这里需要提醒的是，如果之前有一次构建成功，那么jenkins会永远保留，当然也可以手动删除



4、构建触发器

勾选一下选项:

- Build whenever a SNAPSHOT dependency is built

- Build periodically

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;H 7 * * 1-7&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;- Build when a change is pushed to GitHub


5、构建

Invoke-top-level Maven Targets

Maven Version: maven3

Goals: clean site


# 参数化构建

&amp;gt; [blog](http://www.tuicool.com/articles/A3QBN3z)

1. Install ```Dynamic Parameter Plug-in``` in Jenkins


2. 参数化构建过程-&amp;gt;Dynamic Choice Parameter

- **Name** values ```release_branch```
- **Choices Script** values:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;def ver_keys = [ &amp;lsquo;bash&amp;rsquo;, &amp;lsquo;-c&amp;rsquo;, &amp;lsquo;cd /Users/houbinbin/.jenkins/workspace/framework; git pull&amp;gt;/dev/null; git branch -a|grep remotes|cut -d &amp;ldquo;/&amp;rdquo; -f3|sort -r |head -10 &amp;rsquo; ]&lt;br/&gt;ver_keys.execute().text.tokenize(&amp;lsquo;\n&amp;rsquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;命令简单解释:

到项目路径下,截取获取分支名称。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;houbinbindeMacBook-Pro:framework houbinbin$ pwd&lt;br/&gt;/Users/houbinbin/.jenkins/workspace/framework&lt;br/&gt;houbinbindeMacBook-Pro:framework houbinbin$ git branch -a&lt;br/&gt;* (HEAD detached at 00177f4)&lt;br/&gt; remotes/origin/master&lt;br/&gt; remotes/origin/release_1.0.1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;可优化点:

(1) ```/Users/houbinbin/.jenkins/workspace/framework``` 打开的路径,就是jenkins自带的 ```WORKSPACE```, 直接使用自测无效。愚蠢。。

(2) workspace 下项目必须在 jenkins 部署一次之后, 路径下才会保存。所以可以调整为本地存放代码的路径。



&amp;gt; 直接指定选项

参数化构建过程-&amp;gt;Choice

选项指定,一行为一个选项。


3. **Branches to build** -&amp;gt; **Branch Specifier (blank for &amp;#39;any&amp;#39;)** 内容指定为 ```$release_branch```

# Pipeline

Jenkins Pipeline is a suite of plugins which supports implementing and integrating continuous delivery pipelines into Jenkins.

To use Jenkins Pipeline, you will need:

- Jenkins 2.x or later (older versions back to 1.642.3 may work but are not recommended)
- Pipeline plugin

&amp;gt; Defining a Pipeline in the Web UI

1. Click **New Item** in Home Page

2. Enter an item name like ```pipeline-example```, choose **Pipeline**, and save.

3. In the Script define field of Pipeline, add this and save

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;node {&lt;br/&gt; echo &amp;ldquo;hello world&amp;rdquo;&lt;br/&gt;}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;4. Click **Build Now** to run.

5. Click the ```#1``` under the **Build History**, and Click the **Console Output**, you may see:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Started by user houbinbin&lt;br/&gt;[Pipeline] node&lt;br/&gt;Running on master in /Users/houbinbin/.jenkins/workspace/pipeline-example&lt;br/&gt;[Pipeline] {&lt;br/&gt;[Pipeline] echo&lt;br/&gt;hello world&lt;br/&gt;[Pipeline] }&lt;br/&gt;[Pipeline] // node&lt;br/&gt;[Pipeline] End of Pipeline&lt;br/&gt;Finished: SUCCESS&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;br/&gt;&lt;br/&gt;&amp;gt; Defining a Pipeline in SCM

Doc can find in [localhost:8888/pipeline-syntax/](localhost:8888/pipeline-syntax/)


# The Jenkins file

&amp;lt;uml&amp;gt;
    Create-&amp;gt;Build:
    Build-&amp;gt;Test:
&amp;lt;/uml&amp;gt;


&amp;gt; Creating a Jenkinsfile

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;groovy&quot;&gt;node {
    checkout scm

    /* .. snip .. */
    stage(&amp;#39;Build&amp;#39;) {
        sh &amp;#39;make&amp;#39; // &amp;lt;1&amp;gt;
        archiveArtifacts artifacts: &amp;#39;**/target/*.jar&amp;#39;, fingerprint: true // &amp;lt;2&amp;gt;
    }

    /* .. snip .. */
    stage(&amp;#39;Test&amp;#39;) {
        /* `make check` returns non-zero on test failures,
         * using `true` to allow the Pipeline to continue nonetheless
         */
        sh &amp;#39;make check || true&amp;#39; // &amp;lt;1&amp;gt;
        junit &amp;#39;**/target/*.xml&amp;#39; // &amp;lt;2&amp;gt;
    }

    /* .. snip .. */
    stage(&amp;#39;Deploy&amp;#39;) {
        if (currentBuild.result == &amp;#39;SUCCESS&amp;#39;) { // &amp;lt;1&amp;gt;
            sh &amp;#39;make publish&amp;#39;
        }
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Examples&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>SonarQube</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-14-sonarQube.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#sonarqube&quot; name=&quot;sonarqube&quot;&gt;&lt;/a&gt;SonarQube&lt;/h1&gt;
&lt;p&gt;注意:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;新版要求jdk8+&lt;/li&gt;
  &lt;li&gt;新版要求mysql5.6+&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sonarqube.org/&quot;&gt;SonarQube&lt;/a&gt; is an open platform to manage code quality. As such, it covers the 7 axes of code quality:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/code-review/2016-10-14-sonar-qube-7axes.png&quot; alt=&quot;sonarQube&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.ibm.com/developerworks/cn/java/j-lo-sonar/&quot;&gt;sonar zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-windows&quot; name=&quot;install-in-windows&quot;&gt;&lt;/a&gt;Install in Windows&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.sonarqube.org/downloads/&quot;&gt;Download&lt;/a&gt; the sonar&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Run the &lt;code&gt;StartSonar.bat&lt;/code&gt; under &lt;strong&gt;sonarqube-6.1\bin\windows-x86-64&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;wrapper  | --&amp;gt; Wrapper Started as Console
wrapper  | Launching a JVM...
jvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org
jvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.
jvm 1    |
jvm 1    | WrapperSimpleApp: Unable to locate the class org.sonar.application.App: java.lang.UnsupportedClassVersionError: org/sonar/application/App : Unsupported major.minor version 52.0
jvm 1    |
jvm 1    | WrapperSimpleApp Usage:
jvm 1    |   java org.tanukisoftware.wrapper.WrapperSimpleApp {app_class} [app_arguments]
jvm 1    |
jvm 1    | Where:
jvm 1    |   app_class:      The fully qualified class name of the application to run.
jvm 1    |   app_arguments:  The arguments that would normally be passed to the
jvm 1    |                   application.
wrapper  | &amp;lt;-- Wrapper Stopped
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;My sonarqube version is &lt;strong&gt;6.1&lt;/strong&gt;, so we should know what we need:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://docs.sonarqube.org/display/SONAR/Requirements&quot;&gt;Requirements&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;JDK1.8 or higher&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&quot;&gt;Download&lt;/a&gt;&lt;br/&gt;and config &lt;code&gt;jdk1.8&lt;/code&gt; for sonar.&lt;/p&gt;
&lt;p&gt;You can correctly config the &lt;code&gt;jdk1.8&lt;/code&gt; environment, or directly set the java path in &lt;code&gt;sonarqube-6.1\conf\wrapper.conf&lt;/code&gt; &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Path to JVM executable. By default it must be available in PATH.
# Can be an absolute path, for example:
wrapper.java.command=D:\Program Files\Java\jdk1.8.0_102\bin\java.exe
#wrapper.java.command=java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and restart &lt;code&gt;StartSonar.bat&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wrapper  | --&amp;gt; Wrapper Started as Console
wrapper  | Launching a JVM...
jvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org
jvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.
jvm 1    |
jvm 1    | 2016.10.14 11:50:58 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory D:\Tools\sonar\sonarqube-6.1\temp
jvm 1    | 2016.10.14 11:50:58 INFO  app[][o.s.p.m.JavaProcessLauncher] Launch process[es]: D:\Program Files\Java\jdk1.8.0_102\jre\bin\java -Djava.awt.headless=true -Xmx1G -Xms256m -Xss256k -Djna.nosys=true -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+HeapDumpOnOutOfMemoryError -Djava.io.tmpdir=D:\Tools\sonar\sonarqube-6.1\temp -javaagent:D:\Program Files\Java\jdk1.8.0_102\jre\lib\management-agent.jar -cp ./lib/common/*;./lib/search/* org.sonar.search.SearchServer D:\Tools\sonar\sonarqube-6.1\temp\sq-process635522788444000175properties
jvm 1    | 2016.10.14 11:51:05 INFO  app[][o.s.p.m.Monitor] Process[es] is up
jvm 1    | 2016.10.14 11:51:05 INFO  app[][o.s.p.m.JavaProcessLauncher] Launch process[web]: D:\Program Files\Java\jdk1.8.0_102\jre\bin\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djruby.management.enabled=false -Djruby.compile.invokedynamic=false -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Djava.io.tmpdir=D:\Tools\sonar\sonarqube-6.1\temp -javaagent:D:\Program Files\Java\jdk1.8.0_102\jre\lib\management-agent.jar -cp ./lib/common/*;./lib/server/*;D:\Tools\sonar\sonarqube-6.1\lib\jdbc\h2\h2-1.3.176.jar org.sonar.server.app.WebServer D:\Tools\sonar\sonarqube-6.1\temp\sq-process6946582725671729886properties
jvm 1    | 2016.10.14 11:51:32 INFO  app[][o.s.p.m.Monitor] Process[web] is up
jvm 1    | 2016.10.14 11:51:32 INFO  app[][o.s.p.m.JavaProcessLauncher] Launch process[ce]: D:\Program Files\Java\jdk1.8.0_102\jre\bin\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Djava.io.tmpdir=D:\Tools\sonar\sonarqube-6.1\temp -javaagent:D:\Program Files\Java\jdk1.8.0_102\jre\lib\management-agent.jar -cp ./lib/common/*;./lib/server/*;./lib/ce/*;D:\Tools\sonar\sonarqube-6.1\lib\jdbc\h2\h2-1.3.176.jar org.sonar.ce.app.CeServer D:\Tools\sonar\sonarqube-6.1\temp\sq-process7599430162435853222properties
jvm 1    | 2016.10.14 11:51:38 INFO  app[][o.s.p.m.Monitor] Process[ce] is up
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Visit &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Credentials are &lt;code&gt;admin/admin&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;localhost:9000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/code-review/2016-10-14-sonar-index.png&quot; alt=&quot;index&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Shut down&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use &lt;code&gt;Ctrl+c&lt;/code&gt; in bat command.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;jdk version&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:shell houbinbin$ java -version
java version &amp;quot;1.8.0_91&amp;quot;
Java(TM) SE Runtime Environment (build 1.8.0_91-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#sonarqube&quot; name=&quot;sonarqube&quot;&gt;&lt;/a&gt;Sonarqube&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.sonarqube.org/downloads/&quot;&gt;Download sonarqube&lt;/a&gt; and start&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:macosx-universal-64 houbinbin$ pwd
/Users/houbinbin/it/tools/sonar/sonarqube-6.1/bin/macosx-universal-64
houbinbindeMacBook-Pro:macosx-universal-64 houbinbin$ ls
SonarQube.pid	lib		sonar.sh	wrapper
houbinbindeMacBook-Pro:macosx-universal-64 houbinbin$ ./sonar.sh
Usage: ./sonar.sh { console | start | stop | restart | status | dump }
houbinbindeMacBook-Pro:macosx-universal-64 houbinbin$ ./sonar.sh start
Starting SonarQube...
Started SonarQube.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#config-mysql&quot; name=&quot;config-mysql&quot;&gt;&lt;/a&gt;Config mysql&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;create user &lt;strong&gt;sonar&lt;/strong&gt; in mysql&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;CREATE USER sonar IDENTIFIED BY &amp;#39;sonar&amp;#39;;

GRANT ALL PRIVILEGES ON *.* TO &amp;#39;sonar&amp;#39;@&amp;#39;localhost&amp;#39; IDENTIFIED BY &amp;#39;sonar&amp;#39; WITH GRANT OPTION;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;create database &lt;strong&gt;sonar&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;CREATE DATABASE sonar CHARACTER SET utf8 COLLATE utf8_general_ci;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;copy &lt;code&gt;mysql-connector-java-5.1.38.jar&lt;/code&gt; into:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/Users/houbinbin/it/tools/sonar/sonarqube-6.1/extensions/jdbc-driver/mysql
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;edit &lt;code&gt;~/conf/sonar.properties&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# Comment the following lines to deactivate the default embedded database.
#sonar.jdbc.url: jdbc:derby://localhost:1527/sonar;create=true
#sonar.jdbc.driverClassName: org.apache.derby.jdbc.ClientDriver
#sonar.jdbc.validationQuery: values(1)

～～～～～～～～～～～～～～～...～～～～～～～～～～～～～～～～～～

#----- MySQL 5.x/6.x
# Comment the embedded database and uncomment the following
#properties to use MySQL. The validation query is optional.
#sonar.jdbc.validationQuery: select 1
sonar.jdbc.driverClassName: com.mysql.jdbc.Driver
sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;amp;characterEncoding=utf8
sonar.jdbc.username=sonar
sonar.jdbc.password=sonar
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;restart&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:macosx-universal-64 houbinbin$ ./sonar.sh restart
Stopping SonarQube...
Waiting for SonarQube to exit...
Stopped SonarQube.
Starting SonarQube...
Started SonarQube.
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Set sonar to chinese&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;Admin Login, search &lt;code&gt;Chinese Pack&lt;/code&gt; in &lt;a href=&quot;http://localhost:9000/updatecenter/available&quot;&gt;Update Center&lt;/a&gt;, install and restart&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;download &lt;code&gt;http://repository.codehaus.org/org/codehaus/sonar-plugins/l10n/sonar-l10n-zh-plugin/1.6/sonar-l10n-zh-plugin-1.6.jar&lt;/code&gt;,&lt;br/&gt;into &lt;code&gt;$SONAR_HOME/extensions/plugins&lt;/code&gt; and restart.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a href=&quot;#use-sonar-with-maven&quot; name=&quot;use-sonar-with-maven&quot;&gt;&lt;/a&gt;Use sonar with maven&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Maven&quot;&gt;sonar with maven&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;add into &lt;code&gt;settings.xml&lt;/code&gt; of maven&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;settings&amp;gt;
    &amp;lt;pluginGroups&amp;gt;
        &amp;lt;pluginGroup&amp;gt;org.sonarsource.scanner.maven&amp;lt;/pluginGroup&amp;gt;
    &amp;lt;/pluginGroups&amp;gt;
    &amp;lt;profiles&amp;gt;
        &amp;lt;profile&amp;gt;
            &amp;lt;id&amp;gt;sonar&amp;lt;/id&amp;gt;
            &amp;lt;activation&amp;gt;
                &amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;
            &amp;lt;/activation&amp;gt;
            &amp;lt;properties&amp;gt;
                &amp;lt;!-- Optional URL to server. Default value is http://localhost:9000 --&amp;gt;
                &amp;lt;sonar.host.url&amp;gt;
                  http://localhost:9000
                &amp;lt;/sonar.host.url&amp;gt;
            &amp;lt;/properties&amp;gt;
        &amp;lt;/profile&amp;gt;
     &amp;lt;/profiles&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;add into &lt;code&gt;pom.xml&lt;/code&gt; of project&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;build&amp;gt;
    &amp;lt;pluginManagement&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.sonarsource.scanner.maven&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;sonar-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;3.1.1&amp;lt;/version&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/pluginManagement&amp;gt;
    &amp;lt;plugins&amp;gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.sonarsource.scanner.maven&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;sonar-maven-plugin&amp;lt;/artifactId&amp;gt;
        &amp;lt;/plugin&amp;gt;
    &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;mvn clean sonar:sonar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;result:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:git-demo houbinbin$ mvn sonar:sonar
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building git-demo 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- sonar-maven-plugin:3.1.1:sonar (default-cli) @ git-demo ---
[INFO] User cache: /Users/houbinbin/.sonar/cache
[INFO] Load global repositories
[INFO] Load global repositories (done) | time=165ms
[WARNING] Property &amp;#39;sonar.jdbc.url&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
[WARNING] Property &amp;#39;sonar.jdbc.username&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
[WARNING] Property &amp;#39;sonar.jdbc.password&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
[INFO] User cache: /Users/houbinbin/.sonar/cache
[INFO] Load plugins index
[INFO] Load plugins index (done) | time=5ms
[INFO] SonarQube version: 6.1
[INFO] Default locale: &amp;quot;zh_CN&amp;quot;, source code encoding: &amp;quot;UTF-8&amp;quot; (analysis is platform dependent)
[INFO] Process project properties
[INFO] Load project repositories
[INFO] Load project repositories (done) | time=135ms
[INFO] Load quality profiles
[INFO] Load quality profiles (done) | time=92ms
[INFO] Load active rules
[INFO] Load active rules (done) | time=345ms
[INFO] Publish mode
[INFO] -------------  Scan git-demo
[INFO] Load server rules
[INFO] Load server rules (done) | time=59ms
[INFO] Base dir: /Users/houbinbin/IT/code/git-demo
[INFO] Working dir: /Users/houbinbin/IT/code/git-demo/target/sonar
[INFO] Source paths: pom.xml
[INFO] Source encoding: UTF-8, default locale: zh_CN
[INFO] Index files
[INFO] 0 files indexed
[INFO] Sensor Lines Sensor
[INFO] Sensor Lines Sensor (done) | time=0ms
[INFO] Sensor SCM Sensor
[INFO] Sensor SCM Sensor (done) | time=1ms
[INFO] Sensor XmlFileSensor
[INFO] Sensor XmlFileSensor (done) | time=0ms
[INFO] Sensor Zero Coverage Sensor
[INFO] Sensor Zero Coverage Sensor (done) | time=0ms
[INFO] Sensor Code Colorizer Sensor
[INFO] Sensor Code Colorizer Sensor (done) | time=0ms
[INFO] Sensor CPD Block Indexer
[INFO] Sensor CPD Block Indexer (done) | time=0ms
[INFO] Calculating CPD for 0 files
[INFO] CPD calculation finished
[INFO] Analysis report generated in 47ms, dir size=12 KB
[INFO] Analysis reports compressed in 6ms, zip size=4 KB
[INFO] Analysis report uploaded in 42ms
[INFO] ANALYSIS SUCCESSFUL, you can browse http://localhost:9000/dashboard/index/com.ryo:git-demo
[INFO] Note that you will be able to access the updated dashboard once the server has processed the submitted analysis report
[INFO] More about the report processing at http://localhost:9000/api/ce/task?id=AVfDe6043OTpXts6eJaH
[INFO] Task total time: 1.687 s
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.059 s
[INFO] Finished at: 2016-10-14T21:57:25+08:00
[INFO] Final Memory: 18M/398M
[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;from the log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[WARNING] Property &amp;#39;sonar.jdbc.url&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
[WARNING] Property &amp;#39;sonar.jdbc.username&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
[WARNING] Property &amp;#39;sonar.jdbc.password&amp;#39; is not supported any more. It will be ignored. There is no longer any DB connection to the SQ database.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can know it&amp;rsquo;s no need set in these &lt;code&gt;sonar.properties&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Visit &lt;code&gt;http://localhost:9000/dashboard/index/com.ryo:git-demo&lt;/code&gt;, you can see&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/code-review/2016-10-14-sonar-analyse.png&quot; alt=&quot;sonar analyse&quot; /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#narrowing-the-focus&quot; name=&quot;narrowing-the-focus&quot;&gt;&lt;/a&gt;Narrowing the Focus&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;use &lt;code&gt;//NOSAONAR&lt;/code&gt; to ignore one line&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;use this to ignore all &lt;strong&gt;js&lt;/strong&gt; files.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;/properties&amp;gt;
    &amp;lt;!--sonar--&amp;gt;
    &amp;lt;sonar.exclusions&amp;gt;**/*.js&amp;lt;/sonar.exclusions&amp;gt;
&amp;lt;/properties&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#use&quot; name=&quot;use&quot;&gt;&lt;/a&gt;Use&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Chinese pack&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/tools/sonar/2016-11-13-sonar-chinese-pack.png&quot; alt=&quot;chinese pack&quot; /&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Docker</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-15-docker.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#docker&quot; name=&quot;docker&quot;&gt;&lt;/a&gt;Docker&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.docker.com/&quot;&gt;Docker&lt;/a&gt; is the world’s leading software containerization platform&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.docker.org.cn/&quot;&gt;docker zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#get-start&quot; name=&quot;get-start&quot;&gt;&lt;/a&gt;Get Start&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;DOCKER FOR MAC&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;An integrated, easy-to-deploy environment for building, assembling, and shipping applications from a Mac,&lt;br/&gt;Docker for Mac is a native Mac application architected from scratch, with a native user interface and auto-update capability,&lt;br/&gt;deeply integrated with OS X native virtualization, Hypervisor Framework, networking and file system, making it faster and more reliable&lt;br/&gt;than previous ways of getting Docker on a Mac.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Requirements&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Mac must be a 2010 or newer model, with Intel’s hardware support for memory management unit (MMU) virtualization; i.e., Extended Page Tables (EPT)&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;OS X 10.10.3 Yosemite or newer&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;At least 4GB of RAM&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br/&gt; Download-&amp;gt;Install:&lt;br/&gt; Install-&amp;gt;Run Project:&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Install and Run&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After run the docker, you can see the [&lt;img src=&quot;{{site.url}}/static/app/img/docker/whale-x.png&quot; alt=&quot;whale&quot; /&gt;] in top status bar.&lt;/p&gt;
&lt;p&gt;Input &lt;code&gt;docker info&lt;/code&gt; in terminal line.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:/ houbinbin$ docker info
Containers: 0
 Running: 0
 Paused: 0
 Stopped: 0
Images: 0
Server Version: 1.12.1
Storage Driver: aufs
 Root Dir: /var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 0
 Dirperm1 Supported: true
Logging Driver: json-file
Cgroup Driver: cgroupfs
Plugins:
 Volume: local
 Network: host bridge null overlay
Swarm: inactive
Runtimes: runc
Default Runtime: runc
Security Options: seccomp
Kernel Version: 4.4.20-moby
Operating System: Alpine Linux v3.4
OSType: linux
Architecture: x86_64
CPUs: 4
Total Memory: 1.952 GiB
Name: moby
ID: BZ32:YMHS:BPMD:JBDT:UABV:BG4J:7XDD:I6HO:6GZY:WDME:22DB:7ULC
Docker Root Dir: /var/lib/docker
Debug Mode (client): false
Debug Mode (server): true
 File Descriptors: 16
 Goroutines: 27
 System Time: 2016-10-15T15:21:07.932969294Z
 EventsListeners: 1
No Proxy: *.local, 169.254/16
Registry: https://index.docker.io/v1/
Insecure Registries:
 127.0.0.0/8
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Version of Docker Engine、Compose、Machine&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:/ houbinbin$ docker --version
Docker version 1.12.1, build 6f9534c
houbinbindeMacBook-Pro:/ houbinbin$ docker-compose --version
docker-compose version 1.8.0, build f3628c7
houbinbindeMacBook-Pro:/ houbinbin$ docker-machine --version
docker-machine version 0.8.1, build 41b3b25
houbinbindeMacBook-Pro:/ houbinbin$
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Explore the application and run examples&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、Start a Dockerized web server&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;docker run -d -p 80:80 --name webserver nginx```, If the image is not found locally, Docker will pull it from Docker Hub.&quot;&gt;&lt;br/&gt;```
houbinbindeMacBook-Pro:bin houbinbin$ docker run -d -p 80:80 --name webserver nginx
Unable to find image &amp;#39;nginx:latest&amp;#39; locally
latest: Pulling from library/nginx
6a5a5368e0c2: Pull complete
20a0fbbae148: Pull complete
2fbd37c8684b: Pull complete
Digest: sha256:e40499ca855c9edfb212e1c3ee1a6ba8b2d873a294d897b4840d49f94d20487c
Status: Downloaded newer image for nginx:latest
864d97edfc07a55a5202bf3a4e0b7dbc702cb9b0d8401c73b06e9b9f8225186c
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;input &lt;code&gt;localhost&lt;/code&gt; in browser to visit it&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/docker/2016-10-16-index.png&quot; alt=&quot;index&quot; /&gt;&lt;/p&gt;
&lt;p&gt;2、Run &lt;code&gt;docker ps&lt;/code&gt; while your web server is running to see details on the webserver container.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                         NAMES
864d97edfc07        nginx               &amp;quot;nginx -g &amp;#39;daemon off&amp;quot;   4 minutes ago       Up 4 minutes        0.0.0.0:80-&amp;gt;80/tcp, 443/tcp   webserver
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Stop or remove containers and images&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;nginx&lt;/strong&gt; webserver will continue to run in the container on that port until you stop and/or remove the container.&lt;br/&gt;If you want to stop the webserver, type: &lt;code&gt;docker stop webserver&lt;/code&gt; and start it again with &lt;code&gt;docker start webserver&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ docker stop webserver
webserver
houbinbindeMacBook-Pro:bin houbinbin$ docker start  webserver
webserver
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To stop and remove the running container with a single command, type: &lt;code&gt;docker rm -f webserver&lt;/code&gt;.&lt;br/&gt;This will remove the container, but not the nginx image.&lt;br/&gt;You can list local images with docker images.&lt;br/&gt;You might want to keep some images around so that you don’t have to pull them again from Docker Hub.&lt;br/&gt;To remove an image you no longer need, use &lt;code&gt;docker rmi &amp;lt;imageID&amp;gt;|&amp;lt;imageName&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;docker rmi nginx&lt;/code&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#more&quot; name=&quot;more&quot;&gt;&lt;/a&gt;More&lt;/h1&gt;
&lt;p&gt;Docker has &lt;strong&gt;client&lt;/strong&gt; and &lt;strong&gt;server&lt;/strong&gt;, the server is a daemon to manager all containers.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ docker version
Client:
 Version:      1.12.1
 API version:  1.24
 Go version:   go1.7.1
 Git commit:   6f9534c
 Built:        Thu Sep  8 10:31:18 2016
 OS/Arch:      darwin/amd64

Server:
 Version:      1.12.1
 API version:  1.24
 Go version:   go1.6.3
 Git commit:   23cf638
 Built:        Thu Aug 18 17:52:38 2016
 OS/Arch:      linux/amd64
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Elasticsearch</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-16-elasticsearch.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#elasticsearch&quot; name=&quot;elasticsearch&quot;&gt;&lt;/a&gt;Elasticsearch&lt;/h1&gt;
&lt;p&gt;Search &amp;amp; Analyze Data in Real Time.&lt;/p&gt;
&lt;p&gt;Elasticsearch is a distributed, open source search and analytics engine, designed for horizontal scalability, reliability, and easy management.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.elastic.co/products/elasticsearch&quot;&gt;Elasticsearch&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.elastic.co/guide/index.html&quot;&gt;User Guide&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Download-&amp;gt;Unzip:&lt;br/&gt; Unzip-&amp;gt;Run:&lt;br/&gt; Run-&amp;gt;Visit:&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Download&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.elastic.co/downloads/elasticsearch&quot;&gt;Download&lt;/a&gt; and unzip&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   tar -zxf elasticsearch-2.4.1.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;move it into &lt;strong&gt;tools&lt;/strong&gt; package&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mv elasticsearch-2.4.1 ~/it/tools/elasticsearch
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Run&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Run &lt;code&gt;bin/elasticsearch&lt;/code&gt; on Unix, or use &lt;code&gt;bin/elasticsearch &amp;amp;&lt;/code&gt; run background processes.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:Downloads houbinbin$ cd ~/it/tools/elasticsearch/
houbinbindeMacBook-Pro:elasticsearch houbinbin$ ls
LICENSE.txt	NOTICE.txt	README.textile	bin		config		lib		modules
houbinbindeMacBook-Pro:elasticsearch houbinbin$ cd bin
houbinbindeMacBook-Pro:bin houbinbin$ ls
elasticsearch			elasticsearch-service-x64.exe	elasticsearch.bat		elasticsearch.in.sh		plugin.bat
elasticsearch-service-mgr.exe	elasticsearch-service-x86.exe	elasticsearch.in.bat		plugin				service.bat
houbinbindeMacBook-Pro:bin houbinbin$ ./elasticsearch
[2016-10-16 09:19:27,876][INFO ][node                     ] [Raman] version[2.4.1], pid[4391], build[c67dc32/2016-09-27T18:57:55Z]
[2016-10-16 09:19:27,877][INFO ][node                     ] [Raman] initializing ...
[2016-10-16 09:19:28,321][INFO ][plugins                  ] [Raman] modules [reindex, lang-expression, lang-groovy], plugins [], sites []
[2016-10-16 09:19:28,343][INFO ][env                      ] [Raman] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [122.7gb], net total_space [232.6gb], spins? [unknown], types [hfs]
[2016-10-16 09:19:28,343][INFO ][env                      ] [Raman] heap size [989.8mb], compressed ordinary object pointers [true]
[2016-10-16 09:19:28,343][WARN ][env                      ] [Raman] max file descriptors [10240] for elasticsearch process likely too low, consider increasing to at least [65536]
[2016-10-16 09:19:29,437][INFO ][node                     ] [Raman] initialized
[2016-10-16 09:19:29,437][INFO ][node                     ] [Raman] starting ...
[2016-10-16 09:19:29,498][INFO ][transport                ] [Raman] publish_address {127.0.0.1:9300}, bound_addresses {[fe80::1]:9300}, {[::1]:9300}, {127.0.0.1:9300}
[2016-10-16 09:19:29,503][INFO ][discovery                ] [Raman] elasticsearch/K1AbiuXxQKifwJIqtFoW0A
[2016-10-16 09:19:32,534][INFO ][cluster.service          ] [Raman] new_master {Raman}{K1AbiuXxQKifwJIqtFoW0A}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-10-16 09:19:32,548][INFO ][http                     ] [Raman] publish_address {127.0.0.1:9200}, bound_addresses {[fe80::1]:9200}, {[::1]:9200}, {127.0.0.1:9200}
[2016-10-16 09:19:32,548][INFO ][node                     ] [Raman] started
[2016-10-16 09:19:32,566][INFO ][gateway                  ] [Raman] recovered [0] indices into cluster_state
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Input &lt;code&gt;localhost:9200&lt;/code&gt; in browser to visit it, or use &lt;code&gt;curl localhost:9200&lt;/code&gt; to get info&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ curl localhost:9200
{
  &amp;quot;name&amp;quot; : &amp;quot;Raman&amp;quot;,
  &amp;quot;cluster_name&amp;quot; : &amp;quot;elasticsearch&amp;quot;,
  &amp;quot;cluster_uuid&amp;quot; : &amp;quot;WFMtdS4GT4m8w7sdHE5i7Q&amp;quot;,
  &amp;quot;version&amp;quot; : {
    &amp;quot;number&amp;quot; : &amp;quot;2.4.1&amp;quot;,
    &amp;quot;build_hash&amp;quot; : &amp;quot;c67dc32e24162035d18d6fe1e952c4cbcbe79d16&amp;quot;,
    &amp;quot;build_timestamp&amp;quot; : &amp;quot;2016-09-27T18:57:55Z&amp;quot;,
    &amp;quot;build_snapshot&amp;quot; : false,
    &amp;quot;lucene_version&amp;quot; : &amp;quot;5.5.2&amp;quot;
  },
  &amp;quot;tagline&amp;quot; : &amp;quot;You Know, for Search&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#lucene-search&quot; name=&quot;lucene-search&quot;&gt;&lt;/a&gt;Lucene Search&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000002972420&quot;&gt;search zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;FULLTEXT&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Input a word in search input, like &lt;code&gt;hello&lt;/code&gt;, use &lt;code&gt;&amp;quot;hello world&amp;quot;&lt;/code&gt; to search a phrase.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Field&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finite field search: &lt;code&gt;field:value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Accurate search: &lt;code&gt;field:&amp;quot;value&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;http.code:404``` doc that *http status code is 404*&quot;&gt;&lt;br/&gt;```_exists_:http```：result contains *http* field

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Wildcard&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;?``` one char&quot;&gt;&lt;br/&gt;```*``` zero or more char

The two wildcard should&amp;#39;t the first char.


- Fuzzy Search

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;cromm~0.3``` matches *from* &amp; *chrome*&quot;&gt;&lt;br/&gt;- Similar Search

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Range&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;length:[100 TO 200]&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;date:{&quot;now-6h&quot; TO &quot;now&quot;}```&quot;&gt;&lt;br/&gt;```[ ]``` includes endpoint，```{ }``` not includes.

- Logic

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;-``` must not has this&quot;&gt;&lt;br/&gt;```+apache -jakarta test``` means must has *apache*, not has *jakarta*

- Special

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;ul&gt;
    &lt;li&gt;&amp;amp;&amp;amp; || ! () {} [] ^&amp;quot; ~ * ? : \&lt;br/&gt;```&lt;/li&gt;
  &lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Kibana</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-16-kibana.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#kibana&quot; name=&quot;kibana&quot;&gt;&lt;/a&gt;Kibana&lt;/h1&gt;
&lt;p&gt;Kibana is an open source data visualization platform that allows you to interact with your data through stunning,&lt;br/&gt;powerful graphics that can be combined into custom dashboards that help you share insights from your data far and wide.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.elastic.co/products/kibana&quot;&gt;kibana&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/kibana/current/index.html&quot;&gt;User guide&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/hanyifeng/p/5857875.html&quot;&gt;blog_zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Download&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.elastic.co/downloads/kibana&quot;&gt;Download&lt;/a&gt; and unzip it&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   tar -zxf kibana-4.6.1-darwin-x86_64.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;move it into tools package&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mv kibana-4.6.1-darwin-x86_64 ~/it/tools/kibana
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Kibana 4.6.x requires &lt;a href=&quot;https://www.elastic.co/products/elasticsearch&quot;&gt;Elasticsearch&lt;/a&gt; 2.4.x&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Config&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Edit the &lt;code&gt;config/kibana.yml&lt;/code&gt;, set &lt;code&gt;elasticsearch.url&lt;/code&gt; to your elasticsearch instance&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# The Elasticsearch instance to use for all your queries.
elasticsearch.url: &amp;quot;http://localhost:9200&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Run&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Run &lt;code&gt;/bin/kibana&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ ./kibana
  log   [09:44:48.294] [info][status][plugin:kibana@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.320] [info][status][plugin:elasticsearch@1.0.0] Status changed from uninitialized to yellow - Waiting for Elasticsearch
  log   [09:44:48.348] [info][status][plugin:kbn_vislib_vis_types@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.351] [info][status][plugin:markdown_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.354] [info][status][plugin:metric_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.359] [info][status][plugin:spyModes@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.369] [info][status][plugin:statusPage@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.372] [info][status][plugin:table_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [09:44:48.386] [info][listening] Server running at http://0.0.0.0:5601
  log   [09:44:53.402] [info][status][plugin:elasticsearch@1.0.0] Status changed from yellow to yellow - No existing Kibana index found
  log   [09:44:56.305] [info][status][plugin:elasticsearch@1.0.0] Status changed from yellow to green - Kibana index ready
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enter &lt;code&gt;localhost:5601&lt;/code&gt; in browser, you can see&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/kibana/2016-10-16-kibana-index.png&quot; alt=&quot;kibana&quot; /&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Logstash</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-16-logstash.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#logstash&quot; name=&quot;logstash&quot;&gt;&lt;/a&gt;Logstash&lt;/h1&gt;
&lt;p&gt;Collect, Enrich &amp;amp; Transport Data.&lt;/p&gt;
&lt;p&gt;Logstash is a flexible, open source, data collection, enrichment, and transport pipeline designed to efficiently process a growing list of log,&lt;br/&gt;event, and unstructured data sources for distribution into a variety of outputs, including Elasticsearch.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.elastic.co/products/logstash&quot;&gt;logstash&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Java 7 or higher&lt;/strong&gt; is required for Logstash 2.x&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:bin houbinbin$ java -version
java version &amp;quot;1.8.0_91&amp;quot;
Java(TM) SE Runtime Environment (build 1.8.0_91-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#install-in-mac&quot; name=&quot;install-in-mac&quot;&gt;&lt;/a&gt;Install in Mac&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Title: Install logstash&lt;br/&gt; Download-&amp;gt;Config: logstash.conf&lt;br/&gt; Config-&amp;gt;Run: bin/logstash -f conf/logstash.conf&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Download&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.elastic.co/downloads/logstash&quot;&gt;Download&lt;/a&gt; and unzip&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:Downloads houbinbin$ tar -zxf logstash-all-plugins-2.4.0.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;move it into &lt;strong&gt;tools&lt;/strong&gt; package&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:Downloads houbinbin$ ls | grep -i logstash
logstash-2.4.0
logstash-all-plugins-2.4.0.tar.gz
houbinbindeMacBook-Pro:Downloads houbinbin$ mv logstash-2.4.0 ~/it/tools/logstash
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Config&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Prepare config file &lt;code&gt;logstash.conf&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:Downloads houbinbin$ cd ~/it/tools/logstash/
houbinbindeMacBook-Pro:logstash houbinbin$ ls
CHANGELOG.md		Gemfile			LICENSE			bin			vendor
CONTRIBUTORS		Gemfile.jruby-1.9.lock	NOTICE.TXT		lib
houbinbindeMacBook-Pro:logstash houbinbin$ mkdir conf
houbinbindeMacBook-Pro:logstash houbinbin$ cd conf/
houbinbindeMacBook-Pro:config houbinbin$ ls
houbinbindeMacBook-Pro:config houbinbin$ vi logstash.conf
houbinbindeMacBook-Pro:config houbinbin$ ls
logstash.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/4e1d34adb83b&quot;&gt;Edit&lt;/a&gt; it&amp;rsquo;s content like this for test:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;input {
      stdin{}
}
# filter is optional
#filter {
#}
output {
    stdout{
        codec =&amp;gt; rubydebug
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:logstash houbinbin$ bin/logstash -f conf/logstash.conf
Settings: Default pipeline workers: 8
Pipeline main started
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Enter content &lt;code&gt;testing&lt;/code&gt; in terminal to test:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;testing
{
       &amp;quot;message&amp;quot; =&amp;gt; &amp;quot;testing&amp;quot;,
      &amp;quot;@version&amp;quot; =&amp;gt; &amp;quot;1&amp;quot;,
    &amp;quot;@timestamp&amp;quot; =&amp;gt; &amp;quot;2016-10-16T03:45:01.064Z&amp;quot;,
          &amp;quot;host&amp;quot; =&amp;gt; &amp;quot;houbinbindeMacBook-Pro.local&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#usage&quot; name=&quot;usage&quot;&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Show plugin list&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   bin/plugin list
The use of bin/plugin is deprecated and will be removed in a feature release. Please use bin/logstash-plugin

houbinbindeMacBook-Pro:logstash houbinbin$ bin/logstash-plugin
Usage:
    bin/logstash-plugin [OPTIONS] SUBCOMMAND [ARG] ...

Parameters:
    SUBCOMMAND                    subcommand
    [ARG] ...                     subcommand arguments

Subcommands:
    install                       Install a plugin
    uninstall                     Uninstall a plugin
    update                        Update a plugin
    pack                          Package currently installed plugins
    unpack                        Unpack packaged plugins
    list                          List all installed plugins
    generate                      Create the foundation for a new plugin.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, we can use &lt;code&gt;bin/logstash-plugin list&lt;/code&gt; to show plugin list.&lt;/p&gt;
&lt;p&gt;Default, it has plugin named &lt;code&gt;logstash-input-log4j&lt;/code&gt;, it&amp;rsquo;s for &lt;strong&gt;log4j&lt;/strong&gt;, not &lt;strong&gt;log4j2&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Install &lt;a href=&quot;https://github.com/jurmous/logstash-log4j2&quot;&gt;plugin for log4j2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、It&amp;rsquo;s a pity that this plugin only support logstatsh version (1.5+, 2.1]&lt;/p&gt;
&lt;p&gt;2、Before you install this plugin, you should &lt;strong&gt;start logstash&lt;/strong&gt; first&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;start logstash&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:logstash houbinbin$ bin/logstash -f conf/logstash.conf
Settings: Default pipeline workers: 8
Pipeline main started
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;install&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:logstash houbinbin$ bin/logstash-plugin install logstash-input-log4j2
LogStash::GemfileError: duplicate gem logstash-filter-date
         add_gem at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/gemfile.rb:102
             gem at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/gemfile.rb:200
          (eval) at (eval):109
   instance_eval at org/jruby/RubyBasicObject.java:1598
           parse at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/gemfile.rb:188
            load at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/gemfile.rb:19
         gemfile at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/command.rb:4
  verify_remote! at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/install.rb:50
         execute at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/install.rb:28
             run at /Users/houbinbin/it/tools/logstash/vendor/bundle/jruby/1.9/gems/clamp-0.6.5/lib/clamp/command.rb:67
         execute at /Users/houbinbin/it/tools/logstash/vendor/bundle/jruby/1.9/gems/clamp-0.6.5/lib/clamp/subcommand/execution.rb:11
             run at /Users/houbinbin/it/tools/logstash/vendor/bundle/jruby/1.9/gems/clamp-0.6.5/lib/clamp/command.rb:67
             run at /Users/houbinbin/it/tools/logstash/vendor/bundle/jruby/1.9/gems/clamp-0.6.5/lib/clamp/command.rb:132
          (root) at /Users/houbinbin/it/tools/logstash/lib/pluginmanager/main.rb:43
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En, that&amp;rsquo;s a question&amp;hellip; It seems we should go another way ==!&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#build-log-sys&quot; name=&quot;build-log-sys&quot;&gt;&lt;/a&gt;Build Log Sys&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://my.oschina.net/itblog/blog/547250&quot;&gt;ELK Blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/zheng0518/article/details/50453215&quot;&gt;Log4j2+ELK zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We want to build log system use &lt;a href=&quot;http://logging.apache.org/log4j/2.x&quot;&gt;log4j2&lt;/a&gt; with ELK(ElasticSearch+Logstash+Kibana)&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#log4j2&quot; name=&quot;log4j2&quot;&gt;&lt;/a&gt;Log4j2&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;log4j2.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The whole project demo is &lt;a href=&quot;https://github.com/houbb/log4j2.git&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The info about &lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/appenders.html#SocketAppender&quot;&gt;SocketAppender&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;WARN&amp;quot;&amp;gt;
    &amp;lt;Appenders&amp;gt;
        &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Console&amp;gt;
        &amp;lt;Socket name=&amp;quot;Logstash&amp;quot; host=&amp;quot;127.0.0.1&amp;quot; port=&amp;quot;7000&amp;quot; protocol=&amp;quot;TCP&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Socket&amp;gt;
    &amp;lt;/Appenders&amp;gt;

    &amp;lt;Loggers&amp;gt;
        &amp;lt;Root level=&amp;quot;info&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Logstash&amp;quot;/&amp;gt;
        &amp;lt;/Root&amp;gt;
    &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;LogService.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and the simple log as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class LogService {
  static final Logger logger = LogManager.getLogger(LogService.class);

  public static void main(String[] args) {
    logger.info(&amp;quot;log test...&amp;quot;);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#logstatsh&quot; name=&quot;logstatsh&quot;&gt;&lt;/a&gt;LogStatsh&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;add &lt;code&gt;micro_wiki.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;input {
  tcp {
    host =&amp;gt; &amp;quot;0.0.0.0&amp;quot;
    port =&amp;gt; &amp;quot;7000&amp;quot;
    mode =&amp;gt; &amp;quot;server&amp;quot;
    type =&amp;gt; &amp;quot;microwiki&amp;quot;
    add_field =&amp;gt; {
      &amp;quot;name&amp;quot; =&amp;gt; &amp;quot;Ryo&amp;quot;
    }
  }
}
filter {
}
output {
  stdout {
    codec =&amp;gt; rubydebug
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run logstash&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:logstash-2.4.0 houbinbin$ bin/logstash -f conf/micro_wiki.conf
Settings: Default pipeline workers: 8
Pipeline main started
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;run java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;{
       &amp;quot;message&amp;quot; =&amp;gt; &amp;quot;16:44:10.428 [main] INFO  com.ryo.service.LogService - log test...&amp;quot;,
      &amp;quot;@version&amp;quot; =&amp;gt; &amp;quot;1&amp;quot;,
    &amp;quot;@timestamp&amp;quot; =&amp;gt; &amp;quot;2016-10-16T08:44:10.430Z&amp;quot;,
          &amp;quot;host&amp;quot; =&amp;gt; &amp;quot;127.0.0.1&amp;quot;,
          &amp;quot;port&amp;quot; =&amp;gt; 53150,
          &amp;quot;type&amp;quot; =&amp;gt; &amp;quot;microwiki&amp;quot;,
          &amp;quot;name&amp;quot; =&amp;gt; &amp;quot;Ryo&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#elasticsearch&quot; name=&quot;elasticsearch&quot;&gt;&lt;/a&gt;ElasticSearch&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Edit the &lt;code&gt;micro_wiki.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In order to let the logger of &lt;strong&gt;Logstash&lt;/strong&gt; trans into &lt;strong&gt;ElasticSearch&lt;/strong&gt;, we edit the &lt;code&gt;micro_wiki.conf&lt;/code&gt; of &lt;strong&gt;Logstash&lt;/strong&gt;, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;input {
  tcp {
    host =&amp;gt; &amp;quot;0.0.0.0&amp;quot;
    port =&amp;gt; &amp;quot;7000&amp;quot;
    mode =&amp;gt; &amp;quot;server&amp;quot;
    type =&amp;gt; &amp;quot;microwiki&amp;quot;
    add_field =&amp;gt; {
      &amp;quot;name&amp;quot; =&amp;gt; &amp;quot;Ryo&amp;quot;
    }
  }
}
filter {
}
output {
  stdout {
    codec =&amp;gt; rubydebug
  }
  elasticsearch {
    hosts =&amp;gt; [&amp;quot;127.0.0.1:9200&amp;quot;]
    action =&amp;gt; &amp;quot;index&amp;quot;
    codec =&amp;gt; rubydebug
    index =&amp;gt; &amp;quot;microwiki-%{+YYYY.MM.dd}&amp;quot;
    template_name =&amp;gt; &amp;quot;microwiki&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After edit this, we should &lt;strong&gt;restart logstash&lt;/strong&gt;, you may meet error like&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Could not start TCP server: Address in use {:host=&amp;gt;&amp;quot;0.0.0.0&amp;quot;, :port=&amp;gt;7000, :level=&amp;gt;:error}
Pipeline aborted due to error {:exception=&amp;gt;&amp;quot;Errno::EADDRINUSE&amp;quot;, :backtrace=&amp;gt;[&amp;quot;org/jruby/ext/socket/RubyTCPServer.java:118:in `initialize&amp;#39;&amp;quot;,
&amp;quot;org/jruby/RubyIO.java:871:in `new&amp;#39;&amp;quot;, &amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-input-tcp-3.0.6/lib/logstash/inputs/tcp.rb:244:in
`new_server_socket&amp;#39;&amp;quot;, &amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-input-tcp-3.0.6/lib/logstash/inputs/tcp.rb:79:in `register&amp;#39;&amp;quot;,
&amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.4.0-java/lib/logstash/pipeline.rb:330:in `start_inputs&amp;#39;&amp;quot;,
&amp;quot;org/jruby/RubyArray.java:1613:in `each&amp;#39;&amp;quot;, &amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.4.0-java/lib/logstash/pipeline.rb:329:in
`start_inputs&amp;#39;&amp;quot;, &amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.4.0-java/lib/logstash/pipeline.rb:180:in `start_workers&amp;#39;&amp;quot;,
&amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.4.0-java/lib/logstash/pipeline.rb:136:in `run&amp;#39;&amp;quot;,
&amp;quot;/Users/houbinbin/it/tools/logstash/logstash-2.4.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.4.0-java/lib/logstash/agent.rb:491:in `start_pipeline&amp;#39;&amp;quot;],
:level=&amp;gt;:error}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use command &lt;code&gt;lsof -n -P| grep 7000&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;idea      4138 houbinbin  txt      REG                1,4   1257000  100928 /Library/Fonts/Copperplate.ttc
Google    4142 houbinbin  txt      REG                1,4   1257000  100928 /Library/Fonts/Copperplate.ttc
java      6699 houbinbin    9u    IPv6 0xf1b9bfa3b241e019       0t0     TCP *:7000 (LISTEN)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use command &lt;code&gt;sudo kill -9 id&lt;/code&gt; to kill it.&lt;/p&gt;
&lt;p&gt;Last, start logstash &lt;code&gt;bin/logstash -f conf/micro_wiki.conf&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Edit the &lt;code&gt;elasticsearch.yml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;cluster.name: MicroWiki-Cluster
node.name: microwiki-node1
network.host: 127.0.0.1
http.port: 9200
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Run elasticsearch&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use &lt;code&gt;bin/elasticsearch -d&lt;/code&gt; Starts Elasticsearch in the background&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Run java and use elasticsearch to search&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;LOGGER.info(&amp;quot;log test with 2016-10-16 17:06:02...&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Enter &lt;code&gt;http://localhost:9200/microwiki-2016.10.16/_search&lt;/code&gt; in browser, and get:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    &amp;quot;took&amp;quot;:21,
    &amp;quot;timed_out&amp;quot;:false,
    &amp;quot;_shards&amp;quot;:{
        &amp;quot;total&amp;quot;:5,
        &amp;quot;successful&amp;quot;:5,
        &amp;quot;failed&amp;quot;:0
    },
    &amp;quot;hits&amp;quot;:{
        &amp;quot;total&amp;quot;:1,
        &amp;quot;max_score&amp;quot;:1,
        &amp;quot;hits&amp;quot;:[
            {
                &amp;quot;_index&amp;quot;:&amp;quot;microwiki-2016.10.16&amp;quot;,
                &amp;quot;_type&amp;quot;:&amp;quot;microwiki&amp;quot;,
                &amp;quot;_id&amp;quot;:&amp;quot;AVfMvhC_IjTkofXOa5qh&amp;quot;,
                &amp;quot;_score&amp;quot;:1,
                &amp;quot;_source&amp;quot;:{
                    &amp;quot;message&amp;quot;:&amp;quot;17:06:30.417 [main] INFO com.ryo.service.LogService - log test with 2016-10-16 17:06:02...&amp;quot;,
                    &amp;quot;@version&amp;quot;:&amp;quot;1&amp;quot;,
                    &amp;quot;@timestamp&amp;quot;:&amp;quot;2016-10-16T09:06:30.421Z&amp;quot;,
                    &amp;quot;host&amp;quot;:&amp;quot;127.0.0.1&amp;quot;,
                    &amp;quot;port&amp;quot;:53511,
                    &amp;quot;type&amp;quot;:&amp;quot;microwiki&amp;quot;,
                    &amp;quot;name&amp;quot;:&amp;quot;Ryo&amp;quot;
                }
            }
        ]
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#kibana&quot; name=&quot;kibana&quot;&gt;&lt;/a&gt;Kibana&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Edit &lt;code&gt;kibana.yml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Connect kibana with elasticsearch.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Kibana is served by a back end server. This controls which port to use.
# server.port: 5601
server.port: 5601

# The host to bind the server to.
# server.host: &amp;quot;0.0.0.0&amp;quot;
server.host: 127.0.0.1

# If you are running kibana behind a proxy, and want to mount it at a path,
# specify that path here. The basePath can&amp;#39;t end in a slash.
# server.basePath: &amp;quot;&amp;quot;

# The maximum payload size in bytes on incoming server requests.
# server.maxPayloadBytes: 1048576

# The Elasticsearch instance to use for all your queries.
elasticsearch.url: &amp;quot;http://localhost:9200&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Run&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;  houbinbindeMacBook-Pro:kibana houbinbin$ bin/kibana

  log   [17:15:05.664] [info][status][plugin:kibana@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.688] [info][status][plugin:elasticsearch@1.0.0] Status changed from uninitialized to yellow - Waiting for Elasticsearch
  log   [17:15:05.704] [info][status][plugin:kbn_vislib_vis_types@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.721] [info][status][plugin:markdown_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.724] [info][status][plugin:metric_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.726] [info][status][plugin:spyModes@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.739] [info][status][plugin:statusPage@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.745] [info][status][plugin:table_vis@1.0.0] Status changed from uninitialized to green - Ready
  log   [17:15:05.749] [info][listening] Server running at http://127.0.0.1:5601
  log   [17:15:10.753] [info][status][plugin:elasticsearch@1.0.0] Status changed from yellow to yellow - No existing Kibana index found
  log   [17:15:13.332] [info][status][plugin:elasticsearch@1.0.0] Status changed from yellow to green - Kibana index ready
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enter &lt;code&gt;localhost:5601&lt;/code&gt;, and add &lt;strong&gt;index&lt;/strong&gt; like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/kibana/2016-10-16-kibana-add-index.png&quot; alt=&quot;add index&quot; /&gt;&lt;/p&gt;
&lt;p&gt;默认为 &lt;code&gt;logstash-*&lt;/code&gt;, 可以修改为 &lt;code&gt;microwiki-*&lt;/code&gt; 即可。&lt;/p&gt;
&lt;p&gt;可关注是否有log4j2的插件,不用如此麻烦。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#more&quot; name=&quot;more&quot;&gt;&lt;/a&gt;More&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://udn.yyuap.com/doc/logstash-best-practice-cn/get_start/index.html&quot;&gt;logstash learn zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://kibana.logstash.es/content/logstash/&quot;&gt;logstash api zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Cron</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-22-cron.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#cron&quot; name=&quot;cron&quot;&gt;&lt;/a&gt;Cron&lt;/h1&gt;
&lt;p&gt;The software utility &lt;a href=&quot;https://en.wikipedia.org/wiki/Cron&quot;&gt;Cron&lt;/a&gt; is a time-based job scheduler in Unix-like computer operating systems.&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Field &lt;/th&gt;
      &lt;th align=&quot;right&quot;&gt;Required &lt;/th&gt;
      &lt;th align=&quot;right&quot;&gt;Allowed values&lt;/th&gt;
      &lt;th&gt;Allowed special characters &lt;/th&gt;
      &lt;th align=&quot;center&quot;&gt;Remarks &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
&lt;/table&gt;
&lt;p&gt;| Second | yes | 0-59 | * , - | - |&lt;br/&gt;| Minutes | yes | 0-59 | * , - | - |&lt;br/&gt;| Hour | yes | 0-23 | * , - | - |&lt;br/&gt;| Day of month | yes | 1-31 | * , - ? L W | - |&lt;br/&gt;| Month | yes | 1-12 or JAN-DEC | * , - | - |&lt;br/&gt;| Day of week | yes | 0-6 or SUN-SAT | * , - ? L # | - |&lt;br/&gt;| Year | no | 1970–2099 | * , - |This field is not supported in standard/default implementations.|&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#non-standard-characters&quot; name=&quot;non-standard-characters&quot;&gt;&lt;/a&gt;Non-Standard Characters&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;L&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;lsquo;L&amp;rsquo; stands for &amp;ldquo;last&amp;rdquo;. When used in the day-of-week field, it allows you to specify constructs such as &amp;ldquo;the last Friday&amp;rdquo; (&amp;ldquo;5L&amp;rdquo;) of a given month. In the day-of-month field, it specifies the last day of the month.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;W&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &amp;lsquo;W&amp;rsquo; character is allowed for the day-of-month field. This character is used to specify the weekday (Monday-Friday) nearest the given day. As an example, if you were to specify &amp;ldquo;15W&amp;rdquo; as the value for the day-of-month field, the meaning is: &amp;ldquo;the nearest weekday to the 15th of the month.&amp;rdquo; So, if the 15th is a Saturday, the trigger fires on Friday the 14th. If the 15th is a Sunday, the trigger fires on Monday the 16th. If the 15th is a Tuesday, then it fires on Tuesday the 15th. However, if you specify &amp;ldquo;1W&amp;rdquo; as the value for day-of-month, and the 1st is a Saturday, the trigger fires on Monday the 3rd, as it does not &amp;lsquo;jump&amp;rsquo; over the boundary of a month&amp;rsquo;s days. The &amp;lsquo;W&amp;rsquo; character can be specified only when the day-of-month is a single day, not a range or list of days.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Hash ( # )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;lsquo;#&amp;rsquo; is allowed for the day-of-week field, and must be followed by a number between one and five. It allows you to specify constructs such as &amp;ldquo;the second Friday&amp;rdquo; of a given month.[11]&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Question mark ( ? )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In some implementations, used instead of &amp;rsquo;*&amp;rsquo; for leaving either day-of-month or day-of-week blank. Other cron implementations substitute &amp;ldquo;?&amp;rdquo; with the start-up time of the cron daemon, so that ? ? * * * * would be updated to 25 8 * * * * if cron started-up on 8:25am, and would run at this time every day until restarted again.[12]&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Slash ( / )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In vixie-cron, slashes can be combined with ranges to specify step values.[4] For example, */5 in the minutes field indicates every 5 minutes (see note). It is shorthand for the more verbose POSIX form 5,10,15,20,25,30,35,40,45,50,55,00. POSIX does not define a use for slashes; its rationale (commenting on a BSD extension) notes that the definition is based on System V format but does not exclude the possibility of extensions.[3]&lt;br/&gt;Note that frequencies in general cannot be expressed; only step values which evenly divide their range express accurate frequencies (for minutes and seconds, that&amp;rsquo;s /2, /3, /4, /5, /6, /10, /12, /15, /20 and /30 because 60 is evenly divisible by those numbers; for hours, that&amp;rsquo;s /2, /3, /4, /6, /8 and /12); all other possible &amp;ldquo;steps&amp;rdquo; and all other fields yield inconsistent &amp;ldquo;short&amp;rdquo; periods at the end of the time-unit before it &amp;ldquo;resets&amp;rdquo; to the next minute, second, or day; for example, entering */5 for the day field sometimes executes after 1, 2, or 3 days, depending on the month and leap year; this is because cron is stateless (it does not remember the time of the last execution nor count the difference between it and now, required for accurate frequency counting—instead, cron is a mere pattern-matcher)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Rancher</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-26-rancher.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#rancher&quot; name=&quot;rancher&quot;&gt;&lt;/a&gt;Rancher&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://rancher.com/&quot;&gt;Rancher&lt;/a&gt; is an open source software platform that enables organizations to run containers in production.&lt;br/&gt;With Rancher, organizations no longer have to build a container services platform from scratch using a distinct set of open source technologies.&lt;br/&gt;Rancher supplies the entire software stack needed to manage containers in production.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#quick-start&quot; name=&quot;quick-start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt; Env Prepare-&amp;gt;Install:&lt;br/&gt; Install-&amp;gt;Show Log:&lt;br/&gt; Show Log-&amp;gt;Visit:&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Env Prepare&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Provision a Linux host with 64-bit Ubuntu 16.04, which must have a kernel of 3.10+. You can use your laptop, a virtual machine, or a physical server.&lt;br/&gt;Please make sure the Linux host has at least &lt;strong&gt;1GB&lt;/strong&gt; memory.&lt;/p&gt;
&lt;p&gt;Install &lt;a href=&quot;https://docs.docker.com&quot;&gt;Docker&lt;/a&gt; onto the host.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Install Rancher&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo docker run -d --restart=unless-stopped -p 8080:8080 rancher/server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;it will download what it need, just wait&amp;hellip;(^_^)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Unable to find image &amp;#39;rancher/server:latest&amp;#39; locally


latest: Pulling from rancher/server

96c6a1f3c3b0: Pull complete
ed40d4bcb313: Pull complete
b171f9dbc13b: Pull complete
ccfc4df4fbba: Pull complete
9e4d5a1238bb: Downloading [====================&amp;gt;                              ] 51.36 MB/126.7 MB
f986ba0d224d: Download complete
303d9649bb89: Download complete
56825bfb5bb7: Download complete
86a35696481e: Download complete
eb2848176ff4: Download complete
fabbcc718243: Download complete
35489637da84: Download complete
5c005e2df0e8: Download complete
64ba16c4c9f4: Downloading [============&amp;gt;                                      ] 23.25 MB/93.9 MB
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;many years later&amp;hellip;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Run the Server&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:~ houbinbin$ sudo docker run -d --restart=unless-stopped -p 8080:8080 rancher/server
64c8c24bcd22622b309ee086e80f193c9923fbfef42c2245481f19aa3e3b2f08
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;see the log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo docker logs -f 64c8c24bcd22622b309ee086e80f193c9923fbfef42c2245481f19aa3e3b2f08

...
14:53:53.707 [main] INFO  ConsoleStatus - [DONE ] [49188ms] Startup Succeeded, Listening on port 8081
time=&amp;quot;2016-10-26T14:53:54Z&amp;quot; level=info msg=&amp;quot;Starting websocket proxy. Listening on [:8080], Proxying to cattle API at [localhost:8081], Monitoring parent pid [8]
...
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enter &lt;code&gt;localhost:8080&lt;/code&gt; in browser, and you may see&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/rancher/2016-10-26-rancher-index.png&quot; alt=&quot;rancher-index&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Get the IP of &lt;code&gt;rancher-server&lt;/code&gt; container&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   houbinbindeMacBook-Pro:~ houbinbin$ docker inspect --format &amp;#39;{{ .NetworkSettings.IPAddress }}&amp;#39; rancher-server

    172.17.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;ADD HOSTS&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Click &lt;strong&gt;Infrastructure&lt;/strong&gt;, into &lt;strong&gt;Hosts&lt;/strong&gt; page, click &lt;strong&gt;Add Host&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We will only be adding the Rancher server host itself. Click &lt;strong&gt;Save&lt;/strong&gt;.&lt;br/&gt;By default, the &lt;strong&gt;Custom&lt;/strong&gt; option will be selected, which provides the Docker command to launch the Rancher agent container.&lt;br/&gt;There will also be options for cloud providers, which Rancher uses Docker Machine to launch hosts.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/rancher/2016-10-26-rancher-add-hosts.png&quot; alt=&quot;rancher-add-host&quot; /&gt;&lt;/p&gt;
&lt;p&gt;1、Add the IP of &lt;code&gt;rancher-server&lt;/code&gt; container in &lt;strong&gt;Something else&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://172.17.0.2:8080
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Copy and run this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo docker run -d --privileged -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/rancher:/var/lib/rancher rancher/agent:v1.0.2 http://localhost:8080/v1/scripts/F6FA7D73AD9CEDEFDFFC:1477494000000:sDaoXvLMo7ZYn9rEmf0CLplZ2iI
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and it may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Unable to find image &amp;#39;rancher/agent:v1.0.2&amp;#39; locally
v1.0.2: Pulling from rancher/agent
5a132a7e7af1: Downloading [============================================&amp;gt;      ] 57.85 MB/65.69 MB
fd2731e4c50c: Download complete
28a2f68d1120: Download complete
a3ed95caeb02: Download complete
7fa4fac65171: Downloading [=&amp;gt;                                                 ] 2.162 MB/97.48 MB
33de63de5fdb: Download complete
d00b3b942272: Download complete
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;many years later&amp;hellip;&lt;/p&gt;
&lt;p&gt;In Mac, may get error like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Digest: sha256:b0b532d1e891534779d0eb1a01a5717ebfff9ac024db4412ead87d834ba92544
Status: Downloaded newer image for rancher/agent:v1.0.2
88e97942429d406bea7912ecf58f752c3c3e605c8bc1390bc169aaa17c498537
docker: Error response from daemon: Mounts denied:
The path /var/lib/rancher
is not shared from OS X and is not known to Docker.
You can configure shared paths from Docker -&amp;gt; Preferences... -&amp;gt; File Sharing.
See https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Get &lt;a href=&quot;https://docs.docker.com/docker-for-mac/osxfs/#namespaces&quot;&gt;more&lt;/a&gt; from here, we can change the the command like this in &lt;a href=&quot;http://icyleaf.com/&quot;&gt;Mac&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo docker run -d --privileged -v /var/run/docker.sock:/var/run/docker.sock -v /Users/houbinbin/docker/rancher/var/lib/rancher:/var/lib/rancher rancher/agent:v1.0.2 http://172.17.0.2:8080/v1/scripts/ABD244B661452F490C0E:1477533600000:fD9nnKGL4a15IGh9CDoM14ZLLo4

3bdf3d044694c30923c7b492b1b19f7e0596aa7355bc4b6b04eac99d6c230956
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When you click &lt;strong&gt;Close&lt;/strong&gt; on the Rancher UI, you will be directed back to the &lt;strong&gt;Infrastructure -&amp;gt; Hosts&lt;/strong&gt; view.&lt;br/&gt;In a couple of minutes, the host will automatically appear.&lt;/p&gt;
&lt;p&gt;It may like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;{{site.url}}/static/app/img/rancher/2016-10-27-rancher-first-host.png&quot; alt=&quot;first-host&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Create a Container through UI&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、Navigate to &lt;strong&gt;Stacks&lt;/strong&gt;, click the &lt;strong&gt;Add Stack&lt;/strong&gt;, provide a name and description. then, click &lt;strong&gt;Create&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2、Enter into one stack, click &lt;strong&gt;Add Service&lt;/strong&gt;, provide a name and just use default to &lt;strong&gt;Create&lt;/strong&gt; it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>YAML</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-10-26-yaml.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#yaml&quot; name=&quot;yaml&quot;&gt;&lt;/a&gt;YAML&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.yaml.org/&quot;&gt;YAML&lt;/a&gt; is a human friendly data serialization standard for all programming languages.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.ruanyifeng.com/blog/2016/07/yaml.html&quot;&gt;zh_cn&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;大小写敏感&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;使用缩进表示层级关系&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;缩进时不允许使用Tab键，只允许使用空格。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;缩进的空格数目不重要，只要相同层级的元素左侧对齐即可&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;#&lt;/code&gt; 表示注释，从这个字符一直到行尾，都会被解析器忽略&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://nodeca.github.io/js-yaml/&quot;&gt;Test&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#object&quot; name=&quot;object&quot;&gt;&lt;/a&gt;Object&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Use &lt;code&gt;:&lt;/code&gt; to split, right side must has blank.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;name: ryo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ name: &amp;#39;ryo&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Or like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;person: {name: ryo, age: 21}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ person: { name: &amp;#39;ryo&amp;#39;, age: 21 } }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#array&quot; name=&quot;array&quot;&gt;&lt;/a&gt;Array&lt;/h1&gt;
&lt;p&gt;Start with &lt;code&gt;-&lt;/code&gt;, like this&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- apple
- box
- cat
- dog
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;[ &amp;#39;apple&amp;#39;, &amp;#39;box&amp;#39;, &amp;#39;cat&amp;#39;, &amp;#39;dog&amp;#39; ]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;The sub-member of array can sign like this&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;-
  - apple
  - box
  - cat
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;[ [ &amp;#39;apple&amp;#39;, &amp;#39;box&amp;#39;, &amp;#39;cat&amp;#39; ] ]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Inline nation&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;array: [apple, box]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ array: [ &amp;#39;apple&amp;#39;, &amp;#39;box&amp;#39; ] }
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Multi use array and object:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;names:
 - Ryo
 - Kyo
 - May
animations:
 - Key: Kanon
 - Key: ReWrite
 - Key: CLANNAD
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ names: [ &amp;#39;Ryo&amp;#39;, &amp;#39;Kyo&amp;#39;, &amp;#39;May&amp;#39; ],
  animations: [ { Key: &amp;#39;Kanon&amp;#39; }, { Key: &amp;#39;ReWrite&amp;#39; }, { Key: &amp;#39;CLANNAD&amp;#39; } ] }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#primitive-type&quot; name=&quot;primitive-type&quot;&gt;&lt;/a&gt;Primitive Type&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Number&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;age: 12
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ age: 12 }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Bool&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;isTrue: false
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ isTrue: false }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Null&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;null use &lt;code&gt;~&lt;/code&gt; to express&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;memory: ~
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ memory: null }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Time&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;time use &lt;strong&gt;ISO8601&lt;/strong&gt; type:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;time: 2016-10-26t21:59:43.10-05:00
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ time: Thu Oct 27 2016 10:59:43 GMT+0800 (CST) }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Date&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;date use multi &lt;strong&gt;iso8601&lt;/strong&gt; year, month, day&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;date: 1970-01-01
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ date: Thu Jan 01 1970 08:00:00 GMT+0800 (CST) }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;YMAL can use &lt;code&gt;!!&lt;/code&gt; to force the type&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;name: !!str ryo
age: !!int &amp;#39;56&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ name: &amp;#39;ryo&amp;#39;, age: 56 }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#string&quot; name=&quot;string&quot;&gt;&lt;/a&gt;String&lt;/h1&gt;
&lt;p&gt;String default is no need use &lt;em&gt;``&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;str: this is a string demo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ str: &amp;#39;this is a string demo&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If there has space or special word in your string, use &lt;strong&gt;&amp;rsquo;&amp;rsquo;&lt;/strong&gt; or &lt;strong&gt;&amp;quot;&amp;quot;&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;name: &amp;quot;hou: ryo&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ name: &amp;#39;hou: ryo&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The diff between &lt;strong&gt;&amp;rsquo;&amp;rsquo;&lt;/strong&gt; and &lt;strong&gt;&amp;quot;&amp;quot;&lt;/strong&gt; is:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;special word in &lt;strong&gt;&amp;rsquo;&amp;rsquo;&lt;/strong&gt; will be transfer, but in &lt;strong&gt;&amp;quot;&amp;quot;&lt;/strong&gt; will not&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;double quote: &amp;quot;long \n long story&amp;quot;
single quote: &amp;#39;long \n long story&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ &amp;#39;double quote&amp;#39;: &amp;#39;long \n long story&amp;#39;,
  &amp;#39;single quote&amp;#39;: &amp;#39;long \\n long story&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;单引号之中如果还有单引号，必须连续使用两个单引号转义。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;name: &amp;#39;mary&amp;#39;&amp;#39;s song&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ name: &amp;#39;mary\&amp;#39;s song&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;字符串可以写成多行，从第二行开始，必须有一个单空格缩进。换行符会被转为空格&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;long string
 a
 ha
 ha
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;#39;long string a ha ha&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;多行字符串可以使用&lt;code&gt;|&lt;/code&gt;保留换行符，也可以使用&lt;code&gt;&amp;gt;&lt;/code&gt;折叠换行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;this: |
 angle
 beats
that: &amp;gt;
 little
 busters
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ this: &amp;#39;angle\nbeats\n&amp;#39;, that: &amp;#39;little busters\n&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;+&lt;/code&gt;表示保留文字块末尾的换行，&lt;code&gt;-&lt;/code&gt;表示删除字符串末尾的换行&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;one: |
 Spring

two: |+
 Summer


three: |-
 Autumn

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ one: &amp;#39;Spring\n&amp;#39;, two: &amp;#39;Summer\n\n\n&amp;#39;, three: &amp;#39;Autumn&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;String can insert &lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;string with html: |

 &amp;lt;p class=&amp;quot;red&amp;quot;&amp;gt;
     red
 &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ &amp;#39;string with html&amp;#39;: &amp;#39;\n&amp;lt;p class=&amp;quot;red&amp;quot;&amp;gt;\n    red\n&amp;lt;/p&amp;gt;\n&amp;#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#quote&quot; name=&quot;quote&quot;&gt;&lt;/a&gt;Quote&lt;/h1&gt;
&lt;p&gt;You can use like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Author: &amp;amp;author
  name: ryo
  age: 11

Blog:
  info: learn note
  &amp;lt;&amp;lt;: *author

Artile:
  info: sth just like
  &amp;lt;&amp;lt;: *author
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in js:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{ Author: { name: &amp;#39;ryo&amp;#39;, age: 11 },
  Blog: { info: &amp;#39;learn note&amp;#39;, name: &amp;#39;ryo&amp;#39;, age: 11 },
  Artile: { info: &amp;#39;sth just like&amp;#39;, name: &amp;#39;ryo&amp;#39;, age: 11 } }
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Fitnesse</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-11-10-fitnesse.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#fitnesse&quot; name=&quot;fitnesse&quot;&gt;&lt;/a&gt;Fitnesse&lt;/h1&gt;
&lt;p&gt;The fully integrated standalone wiki and acceptance testing framework&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://fitnesse.org/&quot;&gt;fitnesse&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#hello-world&quot; name=&quot;hello-world&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/funi16/article/details/8985280&quot;&gt;intro-demo zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;a href=&quot;http://fitnesse.org/FitNesseDownload&quot;&gt;Download&lt;/a&gt; the &lt;code&gt;fitnesse-standalone.jar&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Start&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;start fitnesse on port 7979&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\Tools\fitnesse&amp;gt;java -jar fitnesse-standalone.jar -p 7979
十一月 10, 2016 3:36:46 下午 fitnesse.ConfigurationParameter loadProperties
信息: No configuration file found (D:\Tools\fitnesse\plugins.properties)
Bootstrapping FitNesse, the fully integrated standalone wiki and acceptance testing framework.
root page: fitnesse.wiki.fs.WikiFilePage: FitNesseRoot
logger: none
authenticator: fitnesse.authentication.PromiscuousAuthenticator
page factory: fitnesse.html.template.PageFactory
page theme: bootstrap
Unpacking new version of FitNesse resources. Please be patient...
**********************************************************
Files have been updated to a new version.
Please read the release notes on
http://localhost:7979/FitNesse.ReleaseNotes
to find out about the new features and fixes.
**********************************************************
Starting FitNesse on port: 7979
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;visit&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;localhost:7979
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/tools/fitnesse/2016-11-10-fitnesse-index.png&quot; alt=&quot;index&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Edit page&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据第一句提示，直接点击【Edit】，然后在最后添加页面名称如【MyFirstPage】后保存。命名规则**WikiWord**有说明。&lt;/p&gt;
&lt;p&gt;返回即可看见添加的页面。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Start&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:fitnesse houbinbin$ ls
fitnesse-standalone.jar
houbinbindeMacBook-Pro:fitnesse houbinbin$ pwd
/Users/houbinbin/it/tools/fitnesse
houbinbindeMacBook-Pro:fitnesse houbinbin$ java -jar fitnesse-standalone.jar -p 7979
十一月 10, 2016 10:17:24 下午 fitnesse.ConfigurationParameter loadProperties
信息: No configuration file found (/Users/houbinbin/IT/tools/fitnesse/plugins.properties)
Bootstrapping FitNesse, the fully integrated standalone wiki and acceptance testing framework.
root page: fitnesse.wiki.fs.WikiFilePage: FitNesseRoot
logger: none
authenticator: fitnesse.authentication.PromiscuousAuthenticator
page factory: fitnesse.html.template.PageFactory
page theme: bootstrap
Unpacking new version of FitNesse resources. Please be patient...
**********************************************************
Files have been updated to a new version.
Please read the release notes on
http://localhost:7979/FitNesse.ReleaseNotes
to find out about the new features and fixes.
**********************************************************
Starting FitNesse on port: 7979

&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Add Page &lt;code&gt;MyFirstPage&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、Set the type of page into &lt;strong&gt;test&lt;/strong&gt; in &lt;strong&gt;tools/properties&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2、Edit page, add content like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;!define TEST_SYSTEM {slim}
!path /Users/houbinbin/IT/tools/fitnesse/fitnesse-standalone.jar
!path /Users/houbinbin/it/tools/fitnesse/
!|HelloWorld|
|sayHello?|
|Hello|
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;内容详解:&lt;/p&gt;
&lt;p&gt;Line 1: 使用FitNesse的slim模块，也就是使用网页的形式描述测试用例&lt;/p&gt;
&lt;p&gt;Line 2: &lt;code&gt;fitnesse-standalone.jar&lt;/code&gt; jar文件路径。&lt;/p&gt;
&lt;p&gt;Line 3: &lt;code&gt;HelloWorld.class&lt;/code&gt; class文件存放路径。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;HelloWorld.java&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class HelloWorld {
  public String sayHello(){
    return &amp;quot;Hello&amp;quot;;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;通过命令,编译后获得&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   javac HelloWorld.java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Line 4: 引入HelloWorld类&lt;/p&gt;
&lt;p&gt;Line 5: 方法名称,带有&lt;code&gt;?&lt;/code&gt;说明此方法为返回值,Line 6 为对应的返回值。如果只是&lt;code&gt;age&lt;/code&gt;,则会调用对应&lt;code&gt;setAge()&lt;/code&gt; 方法,下一行为设置的值。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Test&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;点击页面【Test】,结果如下&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Test Pages: 1 right, 0 wrong, 0 ignored, 0 exceptions     Assertions: 1 right, 0 wrong, 0 ignored, 0 exceptions (0.530 seconds)
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Port</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-11-30-port.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#port&quot; name=&quot;port&quot;&gt;&lt;/a&gt;Port&lt;/h1&gt;
&lt;p&gt;各端口分配, 个人整理设计。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;Port &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Server &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Default port &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;80 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Apache &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;80 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;1234 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Phabricator &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;2181 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;zookeeper &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;2181 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;2280 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;CAT server &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;2280 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;2281 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;CAT tomcat &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;2281 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;4000 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;jekyll &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;4000 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;6379 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Redis &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;6379 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;8081 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;Sonatype Nexus &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;8081 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;8888 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;tomcat &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;8080 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;9000 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;SonarQube &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;9000 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;5601 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;kibana &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;5601 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;9200 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;elasticsearch &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;9200 &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;7000 &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;logstash &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;7000 &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#端口占用情况&quot; name=&quot;端口占用情况&quot;&gt;&lt;/a&gt;端口占用情况&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;lsof -i:XXX&lt;/code&gt; 查看&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;sudo netstat -apn | grep XXX&lt;/code&gt; 查看&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;ps -aux | grep XXX&lt;/code&gt; 详细信息&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;code&gt;ps -ef | grep XXX&lt;/code&gt; 根据分类条件查询信息&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Cat</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-12-16-cat.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#cat&quot; name=&quot;cat&quot;&gt;&lt;/a&gt;Cat&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/houbb/cat&quot;&gt;Cat&lt;/a&gt; 基于Java开发的实时应用监控平台，包括实时应用监控，业务监控&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.icaijing.org/finance/article4761593/&quot;&gt;cat zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;CAT支持的监控消息类型包括：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;Transaction&lt;br/&gt;适合记录跨越系统边界的程序访问行为,比如远程调用，数据库调用，也适合执行时间较长的业务逻辑监控，Transaction用来记录一段代码的执行时间和次数。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Event&lt;br/&gt;用来记录一件事发生的次数，比如记录系统异常，它和transaction相比缺少了时间的统计，开销比transaction要小。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Heartbeat&lt;br/&gt;表示程序内定期产生的统计信息, 如CPU%, MEM%, 连接池状态, 系统负载等。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Metric&lt;br/&gt;用于记录业务指标、指标可能包含对一个指标记录次数、记录平均值、记录总和，业务指标最低统计粒度为1分钟。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;Trace&lt;br/&gt;用于记录基本的trace信息，类似于log4j的info信息，这些信息仅用于查看一些相关信息&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#消息树&quot; name=&quot;消息树&quot;&gt;&lt;/a&gt;消息树&lt;/h1&gt;
&lt;p&gt;CAT监控系统将每次URL、Service的请求内部执行情况都封装为一个完整的消息树、消息树可能包括Transaction、Event、Heartbeat、Metric和Trace信息。&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#完整的消息树&quot; name=&quot;完整的消息树&quot;&gt;&lt;/a&gt;完整的消息树&lt;/h2&gt;
&lt;p&gt;![full tree]({{ site.url}}/static/app/img/cat/2016-12-16-cat-tree-full.png)&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#可视化消息树&quot; name=&quot;可视化消息树&quot;&gt;&lt;/a&gt;可视化消息树&lt;/h2&gt;
&lt;p&gt;![full tree]({{ site.url}}/static/app/img/cat/2016-12-16-cat-tree-view.png)&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#分布式消息树&quot; name=&quot;分布式消息树&quot;&gt;&lt;/a&gt;分布式消息树&lt;/h2&gt;
&lt;p&gt;【一台机器调用另外一台机器】&lt;/p&gt;
&lt;p&gt;![full tree]({{ site.url}}/static/app/img/cat/2016-12-16-cat-tree-distributed.png)&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#quick-start&quot; name=&quot;quick-start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;
&lt;p&gt;1、 Download&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   git clone https://github.com/dianping/cat
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、 Install&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mvn clean install -DskipTests
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Config cat env&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   mvn cat:install

[INFO] Preparing Cat environment...
Please input jdbc url:[jdbc:mysql://127.0.0.1:3306]jdbc:mysql://127.0.0.1:3306
Please input username:root
Please input password:[]123456
[INFO] jdbc.url: jdbc:mysql://127.0.0.1:3306
[INFO] jdbc.user: root
[INFO] jdbc.password: 123456
[INFO] Connecting to database(jdbc:mysql://127.0.0.1:3306) ...
[INFO] Connected to database(jdbc:mysql://127.0.0.1:3306)
[INFO] Creating database(cat) ...
[INFO] Database(cat) is created successfully
[INFO] Creating tables ...
[INFO] Tables are created successfully
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、 privilege of &lt;code&gt;/data/appdatas/cat&lt;/code&gt; and &lt;code&gt;/data/applogs/cat&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;strong&gt;/data/appdatas/cat&lt;/strong&gt; 目录是存放cat-home 配置文件的相对地址&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;&lt;strong&gt;/data/applogs/cat&lt;/strong&gt; 目录是存放cat-home 的log日志&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[ERROR] Don&amp;#39;t have privilege to read/write /data/appdatas/cat, please  manually make this directory
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;create and set privilege&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo mkdir /data/appdatas/cat
$   sudo mkdir /data/applogs/cat
$   sudo chmod 777 /data/appdatas/cat
$   sudo chmod 777 /data/applogs/cat
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5、 Re-Config cat env&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;houbinbindeMacBook-Pro:cat houbinbin$ pwd
/Users/houbinbin/it/code/cat
[INFO] Preparing Cat environment...
Please input jdbc url:[jdbc:mysql://127.0.0.1:3306]jdbc:mysql://127.0.0.1:3306
Please input username:root
Please input password:[]123456
[INFO] jdbc.url: jdbc:mysql://127.0.0.1:3306
[INFO] jdbc.user: root
[INFO] jdbc.password: 123456
[INFO] Connecting to database(jdbc:mysql://127.0.0.1:3306) ...
[INFO] Connected to database(jdbc:mysql://127.0.0.1:3306)
[INFO] Creating database(cat) ...
[INFO] Database &amp;#39;cat&amp;#39; already exists, drop it first...
[INFO] Database &amp;#39;cat&amp;#39; has dropped
[INFO] Database(cat) is created successfully
[INFO] Creating tables ...
[INFO] Tables are created successfully
[INFO] Generating the configuration files to /data/appdatas/cat ...
[INFO] Configuration files are generated successfully
[INFO] Preparing Cat environment ... DONE
[INFO] Use following command line to start local Cat server:
[INFO]    cd cat-home; mvn jetty:run
[INFO] Please open http://localhost:2281/cat in your browser
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6、 Run cat&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd cat-home
$ mvn jetty:run
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
  &lt;li&gt;Visit&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Input &lt;code&gt;http://localhost:2281/cat&lt;/code&gt; in your browser:&lt;/p&gt;
&lt;p&gt;![cat index]({{ site.url}}/static/app/img/cat/2016-12-17-cat-index.png)&lt;/p&gt;
&lt;p&gt;默认用户名密码:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root/123456
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#部署埋点&quot; name=&quot;部署埋点&quot;&gt;&lt;/a&gt;部署埋点&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/yjmyzz/p/dianping-cat-deploy-tutorial.html&quot;&gt;blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意!!!: 必须使用JDK1.7, JDK1.8 虽然可以跑。但是最后会报错。&lt;/p&gt;
&lt;p&gt;再次提醒：如果安装了多个版本的jdk，编译前先将jdk版本切换到jdk 1.7(包括编译成功后，运行时也要jdk 1.7环境)　&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/dianping/cat/issues/928&quot;&gt;支持JDK1.8&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;文档见: (【文档】-》【部署文档】)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://localhost:2281/cat/r/home?op=view&amp;amp;docName=deploy
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/ggjlvzjy/article/details/51908130&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.2cto.com/os/201507/422030.html&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;为了测试,暂时本地简单启动一个服务, 假设为我们的app(&lt;code&gt;localhost:18080&lt;/code&gt;)(ps:后来发现8081和nexus冲突,就改了下端口。)。&lt;/p&gt;
&lt;p&gt;![blog index]({{ site.url}}/static/app/img/cat/2017-01-18-cat-blog-index.png)&lt;/p&gt;
&lt;p&gt;1) 设置cat服务&lt;code&gt;/data/appdatas/cat/client.xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;暂时本地做测试。不做集成。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;

&amp;lt;config mode=&amp;quot;client&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; xsi:noNamespaceSchemaLocation=&amp;quot;config.xsd&amp;quot;&amp;gt;
        &amp;lt;servers&amp;gt;
                &amp;lt;!-- Local mode for development --&amp;gt;
                &amp;lt;server ip=&amp;quot;127.0.0.1&amp;quot; port=&amp;quot;2280&amp;quot; http-port=&amp;quot;2281&amp;quot; /&amp;gt;
        &amp;lt;/servers&amp;gt;
&amp;lt;/config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2) 配置服务端的数据库配置&lt;code&gt;datasources.xml&lt;/code&gt;，文件路径&lt;code&gt;/data/appdatas/cat/datasources.xml&lt;/code&gt;,需要替换对应的线上配置&lt;/p&gt;
&lt;p&gt;上面的对应**cat**服务数据库。下面的为我们的app数据库。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;

&amp;lt;data-sources&amp;gt;
        &amp;lt;data-source id=&amp;quot;cat&amp;quot;&amp;gt;
                &amp;lt;maximum-pool-size&amp;gt;3&amp;lt;/maximum-pool-size&amp;gt;
                &amp;lt;connection-timeout&amp;gt;1s&amp;lt;/connection-timeout&amp;gt;
                &amp;lt;idle-timeout&amp;gt;10m&amp;lt;/idle-timeout&amp;gt;
                &amp;lt;statement-cache-size&amp;gt;1000&amp;lt;/statement-cache-size&amp;gt;
                &amp;lt;properties&amp;gt;
                        &amp;lt;driver&amp;gt;com.mysql.jdbc.Driver&amp;lt;/driver&amp;gt;
                        &amp;lt;url&amp;gt;&amp;lt;![CDATA[jdbc:mysql://127.0.0.1:3306/cat]]&amp;gt;&amp;lt;/url&amp;gt;
                        &amp;lt;user&amp;gt;root&amp;lt;/user&amp;gt;
                        &amp;lt;password&amp;gt;123456&amp;lt;/password&amp;gt;
                        &amp;lt;connectionProperties&amp;gt;&amp;lt;![CDATA[useUnicode=true&amp;amp;autoReconnect=true]]&amp;gt;&amp;lt;/connectionProperties&amp;gt;
                &amp;lt;/properties&amp;gt;
        &amp;lt;/data-source&amp;gt;
        &amp;lt;data-source id=&amp;quot;app&amp;quot;&amp;gt;
                &amp;lt;maximum-pool-size&amp;gt;3&amp;lt;/maximum-pool-size&amp;gt;
                &amp;lt;connection-timeout&amp;gt;1s&amp;lt;/connection-timeout&amp;gt;
                &amp;lt;idle-timeout&amp;gt;10m&amp;lt;/idle-timeout&amp;gt;
                &amp;lt;statement-cache-size&amp;gt;1000&amp;lt;/statement-cache-size&amp;gt;
                &amp;lt;properties&amp;gt;
                        &amp;lt;driver&amp;gt;com.mysql.jdbc.Driver&amp;lt;/driver&amp;gt;
                        &amp;lt;url&amp;gt;&amp;lt;![CDATA[jdbc:mysql://127.0.0.1:3306/blog]]&amp;gt;&amp;lt;/url&amp;gt;
                        &amp;lt;user&amp;gt;root&amp;lt;/user&amp;gt;
                        &amp;lt;password&amp;gt;123456&amp;lt;/password&amp;gt;
                        &amp;lt;connectionProperties&amp;gt;&amp;lt;![CDATA[useUnicode=true&amp;amp;autoReconnect=true]]&amp;gt;&amp;lt;/connectionProperties&amp;gt;
                &amp;lt;/properties&amp;gt;
        &amp;lt;/data-source&amp;gt;
&amp;lt;/data-sources&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3) 配置服务端的&lt;code&gt;server.xml&lt;/code&gt;，文件路径&lt;code&gt;/data/appdatas/cat/server.xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;简单配置如下:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;

&amp;lt;!-- Configuration for development environment--&amp;gt;
&amp;lt;config local-mode=&amp;quot;false&amp;quot; hdfs-machine=&amp;quot;false&amp;quot; job-machine=&amp;quot;true&amp;quot; alert-machine=&amp;quot;false&amp;quot;&amp;gt;

        &amp;lt;storage  local-base-dir=&amp;quot;/data/appdatas/cat/bucket/&amp;quot; max-hdfs-storage-time=&amp;quot;15&amp;quot; local-report-storage-time=&amp;quot;7&amp;quot; local-logivew-storage-time=&amp;quot;7&amp;quot;&amp;gt;

        &amp;lt;/storage&amp;gt;

        &amp;lt;console default-domain=&amp;quot;Cat&amp;quot; show-cat-domain=&amp;quot;true&amp;quot;&amp;gt;
                &amp;lt;remote-servers&amp;gt;127.0.0.1:2281&amp;lt;/remote-servers&amp;gt;
        &amp;lt;/console&amp;gt;

&amp;lt;/config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4) 路由配置, 默认用户 &lt;code&gt;catadmin/catadmin&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://127.0.0.1:2281/cat/s/config?op=routerConfigUpdate
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;默认进入【全局告警配置】-》【客户端路由】,修改内容如下:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;router-config backup-server=&amp;quot;127.0.0.1&amp;quot; backup-server-port=&amp;quot;2280&amp;quot;&amp;gt;
   &amp;lt;default-server id=&amp;quot;127.0.0.1&amp;quot; weight=&amp;quot;1.0&amp;quot; port=&amp;quot;2280&amp;quot; enable=&amp;quot;true&amp;quot;/&amp;gt;
&amp;lt;/router-config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a href=&quot;#客户端集成&quot; name=&quot;客户端集成&quot;&gt;&lt;/a&gt;客户端集成&lt;/h2&gt;
&lt;p&gt;项目中需要引入 &lt;code&gt;cat-client-XXX.jar&lt;/code&gt; and &lt;code&gt;cat-core-XXX.jar&lt;/code&gt;。这两个jar包如果想使用maven怎么得到呢?&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;本地使用: cat 项目直接 &lt;code&gt;mvn clean install&lt;/code&gt; 会将 jar 安装到本地。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;将cat视为自己的项目,直接打包到nexus上。&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;支持广泛使用: jar上传到 &lt;strong&gt;nexus&lt;/strong&gt; 上。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;blog pom.xml 添加:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;com.dianping.cat&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;cat-core&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.4.0&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;com.dianping.cat&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;cat-client&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.4.0&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1) Web.xml中新增filter&lt;/p&gt;
&lt;p&gt;注：如果项目是对外不提供URL访问，比如GroupService，仅仅提供Pigeon服务，则不需要。&lt;/p&gt;
&lt;p&gt;Filter放在url-rewrite-filter 之后的第一个，如果不是会导致URL的个数无限多，比如search/1/2,search/2/3等等，无法监控，后端存储压力也变大。&lt;/p&gt;
&lt;p&gt;暂时跳过。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;filter&amp;gt;
    &amp;lt;filter-name&amp;gt;cat-filter&amp;lt;/filter-name&amp;gt;
    &amp;lt;filter-class&amp;gt;com.dianping.cat.servlet.CatFilter&amp;lt;/filter-class&amp;gt;
&amp;lt;/filter&amp;gt;
&amp;lt;filter-mapping&amp;gt;
    &amp;lt;filter-name&amp;gt;cat-filter&amp;lt;/filter-name&amp;gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;dispatcher&amp;gt;REQUEST&amp;lt;/dispatcher&amp;gt;
    &amp;lt;dispatcher&amp;gt;FORWARD&amp;lt;/dispatcher&amp;gt;
&amp;lt;/filter-mapping&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2) 设置domain (cat-core 1.1.3之后版本，优先读取A配置)&lt;/p&gt;
&lt;p&gt;A) 在资源文件中新建app.properties文件&lt;/p&gt;
&lt;p&gt;在resources资源文件META-INF下，注意是src/main/resources/META-INF/文件夹， 而不是webapps下的那个META-INF,添加app.properties，加上domain配置，如：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;app.name=blog
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;B) 在资源文件中新建client.xml文件&lt;/p&gt;
&lt;p&gt;在resources资源文件META-INF下，新建cat文件夹，注意是src/main/resources/META-INF/cat/client.xml文件， 而不是webapps下的那个META-INF,domain id表示项目名称此处为CMDB申请的名字，比如&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;config mode=&amp;quot;client&amp;quot;&amp;gt;
    &amp;lt;domain id=&amp;quot;tuangou-web&amp;quot;/&amp;gt;
&amp;lt;/config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3) /data/appdatas/cat/client.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;

&amp;lt;config mode=&amp;quot;client&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; xsi:noNamespaceSchemaLocation=&amp;quot;config.xsd&amp;quot;&amp;gt;
        &amp;lt;servers&amp;gt;
                &amp;lt;!-- Local mode for development --&amp;gt;
                &amp;lt;server ip=&amp;quot;127.0.0.1&amp;quot; port=&amp;quot;2280&amp;quot; http-port=&amp;quot;2281&amp;quot; /&amp;gt;

                &amp;lt;domain id=&amp;quot;blog&amp;quot; enabled=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/servers&amp;gt;
&amp;lt;/config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4) 与 Log4j2 集成&lt;/p&gt;
&lt;p&gt;log4j2.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;off&amp;quot; monitorInterval=&amp;quot;1800&amp;quot;&amp;gt;
    &amp;lt;Appenders&amp;gt;
        &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{yyyy-MM-dd HH:mm:ss.SSS}  %-5level [%t] %logger{36}:%L - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Console&amp;gt;

        &amp;lt;!--cat log--&amp;gt;
        &amp;lt;appender name=&amp;quot;CatAppender&amp;quot; class=&amp;quot;com.dianping.cat.log4j.CatAppender&amp;quot;/&amp;gt;
    &amp;lt;/Appenders&amp;gt;

    &amp;lt;Loggers&amp;gt;
        &amp;lt;Root level=&amp;quot;INFO&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;CatAppender&amp;quot;/&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
        &amp;lt;/Root&amp;gt;
    &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
````


&amp;lt;label class=&amp;quot;label label-danger&amp;quot;&amp;gt;Error&amp;lt;/label&amp;gt;

启动后一直报错如下:

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;java.lang.RuntimeException: Unable to get instance of Logger, please make sure the environment was setup correctly!&lt;br/&gt; org.unidal.initialization.DefaultModuleContext.(DefaultModuleContext.java:28)&lt;br/&gt; com.dianping.cat.Cat.initialize(Cat.java:91)&lt;br/&gt; com.dianping.cat.Cat.initialize(Cat.java:87)&lt;br/&gt; com.dianping.cat.Cat.checkAndInitialize(Cat.java:45)&lt;br/&gt; com.dianping.cat.Cat.getManager(Cat.java:72)&lt;br/&gt; com.dianping.cat.servlet.CatFilter$CatHandler$1.handle(CatFilter.java:104)&lt;br/&gt; com.dianping.cat.servlet.CatFilter$Context.handle(CatFilter.java:406)&lt;br/&gt; com.dianping.cat.servlet.CatFilter.doFilter(CatFilter.java:53)&lt;br/&gt;root cause&lt;br/&gt;```&lt;/p&gt;
&lt;p&gt;根据如下可知,应该是&lt;code&gt;mvn-tomcat-plugin&lt;/code&gt;造成的冲突,就改成了jetty插件。亲测可行。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/dianping/cat/issues/699&quot;&gt;ISSUE 699&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Swagger</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-12-22-swagger.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#swagger&quot; name=&quot;swagger&quot;&gt;&lt;/a&gt;Swagger&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://swagger.io/&quot;&gt;Swagger&lt;/a&gt; is a powerful open source framework backed by a large ecosystem of tools that helps you design, build, document, and consume your RESTful APIs.&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#with-springboot&quot; name=&quot;with-springboot&quot;&gt;&lt;/a&gt;With SpringBoot&lt;/h1&gt;
&lt;p&gt;You can get the full project demo from &lt;a href=&quot;https://github.com/houbb/springboot&quot;&gt;swagger-springboot&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.didispace.com/springbootswagger2/&quot;&gt;springboot-blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;File Struct may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.
|____main
| |____java
| | |____com
| | | |____ryo
| | | | |____Application.java
| | | | |____controller
| | | | | |____HelloWorld.java
| | | | |____Swagger2.java
| |____resources
| | |____application.properties
| | |____log4j2.xml
| | |____README.md

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt; Create SpringBoot Project-&amp;gt;Import Swagger:&lt;br/&gt; Import Swagger-&amp;gt;Config Swagger:&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;1、 Create SpringBoot Project&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Import springboot jars in &lt;code&gt;pom.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;springboot&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0.0&amp;lt;/version&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
        &amp;lt;maven-surefire-plugin.version&amp;gt;2.18.1&amp;lt;/maven-surefire-plugin.version&amp;gt;
        &amp;lt;maven-compiler-plugin.version&amp;gt;3.3&amp;lt;/maven-compiler-plugin.version&amp;gt;

        &amp;lt;!--spring-boot--&amp;gt;
        &amp;lt;spring-boot.version&amp;gt;1.3.5.RELEASE&amp;lt;/spring-boot.version&amp;gt;

        &amp;lt;log4j.version&amp;gt;2.6&amp;lt;/log4j.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!--spring-boot--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;!--log4j--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

    &amp;lt;/dependencies&amp;gt;


    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${spring-boot.version}&amp;lt;/version&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-surefire-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                    &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven-compiler-plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;1.8&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;1.8&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Import swagger jars&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;io.springfox&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;springfox-swagger2&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;io.springfox&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;springfox-swagger-ui&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;2.2.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Config and use&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;Application.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

/**
 * Created by houbinbin on 16/6/5.
 */
@SpringBootApplication
public class Application {
    public static void main(String args[]) {
        SpringApplication.run(Application.class, args);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;HelloWorld.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.controller;

import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

/**
 * Created by houbinbin on 16/6/19.
 */
@RestController
@RequestMapping(&amp;quot;hello&amp;quot;)
@Api(value = &amp;quot;hello&amp;quot;, description = &amp;quot;spring boot 初步测试&amp;quot;)
public class HelloWorld {

    @ApiOperation(value=&amp;quot;hello&amp;quot;, notes=&amp;quot;初步使用啦啦啦&amp;quot;)
    @RequestMapping(method = RequestMethod.GET)
    public String hello() {
        return &amp;quot;SUCCESS&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;application.properties&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;server.port=180080
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、 Start the application&lt;/p&gt;
&lt;p&gt;Maven Projects-&amp;gt;${project}-&amp;gt;Plugins-&amp;gt;spring-boot-&amp;gt;spring-boot:run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; .   ____          _            __ _ _
 /\\ / ___&amp;#39;_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | &amp;#39;_ | &amp;#39;_| | &amp;#39;_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  &amp;#39;  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v1.3.5.RELEASE)

2016-12-25 15:29:50.066  INFO 4095 --- [           main] com.ryo.Application                      : Starting Application on houbinbindeMacBook-Pro.local with PID 4095 (/Users/houbinbin/IT/code/springboot/target/classes started by houbinbin in /Users/houbinbin/IT/code/springboot)
2016-12-25 15:29:50.069  INFO 4095 --- [           main] com.ryo.Application                      : No active profile set, falling back to default profiles: default
...
2016-12-25 15:29:52.688  INFO 4095 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 18080 (http)
2016-12-25 15:29:52.692  INFO 4095 --- [           main] com.ryo.Application                      : Started Application in 3.094 seconds (JVM running for 5.262)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Visit in the browser&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;![swagger2 index]({{ site.url}}/static/app/img/doc/2016-12-25-swagger2-spring-boot.png)&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#with-springmvc&quot; name=&quot;with-springmvc&quot;&gt;&lt;/a&gt;With SpringMvc&lt;/h1&gt;
&lt;p&gt;You can get the full project demo from &lt;a href=&quot;https://github.com/houbb/swagger-demo&quot;&gt;swagger-springmvc&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://javatech.wang/index.php/archives/74/&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/haoyifen/article/details/52703376&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The file struct may like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.
|____main
| |____java
| | |____com
| | | |____ryo
| | | | |____swagger
| | | | | |____demo
| | | | | | |____controller
| | | | | | | |____UserController.java
| | | | | | |____model
| | | | | | | |____User.java
| | | | | | |____MySwaggerConfig.java
| | | | | | |____vo
| | | | | | | |____Result.java
| |____resources
| | |____app-beans.xml
| | |____app-mvc.xml
| | |____app.xml
| | |____log4j2.xml
| |____webapp
| | |____WEB-INF
| | | |____web.xml
|____test
| |____java
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1、 &lt;code&gt;pom.xml&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;com.ryo&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;swagger-demo&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;

    &amp;lt;properties&amp;gt;
        &amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;
        &amp;lt;jdk.version&amp;gt;1.8&amp;lt;/jdk.version&amp;gt;

        &amp;lt;plugin.tomcat.version&amp;gt;2.2&amp;lt;/plugin.tomcat.version&amp;gt;
        &amp;lt;plugin-maven-surefire.version&amp;gt;2.18.1&amp;lt;/plugin-maven-surefire.version&amp;gt;
        &amp;lt;plugin-maven-compiler.version&amp;gt;3.3&amp;lt;/plugin-maven-compiler.version&amp;gt;

        &amp;lt;spring.version&amp;gt;4.2.6.RELEASE&amp;lt;/spring.version&amp;gt;
        &amp;lt;servlet.version&amp;gt;3.1.0&amp;lt;/servlet.version&amp;gt;
        &amp;lt;jackson.version&amp;gt;2.4.4&amp;lt;/jackson.version&amp;gt;
        &amp;lt;swagger2.version&amp;gt;2.5.0&amp;lt;/swagger2.version&amp;gt;

        &amp;lt;log4j2.version&amp;gt;2.6&amp;lt;/log4j2.version&amp;gt;
    &amp;lt;/properties&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!--spring--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-webmvc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-beans&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context-support&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;!--web--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;javax.servlet&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;javax.servlet-api&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${servlet.version}&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;!--============= springfox-swagger smallest dependency start ==========--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;io.springfox&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;springfox-swagger2&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${swagger2.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;io.springfox&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;springfox-swagger-ui&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${swagger2.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.fasterxml.jackson.core&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jackson-annotations&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${jackson.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.fasterxml.jackson.core&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jackson-databind&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${jackson.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.fasterxml.jackson.core&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jackson-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${jackson.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!--============= springfox-swagger smallest dependency end ==========--&amp;gt;

        &amp;lt;!--log4j2--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-api&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j2.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.logging.log4j&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;log4j-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${log4j2.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

    &amp;lt;/dependencies&amp;gt;

    &amp;lt;build&amp;gt;
        &amp;lt;finalName&amp;gt;${project.name}&amp;lt;/finalName&amp;gt;

        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.tomcat.maven&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;tomcat7-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin.tomcat.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;port&amp;gt;18080&amp;lt;/port&amp;gt;
                    &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
                    &amp;lt;uriEncoding&amp;gt;${project.build.sourceEncoding}&amp;lt;/uriEncoding&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin-maven-surefire.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;skipTests&amp;gt;true&amp;lt;/skipTests&amp;gt;
                    &amp;lt;testFailureIgnore&amp;gt;true&amp;lt;/testFailureIgnore&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;

            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${plugin-maven-compiler.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;${jdk.version}&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;${jdk.version}&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;

&amp;lt;/project&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Java files&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;Result.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class Result implements Serializable {
    // 0成功
    private int code;
    // 返回消息，成功为“success”，失败为具体失败信息
    private String message;
    // 返回数据
    private Object data;

    //...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;User.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public class User {
    private int userId;
    private String name;
    private int age;
    //...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;UserController.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Api(value = &amp;quot;User控制器&amp;quot;)
@Controller
@RequestMapping(&amp;quot;/user&amp;quot;)
public class UserController {

    @ApiOperation(value = &amp;quot;根据用户id查询用户信息&amp;quot;, httpMethod = &amp;quot;GET&amp;quot;, produces = &amp;quot;application/json&amp;quot;)
    @ApiResponse(code = 200, message = &amp;quot;success&amp;quot;, response = Result.class)
    @ResponseBody
    @RequestMapping(value = &amp;quot;queryUserById&amp;quot;, method = RequestMethod.GET, produces = &amp;quot;application/json&amp;quot;)
    public Result queryUserById(@ApiParam(name = &amp;quot;userId&amp;quot;, required = true, value = &amp;quot;用户Id&amp;quot;) @RequestParam(&amp;quot;userId&amp;quot;) int userId, HttpServletRequest request) {
        User user = new User(userId, &amp;quot;haoyifen&amp;quot;, 24);
        Result result = new Result();
        result.setCode(0);
        result.setData(user);
        result.setMessage(&amp;quot;success&amp;quot;);
        return result;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;MySwaggerConfig.java&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simplest:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Configuration
@EnableSwagger2
public class MySwaggerConfig {
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Resources&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;app-beans.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;
       default-lazy-init=&amp;quot;false&amp;quot;&amp;gt;

    &amp;lt;bean class=&amp;quot;com.ryo.swagger.demo.MySwaggerConfig&amp;quot;/&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;app-mvc.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
       xmlns:mvc=&amp;quot;http://www.springframework.org/schema/mvc&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
	         http://www.springframework.org/schema/beans/spring-beans.xsd
	         http://www.springframework.org/schema/mvc
	         http://www.springframework.org/schema/mvc/spring-mvc.xsd
	         http://www.springframework.org/schema/context
	         http://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;


    &amp;lt;mvc:annotation-driven/&amp;gt;
    &amp;lt;context:component-scan base-package=&amp;quot;com.ryo.swagger.demo&amp;quot;/&amp;gt;
    &amp;lt;mvc:default-servlet-handler/&amp;gt;

    &amp;lt;bean id=&amp;quot;viewResolver&amp;quot; class=&amp;quot;org.springframework.web.servlet.view.InternalResourceViewResolver&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;prefix&amp;quot; value=&amp;quot;/WEB-INF/views/&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;suffix&amp;quot; value=&amp;quot;.ftl&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;app.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;

    &amp;lt;import resource=&amp;quot;app-beans.xml&amp;quot;/&amp;gt;
    &amp;lt;import resource=&amp;quot;app-mvc.xml&amp;quot;/&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;log4j2.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;Configuration status=&amp;quot;off&amp;quot; monitorInterval=&amp;quot;1800&amp;quot;&amp;gt;
    &amp;lt;Appenders&amp;gt;
        &amp;lt;Console name=&amp;quot;Console&amp;quot; target=&amp;quot;SYSTEM_OUT&amp;quot;&amp;gt;
            &amp;lt;PatternLayout pattern=&amp;quot;%d{yyyy-MM-dd HH:mm:ss.SSS}  %-5level [%t] %logger{36}:%L - %msg%n&amp;quot;/&amp;gt;
        &amp;lt;/Console&amp;gt;
    &amp;lt;/Appenders&amp;gt;

    &amp;lt;Loggers&amp;gt;
        &amp;lt;Root level=&amp;quot;INFO&amp;quot;&amp;gt;
            &amp;lt;AppenderRef ref=&amp;quot;Console&amp;quot;/&amp;gt;
        &amp;lt;/Root&amp;gt;
    &amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;`&lt;code&gt;web.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;web-app version=&amp;quot;2.4&amp;quot;
         xmlns=&amp;quot;http://java.sun.com/xml/ns/j2ee&amp;quot;
         xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
         xsi:schemaLocation=&amp;quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&amp;quot;&amp;gt;

    &amp;lt;!--装入spring配置文件--&amp;gt;
    &amp;lt;context-param&amp;gt;
        &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
        &amp;lt;param-value&amp;gt;classpath:app.xml&amp;lt;/param-value&amp;gt;
    &amp;lt;/context-param&amp;gt;

    &amp;lt;!-- 防止发生java.beans.Introspector内存泄露,应将它配置在ContextLoaderListener的前面 --&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-class&amp;gt;org.springframework.web.util.IntrospectorCleanupListener&amp;lt;/listener-class&amp;gt;
    &amp;lt;/listener&amp;gt;

    &amp;lt;!-- 以Listener方式启动spring --&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-class&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-class&amp;gt;
    &amp;lt;/listener&amp;gt;


    &amp;lt;!--编码过滤器--&amp;gt;
    &amp;lt;filter&amp;gt;
        &amp;lt;filter-name&amp;gt;encodingFilter&amp;lt;/filter-name&amp;gt;
        &amp;lt;filter-class&amp;gt;org.springframework.web.filter.CharacterEncodingFilter&amp;lt;/filter-class&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;encoding&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;utf-8&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;forceEncoding&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;true&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
    &amp;lt;/filter&amp;gt;
    &amp;lt;filter-mapping&amp;gt;
        &amp;lt;filter-name&amp;gt;encodingFilter&amp;lt;/filter-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/filter-mapping&amp;gt;

    &amp;lt;!-- 前端控制器的配置 --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;springmvc&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;org.springframework.web.servlet.DispatcherServlet&amp;lt;/servlet-class&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
    &amp;lt;/servlet&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;springmvc&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

&amp;lt;/web-app&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4、Start and visit&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://houbb.github.io/static/app/img/doc/2016-12-25-swagger2-springmvc.png&quot; alt=&quot;swagger2-springmvc&quot; /&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginx</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-12-26-nginx.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#nginx&quot; name=&quot;nginx&quot;&gt;&lt;/a&gt;nginx&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://nginx.org/en/&quot;&gt;nginx&lt;/a&gt; is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server, originally written by Igor Sysoev.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://tengine.taobao.org/&quot;&gt;tengine zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;学习则以 tengine 为主。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#nginx-in-ubuntu&quot; name=&quot;nginx-in-ubuntu&quot;&gt;&lt;/a&gt;Nginx in Ubuntu&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/qq_25689397/article/details/51480006&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;update&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Install openssl&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install openssl
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Install PCRE&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install libpcre3 libpcre3-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Install zlib&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install zlib1g-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Download nginx&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install nginx

$   service nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;config nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果你安装了 Apache ，并且此时 Apache 在运行，那么请先修改一下配置文件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo vim /etc/nginx/sites-available/default
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;修改如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;server {
  #修改这里 我将 80 改为 88
 listen 88 default_server;
  #还有这里 同样改为你想要的监听端口
 listen [::]:88 default_server ipv6only=on;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;Usage&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;# nginx -c /etc/nginx/nginx.conf
关闭 nginx

# nginx -s stop
重读配置文件

# nginx -s reload
# pkill -HUP nginx
重新打开日志文件

# nginx -s reopen
# pkill -USR1 nginx
还可以下载 nginx RPM 包中的 /etc/init.d/nginx 文件，修改路径后即可使用：

# service nginx {start|stop|status|restart|reload|configtest|}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Apache2</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2016-12-31-apache2.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#apache2&quot; name=&quot;apache2&quot;&gt;&lt;/a&gt;Apache2&lt;/h1&gt;
&lt;p&gt;这个故事还是先从删除讲起。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.linuxidc.com/Linux/2013-06/85825.htm&quot;&gt;remove blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://askubuntu.com/questions/629995/apache-not-able-to-restart&quot;&gt;restart&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、Remove apache&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get remove apache2
$   sudo apt-get --purge remove apache2
$   sudo apt-get autoremove apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2、Remove config files&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo find /etc -name &amp;quot;*apache*&amp;quot; |xargs  rm -rf
$   sudo rm -rf /var/www
$   sudo rm -rf /etc/libapache2-mod-jk
$   sudo rm -rf /etc/init.d/apache2
$   sudo rm -rf /etc/apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3、Remove relative&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dpkg -l |grep apache2|awk &amp;#39;{print $2}&amp;#39;|xargs dpkg -P
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Purge is required to remove all the config files - if you delete the config files but only remove the package,&lt;br/&gt;then this is remembered &amp;amp; missing config files are not reinstalled by default.&lt;/p&gt;
&lt;p&gt;4、Reinstall apache&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   sudo apt-get install apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5、Usage&lt;/p&gt;
&lt;p&gt;重启建议使用 &lt;strong&gt;root&lt;/strong&gt; 重启,否则有事会重启失败。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;产生的启动和停止文件是：/etc/init.d/apache2

启动：sudo apache2ctl -k start

停止：sudo apache2ctl -k stop

重新启动：sudo apache2ctl -k restart

配置文件保存在：/etc/apache2
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.blogjava.net/duanzhimin528/archive/2010/03/05/314564.html&quot;&gt;install zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;&lt;a href=&quot;#tips&quot; name=&quot;tips&quot;&gt;&lt;/a&gt;Tips&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;$   sudo service apache2 restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;get an error:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Job for apache2.service failed. See &amp;quot;systemctl status apache2.service&amp;quot; and &amp;quot;journalctl -xe&amp;quot; for details.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;use&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$   apache2ctl configtest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It will highlight the error. Correct it.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;rewrite mode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.111cn.net/phper/apache/54086.htm&quot;&gt;rewrite zh_CN&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo a2enmod rewrite
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;error log&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;/var/log/apache2/error.log
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>FTP</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2017-01-01-ftp.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#ftp&quot; name=&quot;ftp&quot;&gt;&lt;/a&gt;FTP&lt;/h1&gt;
&lt;p&gt;环境: Ubuntu 14.04&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/lidan/archive/2011/11/12/2246507.html&quot;&gt;blog zh_CN&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://www.while0.com/36.html&quot;&gt;ubuntu14.04&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;Install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;全新安装：apt-get install vsftpd
重新安装:apt-get --reinstall install vsftpd
卸载并清除配置文件：apt-get --purge remove vsftpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Start &amp;amp; Restart&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   service vsftpd start
$   service vsftpd restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意:&lt;/p&gt;
&lt;p&gt;网上文章很多有提及&lt;code&gt;/etc/init.d/vsftpd start&lt;/code&gt; 之类的启动方式。但是这个目录下我不存在 vsftpd. 这个目录确实有: &lt;code&gt;/etc/init/vsftpd.conf&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vsftpd 已經進化為 Upstart job
設定檔放在
/etc/init/vsftpd.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Create ftp user&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1.此用户只是用来使用ftp服务的&lt;br/&gt;2.此用户不可登录服务器&lt;br/&gt;3.此用户不能访问ftp指定文件夹之外的文件&lt;/p&gt;
&lt;p&gt;(1) 创建一个用户ftp0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;useradd -d /home/ftp0 -m ftp0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(2) 修改ftp0的密码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;passwd ftp0
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Config &lt;code&gt;/etc/vsftpd.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;anonymous_enable=NO         # 不允许匿名访问
write_enable=YES            # 允许写
local_enable=YES            # 允许本地主机访问
chroot_local_user=YES       # 只能访问自身的目录，此处有坑，需加上下面一行
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;报错误信息:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;“500 OOPS: vsftpd: refusing to run with writable root inside chroot()”
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从2.3.5之后，vsftpd增强了安全检查，如果用户被限定在了其主目录下，则该用户的主目录不能再具有写权限了！如果检查发现还有写权限，就会报该错误。&lt;/p&gt;
&lt;p&gt;(1) 启用了chroot的话，根目录要设置为不可写&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;chmod a-w /home/ftp0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(2) 或者添加一句话&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;allow_writeable_chroot=YES #允许写自身的目录
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可是添加这句话可能会导致服务重启失败。。。&lt;/p&gt;
&lt;p&gt;无奈之下。。。&lt;code&gt;chroot_local_user=YES&lt;/code&gt;这句话暂时不加。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;让用户不能登录&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$   usermod -s /sbin/nologin ftp0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after all these, restart the ftp service:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# service vsftpd restart
vsftpd stop/waiting
vsftpd start/pre-start, process 10305
# service vsftpd status
vsftpd start/running, process 10305
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Test&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# ftp
ftp&amp;gt; open 192.168.2.108
Connected to 192.168.2.108.
220 (vsFTPd 3.0.2)
Name (192.168.2.108:hbb): ftp0
331 Please specify the password.
Password:
530 Login incorrect.
Login failed.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;需要 &lt;code&gt;vi /etc/shells&lt;/code&gt;, 最后一行添加:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/sbin/nologin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;重新测试:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# ftp
ftp&amp;gt; open 192.168.2.108
Connected to 192.168.2.108.
220 (vsFTPd 3.0.2)
Name (192.168.2.108:hbb): ftp0
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;21 端口查看:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;netstat -npltu | grep 21
tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN      11398/vsftpd
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a href=&quot;#ftp-java-code&quot; name=&quot;ftp-java-code&quot;&gt;&lt;/a&gt;Ftp Java code&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Java 测试代码&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;package com.ryo.ftp;

import org.apache.commons.net.ftp.FTPClient;
import org.apache.commons.net.ftp.FTPReply;

import java.io.File;
import java.io.FileInputStream;

/**
 * @author houbinbin
 * @on 17/1/1
 */
public class FTPTest {

    private FTPClient ftp;

    /**
     * @param path     上传到ftp服务器哪个路径下
     * @param addr     地址
     * @param port     端口号
     * @param username 用户名
     * @param password 密码
     * @return
     * @throws Exception
     */
    private boolean connect(String path, String addr, int port, String username, String password) throws Exception {
        boolean result = false;
        ftp = new FTPClient();
        int reply;
        ftp.connect(addr, port);
        ftp.login(username, password);
        ftp.setFileType(FTPClient.BINARY_FILE_TYPE);
        reply = ftp.getReplyCode();
        if (!FTPReply.isPositiveCompletion(reply)) {
            ftp.disconnect();
            return result;
        }
        ftp.changeWorkingDirectory(path);
        result = true;
        return result;
    }

    /**
     * @param file 上传的文件或文件夹
     * @throws Exception
     */
    private void upload(File file) throws Exception {
        if (file.isDirectory()) {
            ftp.makeDirectory(file.getName());
            ftp.changeWorkingDirectory(file.getName());
            String[] files = file.list();
            for (int i = 0; i &amp;lt; files.length; i++) {
                File file1 = new File(file.getPath() + &amp;quot;\\&amp;quot; + files[i]);
                if (file1.isDirectory()) {
                    upload(file1);
                    ftp.changeToParentDirectory();
                } else {
                    File file2 = new File(file.getPath() + &amp;quot;\\&amp;quot; + files[i]);
                    FileInputStream input = new FileInputStream(file2);
                    ftp.storeFile(file2.getName(), input);
                    input.close();
                }
            }
        } else {
            File file2 = new File(file.getPath());
            FileInputStream input = new FileInputStream(file2);
            ftp.storeFile(file2.getName(), input);
            input.close();
        }
    }

    //测试即使指定其他用户的文件夹,还要没有写的权限也无法上传。
    public static void main(String[] args) throws Exception {
        FTPTest t = new FTPTest();
        t.connect(&amp;quot;/home/ftp0/&amp;quot;, &amp;quot;192.168.2.108&amp;quot;, 21, &amp;quot;ftp0&amp;quot;, &amp;quot;123456&amp;quot;);
        File file = new File(&amp;quot;/Users/houbinbin/Downloads/ftptest.txt&amp;quot;);
        t.upload(file);
    }

}
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Gitlab</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2017-01-14-gitlab.md</link>
      <description>&lt;p&gt;个人是个开源主义者。但是有时不是涉及到个人利益而是公司利益时。。。还是选择&lt;code&gt;Gitlab&lt;/code&gt;放一下自己写的小DEMO。&lt;br/&gt;以后将使用自己搭建的 phabricator。&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#gitlab&quot; name=&quot;gitlab&quot;&gt;&lt;/a&gt;Gitlab&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://about.gitlab.com/&quot;&gt;GitLab&lt;/a&gt; unifies issues, code review, CI and CD into a single UI.&lt;/p&gt;
&lt;p&gt;顺便一提,此作者项目管理方面还不错。有时间可以看看。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/huaishu/article/details/50475175&quot;&gt;manage blog&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;&lt;a href=&quot;http://comedsh.iteye.com/blog/2238338&quot;&gt;Group &amp;amp; Project &amp;amp; User&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
  &lt;li&gt;也可以直接使用 github 通过 &lt;code&gt;OAuth&lt;/code&gt; 登录。很方便。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#quick-start&quot; name=&quot;quick-start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;New Group&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;https://gitlab.com/think-less
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;New Project&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;https://gitlab.com/think-less/script-generator.git
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
  &lt;li&gt;Add SSH&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ pwd
/Users/houbinbin/.ssh
$ ls
id_rsa		id_rsa.pub	known_hosts
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;upload &lt;code&gt;id_rsa.pub&lt;/code&gt; will be okay.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Usage&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Command line instructions&lt;/p&gt;
&lt;p&gt;Git global setup&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git config --global user.name &amp;quot;houbb&amp;quot;
git config --global user.email &amp;quot;1060732496@qq.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a new repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@gitlab.com:think-less/script-generator.git
cd script-generator
touch README.md
git add README.md
git commit -m &amp;quot;add README&amp;quot;
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Existing folder or Git repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd existing_folder
git init
git remote add origin git@gitlab.com:think-less/script-generator.git
git add .
git commit
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>RSS</title>
      <link>/Users/houbinbin/IT/code/houbb.github.io/_posts/2017-02-12-rss.md</link>
      <description>&lt;h1&gt;&lt;a href=&quot;#rss&quot; name=&quot;rss&quot;&gt;&lt;/a&gt;RSS&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://www.runoob.com/rss/rss-tutorial.html&quot;&gt;RSS&lt;/a&gt; 指 Really Simple Syndication（真正简易联合）。&lt;/p&gt;
&lt;p&gt;RSS 使您有能力聚合（syndicate）网站的内容&lt;br/&gt;RSS 定义了非常简单的方法来共享和查看标题和内容&lt;br/&gt;RSS 文件可被自动更新&lt;br/&gt;RSS 允许为不同的网站进行视图的个性化&lt;br/&gt;RSS 使用 XML 编写&lt;/p&gt;
&lt;h1&gt;&lt;a href=&quot;#语法&quot; name=&quot;语法&quot;&gt;&lt;/a&gt;语法&lt;/h1&gt;
&lt;p&gt;RSS 2.0 的语法很简单，也很严格。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;RSS 如何工作&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RSS 用于在网站间分享信息。&lt;br/&gt;使用 RSS，您在名为聚合器的公司注册您的内容。&lt;br/&gt;步骤之一是，创建一个 RSS 文档，然后使用 &lt;code&gt;.xml&lt;/code&gt; 后缀来保存它。然后把此文件上传到您的网站。接下来，通过一个 RSS 聚合器来注册。&lt;br/&gt;每天，聚合器都会到被注册的网站搜索 RSS 文档，校验其链接，并显示有关 feed 的信息，这样客户就能够链接到使他们产生兴趣的文档。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;RSS 实例&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RSS 文档使用一种简单的自我描述的语法。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;ISO-8859-1&amp;quot; ?&amp;gt;
&amp;lt;rss version=&amp;quot;2.0&amp;quot;&amp;gt;

&amp;lt;channel&amp;gt;
  &amp;lt;title&amp;gt;W3Schools Home Page&amp;lt;/title&amp;gt;
  &amp;lt;link&amp;gt;http://www.w3schools.com&amp;lt;/link&amp;gt;
  &amp;lt;description&amp;gt;Free web building tutorials&amp;lt;/description&amp;gt;
  &amp;lt;item&amp;gt;
    &amp;lt;title&amp;gt;RSS Tutorial&amp;lt;/title&amp;gt;
    &amp;lt;link&amp;gt;http://www.w3schools.com/rss&amp;lt;/link&amp;gt;
    &amp;lt;description&amp;gt;New RSS tutorial on W3Schools&amp;lt;/description&amp;gt;
  &amp;lt;/item&amp;gt;
  &amp;lt;item&amp;gt;
    &amp;lt;title&amp;gt;XML Tutorial&amp;lt;/title&amp;gt;
    &amp;lt;link&amp;gt;http://www.w3schools.com/xml&amp;lt;/link&amp;gt;
    &amp;lt;description&amp;gt;New XML tutorial on W3Schools&amp;lt;/description&amp;gt;
  &amp;lt;/item&amp;gt;
&amp;lt;/channel&amp;gt;

&amp;lt;/rss&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;文档中的第一行：XML 声明 - 定义了文档中使用的 XML 版本和字符编码。此例子遵守 1.0 规范，并使用 ISO-8859-1 (Latin-1/West European) 字符集。&lt;br/&gt;下一行是标识此文档是一个 RSS 文档的 RSS 声明（此例是 RSS version 2.0）。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;下一行含有 &amp;lt;channel&amp;gt; 元素。此元素用于描述 RSS feed。
&amp;lt;channel&amp;gt; 元素有三个必需的子元素：
&amp;lt;title&amp;gt; - 定义频道的标题。（比如 w3school 首页）
&amp;lt;link&amp;gt; - 定义到达频道的超链接。（比如 www.w3school.com.cn）
&amp;lt;description&amp;gt; - 描述此频道（比如免费的网站建设教程）
每个 &amp;lt;channel&amp;gt; 元素可拥有一个或多个 &amp;lt;item&amp;gt; 元素。
每个 &amp;lt;item&amp;gt; 元素可定义 RSS feed 中的一篇文章或 &amp;quot;story&amp;quot;。
&amp;lt;item&amp;gt; 元素拥有三个必需的子元素：
&amp;lt;title&amp;gt; - 定义项目的标题。（比如 RSS 教程）
&amp;lt;link&amp;gt; - 定义到达项目的超链接。（比如 http://www.w3school.com.cn/rss）
&amp;lt;description&amp;gt; - 描述此项目（比如 w3school 的 RSS 教程）
最后，后面的两行关闭 &amp;lt;channel&amp;gt; 和 &amp;lt;rss&amp;gt; 元素。
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;注释&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在 RSS 中书写注释的语法与 HTML 的语法类似：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- This is an RSS comment --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;因为 RSS 也是 XML，请记住：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  &lt;p&gt;所有的元素必许拥有关闭标签&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;元素对大小写敏感&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;元素必需被正确地嵌套&lt;/p&gt;&lt;/li&gt;
  &lt;li&gt;
  &lt;p&gt;属性值必须带引号&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#rss&quot; name=&quot;rss&quot;&gt;&lt;/a&gt;RSS &lt;code&gt;&amp;lt;channel&amp;gt;&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;元素可描述 RSS feed。&lt;/p&gt;
&lt;p&gt;以下三个元素是必须的子元素:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;title&amp;gt; - 定义频道的标题。（比如 w3school 首页）
&amp;lt;link&amp;gt; - 定义到达频道的超链接。（比如 www.w3school.com.cn）
&amp;lt;description&amp;gt; - 描述此频道（比如免费的网站建设教程）
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;ELEM &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;category&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。为 feed 定义所属的一个或多个种类。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;cloud&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。注册进程，以获得 feed 更新的立即通知。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;copyright&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选。告知版权资料。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;description&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。描述频道。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;docs&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定指向当前 RSS 文件所用格式说明的 URL。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;generator&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定用于生成 feed 的程序。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;image&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。在聚合器呈现某个 feed 时，显示一个图像。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;language&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定编写 feed 所用的语言。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;lastBuildDate&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。定义 feed 内容的最后修改日期。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。定义指向频道的超链接。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;managingEditor&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。定义 feed 内容编辑的电子邮件地址。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;pubDate&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。为 feed 的内容定义最后发布日期。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;rating&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。feed 的 PICS 级别。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;skipDays&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定忽略 feed 更新的天。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;skipHours&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定忽略 feed 更新的小时。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;textInput&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定应当与 feed 一同显示的文本输入域。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。定义频道的标题。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;ttl&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。指定从 feed 源更新此 feed 之前，feed 可被缓存的分钟数。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;webMaster&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。定义此 feed 的 web 管理员的电子邮件地址。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a href=&quot;#rss&quot; name=&quot;rss&quot;&gt;&lt;/a&gt;RSS &lt;code&gt;&amp;lt;item&amp;gt;&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;元素可定义 RSS feed 中的一篇文章或 &amp;ldquo;story&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;以下三个元素是必须的子元素:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;title&amp;gt; - 定义频道的标题。（比如 w3school 首页）
&amp;lt;link&amp;gt; - 定义到达频道的超链接。（比如 www.w3school.com.cn）
&amp;lt;description&amp;gt; - 描述此频道（比如免费的网站建设教程）
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th align=&quot;left&quot;&gt;ELEM &lt;/th&gt;
      &lt;th align=&quot;left&quot;&gt;Desc &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;author&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。规定项目作者的电子邮件地址。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;category&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。定义项目所属的一个或多个类别。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;comments&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。允许项目连接到有关此项目的注释（文件）。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;description&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。描述此项目。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;enclosure&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。允许将一个媒体文件导入一个项中。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;guid&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。为项目定义一个唯一的标识符。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。定义指向此项目的超链接。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;pubDate&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。定义此项目的最后发布日期。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;source&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;可选的。为此项目指定一个第三方来源。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; &lt;/td&gt;
      &lt;td align=&quot;left&quot;&gt;必需的。定义此项目的标题。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</description>
    </item>
  </channel>
</rss>