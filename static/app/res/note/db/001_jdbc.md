# 注册 Jdbc 驱动程序的三种方式




# JDBC 中的 PreparedStatement 相比 Statement 的好处

1) 可以防止 sql 注入。


答:一个 sql 命令发给服务器去执行的步骤为:语法检查,语义分析,编译成内部指令,缓
存指令,执行指令等过程。
select * from student where id =3----缓存--àxxxxx 二进制命令 select * from student where id =3----直接取-àxxxxx 二进制命令 select * from student where id =4--- -à 会怎么干?
如果当初是 select * from student where id =?--- -à 又会怎么干?
上面说的是性能 高    可以防止 sql 注入。



# Class.forName 的作用?为什么要用?

答:按参数中指定的字符串形式的类名去搜索并加载相应的类,如果该类字节码已经被加载 过,则返回代表该字节码的 Class 实例对象,否则,按类加载器的委托机制去搜索和加载该 类,如果所有的类加载器都无法加载到该类,则抛出 ClassNotFoundException。加载完这 个 Class 字节码后,接着就可以使用 Class 字节码的 newInstance 方法去创建该类的实例 对象了。
  有时候,我们程序中所有使用的具体类名在设计时(即开发时)无法确定,只有程序运行时 才能确定,这时候就需要使用 Class.forName 去动态加载该类,这个类名通常是在配置文 件中配置的,例如,spring 的 ioc 中每次依赖注入的具体类就是这样配置的,jdbc 的驱动类 名通常也是通过配置文件来配置的,以便在产品交付使用后不用修改源程序就可以更换驱动 类名。




# 说出数据连接池的工作机制是什么?

  J2EE 服务器启动时会建立一定数量的池连接,并一直维持不少于此数目的池连接。客户端 程序需要连接时,池驱动程序会返回一个未使用的池连接并将其表记为忙。如果当前没有空 闲连接,池驱动程序就新建一定数量的连接,新建连接的数量有配置参数决定。当使用的池 连接调用完成后,池驱动程序将此连接表记为空闲,其他调用就可以使用这个连接。
  实现方式,返回的 Connection 是原始 Connection 的代理,代理 Connection 的 close 方法 不是真正关连接,而是把它代理的 Connection 对象还回到连接池中。


# 为什么要用 ORM? 和 JDBC 有何不一样?

orm 是一种思想,就是把 object 转变成数据库中的记录,或者把数据库中的记录转变成 objecdt,我们可以用 jdbc 来实现这种思想,其实,如果我们的项目是严格按照 oop 方式编 写的话,
我们的 jdbc 程序不管是有意还是无意,就已经在实现 orm 的工作了。

现在有许多 orm 工具,它们底层调用 jdbc 来实现了 orm 工作,我们直接使用这些工具,就 省去了直接使用 jdbc 的繁琐细节, 高了开发效率,现在用的较多的 orm 工具是 hibernate。

也听说一些其他 orm 工具,如 toplink,ojb 等。

